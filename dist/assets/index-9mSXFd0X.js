(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sm={exports:{}},Uo={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var nh=Object.getOwnPropertySymbols,py=Object.prototype.hasOwnProperty,my=Object.prototype.propertyIsEnumerable;function gy(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function vy(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var km=vy()?Object.assign:function(t,e){for(var n,r=gy(t),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var a in n)py.call(n,a)&&(r[a]=n[a]);if(nh){i=nh(n);for(var l=0;l<i.length;l++)my.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},Cm={exports:{}},he={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=km,ui=60103,Am=60106;he.Fragment=60107;he.StrictMode=60108;he.Profiler=60114;var Im=60109,Pm=60110,bm=60112;he.Suspense=60113;var Rm=60115,Dm=60116;if(typeof Symbol=="function"&&Symbol.for){var Ot=Symbol.for;ui=Ot("react.element"),Am=Ot("react.portal"),he.Fragment=Ot("react.fragment"),he.StrictMode=Ot("react.strict_mode"),he.Profiler=Ot("react.profiler"),Im=Ot("react.provider"),Pm=Ot("react.context"),bm=Ot("react.forward_ref"),he.Suspense=Ot("react.suspense"),Rm=Ot("react.memo"),Dm=Ot("react.lazy")}var rh=typeof Symbol=="function"&&Symbol.iterator;function _y(t){return t===null||typeof t!="object"?null:(t=rh&&t[rh]||t["@@iterator"],typeof t=="function"?t:null)}function $o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mm={};function li(t,e,n){this.props=t,this.context=e,this.refs=Mm,this.updater=n||Nm}li.prototype.isReactComponent={};li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error($o(85));this.updater.enqueueSetState(this,t,e,"setState")};li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Om(){}Om.prototype=li.prototype;function Oc(t,e,n){this.props=t,this.context=e,this.refs=Mm,this.updater=n||Nm}var Vc=Oc.prototype=new Om;Vc.constructor=Oc;Mc(Vc,li.prototype);Vc.isPureReactComponent=!0;var Lc={current:null},Vm=Object.prototype.hasOwnProperty,Lm={key:!0,ref:!0,__self:!0,__source:!0};function xm(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Vm.call(e,r)&&!Lm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ui,type:t,key:o,ref:a,props:i,_owner:Lc.current}}function yy(t,e){return{$$typeof:ui,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ui}function wy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ih=/\/+/g;function zu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wy(""+t.key):e.toString(36)}function zs(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ui:case Am:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+zu(a,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(ih,"$&/")+"/"),zs(i,e,n,"",function(h){return h})):i!=null&&(xc(i)&&(i=yy(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ih,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+zu(o,l);a+=zs(o,e,n,c,i)}else if(c=_y(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+zu(o,l++),a+=zs(o,e,n,c,i);else if(o==="object")throw e=""+t,Error($o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function ys(t,e,n){if(t==null)return t;var r=[],i=0;return zs(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Ey(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var jm={current:null};function cn(){var t=jm.current;if(t===null)throw Error($o(321));return t}var Ty={ReactCurrentDispatcher:jm,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Lc,IsSomeRendererActing:{current:!1},assign:Mc};he.Children={map:ys,forEach:function(t,e,n){ys(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ys(t,function(){e++}),e},toArray:function(t){return ys(t,function(e){return e})||[]},only:function(t){if(!xc(t))throw Error($o(143));return t}};he.Component=li;he.PureComponent=Oc;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ty;he.cloneElement=function(t,e,n){if(t==null)throw Error($o(267,t));var r=Mc({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Lc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Vm.call(e,c)&&!Lm.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ui,type:t.type,key:i,ref:o,props:r,_owner:a}};he.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Pm,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Im,_context:t},t.Consumer=t};he.createElement=xm;he.createFactory=function(t){var e=xm.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:bm,render:t}};he.isValidElement=xc;he.lazy=function(t){return{$$typeof:Dm,_payload:{_status:-1,_result:t},_init:Ey}};he.memo=function(t,e){return{$$typeof:Rm,type:t,compare:e===void 0?null:e}};he.useCallback=function(t,e){return cn().useCallback(t,e)};he.useContext=function(t,e){return cn().useContext(t,e)};he.useDebugValue=function(){};he.useEffect=function(t,e){return cn().useEffect(t,e)};he.useImperativeHandle=function(t,e,n){return cn().useImperativeHandle(t,e,n)};he.useLayoutEffect=function(t,e){return cn().useLayoutEffect(t,e)};he.useMemo=function(t,e){return cn().useMemo(t,e)};he.useReducer=function(t,e,n){return cn().useReducer(t,e,n)};he.useRef=function(t){return cn().useRef(t)};he.useState=function(t){return cn().useState(t)};he.version="17.0.2";Cm.exports=he;var Rt=Cm.exports;const Lr=Bo(Rt);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy=Rt,zm=60103;Uo.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var oh=Symbol.for;zm=oh("react.element"),Uo.Fragment=oh("react.fragment")}var ky=Sy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cy=Object.prototype.hasOwnProperty,Ay={key:!0,ref:!0,__self:!0,__source:!0};function Fm(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Cy.call(e,r)&&!Ay.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zm,type:t,key:o,ref:a,props:i,_owner:ky.current}}Uo.jsx=Fm;Uo.jsxs=Fm;Sm.exports=Uo;var ze=Sm.exports,Bm={exports:{}},Dt={},Um={exports:{}},$m={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,h=null,w=function(){if(c!==null)try{var x=t.unstable_now();c(!0,x),c=null}catch(G){throw setTimeout(w,0),G}};e=function(x){c!==null?setTimeout(e,0,x):(c=x,setTimeout(w,0))},n=function(x,G){h=setTimeout(x,G)},r=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var P=window.setTimeout,A=window.clearTimeout;if(typeof console<"u"){var M=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof M!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var O=!1,N=null,C=-1,k=5,I=0;t.unstable_shouldYield=function(){return t.unstable_now()>=I},i=function(){},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<x?Math.floor(1e3/x):5};var D=new MessageChannel,u=D.port2;D.port1.onmessage=function(){if(N!==null){var x=t.unstable_now();I=x+k;try{N(!0,x)?u.postMessage(null):(O=!1,N=null)}catch(G){throw u.postMessage(null),G}}else O=!1},e=function(x){N=x,O||(O=!0,u.postMessage(null))},n=function(x,G){C=P(function(){x(t.unstable_now())},G)},r=function(){A(C),C=-1}}function p(x,G){var Q=x.length;x.push(G);e:for(;;){var oe=Q-1>>>1,ie=x[oe];if(ie!==void 0&&0<g(ie,G))x[oe]=G,x[Q]=ie,Q=oe;else break e}}function f(x){return x=x[0],x===void 0?null:x}function m(x){var G=x[0];if(G!==void 0){var Q=x.pop();if(Q!==G){x[0]=Q;e:for(var oe=0,ie=x.length;oe<ie;){var _e=2*(oe+1)-1,ve=x[_e],H=_e+1,B=x[H];if(ve!==void 0&&0>g(ve,Q))B!==void 0&&0>g(B,ve)?(x[oe]=B,x[H]=Q,oe=H):(x[oe]=ve,x[_e]=Q,oe=_e);else if(B!==void 0&&0>g(B,Q))x[oe]=B,x[H]=Q,oe=H;else break e}}return G}return null}function g(x,G){var Q=x.sortIndex-G.sortIndex;return Q!==0?Q:x.id-G.id}var _=[],y=[],E=1,b=null,T=3,j=!1,F=!1,R=!1;function z(x){for(var G=f(y);G!==null;){if(G.callback===null)m(y);else if(G.startTime<=x)m(y),G.sortIndex=G.expirationTime,p(_,G);else break;G=f(y)}}function K(x){if(R=!1,z(x),!F)if(f(_)!==null)F=!0,e(Y);else{var G=f(y);G!==null&&n(K,G.startTime-x)}}function Y(x,G){F=!1,R&&(R=!1,r()),j=!0;var Q=T;try{for(z(G),b=f(_);b!==null&&(!(b.expirationTime>G)||x&&!t.unstable_shouldYield());){var oe=b.callback;if(typeof oe=="function"){b.callback=null,T=b.priorityLevel;var ie=oe(b.expirationTime<=G);G=t.unstable_now(),typeof ie=="function"?b.callback=ie:b===f(_)&&m(_),z(G)}else m(_);b=f(_)}if(b!==null)var _e=!0;else{var ve=f(y);ve!==null&&n(K,ve.startTime-G),_e=!1}return _e}finally{b=null,T=Q,j=!1}}var le=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){F||j||(F=!0,e(Y))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return f(_)},t.unstable_next=function(x){switch(T){case 1:case 2:case 3:var G=3;break;default:G=T}var Q=T;T=G;try{return x()}finally{T=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=le,t.unstable_runWithPriority=function(x,G){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var Q=T;T=x;try{return G()}finally{T=Q}},t.unstable_scheduleCallback=function(x,G,Q){var oe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,x){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Q+ie,x={id:E++,callback:G,priorityLevel:x,startTime:Q,expirationTime:ie,sortIndex:-1},Q>oe?(x.sortIndex=Q,p(y,x),f(_)===null&&x===f(y)&&(R?r():R=!0,n(K,Q-oe))):(x.sortIndex=ie,p(_,x),F||j||(F=!0,e(Y))),x},t.unstable_wrapCallback=function(x){var G=T;return function(){var Q=T;T=G;try{return x.apply(this,arguments)}finally{T=Q}}}})($m);Um.exports=$m;var Iy=Um.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na=Rt,Ie=km,He=Iy;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Na)throw Error($(227));var Hm=new Set,wo={};function fr(t,e){Jr(t,e),Jr(t+"Capture",e)}function Jr(t,e){for(wo[t]=e,t=0;t<e.length;t++)Hm.add(e[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Py=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sh=Object.prototype.hasOwnProperty,ah={},uh={};function by(t){return sh.call(uh,t)?!0:sh.call(ah,t)?!1:Py.test(t)?uh[t]=!0:(ah[t]=!0,!1)}function Ry(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Dy(t,e,n,r){if(e===null||typeof e>"u"||Ry(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var jc=/[\-:]([a-z])/g;function zc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jc,zc);Xe[e]=new pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jc,zc);Xe[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jc,zc);Xe[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fc(t,e,n,r){var i=Xe.hasOwnProperty(e)?Xe[e]:null,o=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(Dy(e,n,i,r)&&(n=null),r||i===null?by(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hr=Na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gi=60103,Yn=60106,gn=60107,Bc=60108,ro=60114,Uc=60109,$c=60110,Ma=60112,io=60113,ta=60120,Oa=60115,Hc=60116,qc=60121,Wc=60128,qm=60129,Kc=60130,Al=60131;if(typeof Symbol=="function"&&Symbol.for){var Ue=Symbol.for;Gi=Ue("react.element"),Yn=Ue("react.portal"),gn=Ue("react.fragment"),Bc=Ue("react.strict_mode"),ro=Ue("react.profiler"),Uc=Ue("react.provider"),$c=Ue("react.context"),Ma=Ue("react.forward_ref"),io=Ue("react.suspense"),ta=Ue("react.suspense_list"),Oa=Ue("react.memo"),Hc=Ue("react.lazy"),qc=Ue("react.block"),Ue("react.scope"),Wc=Ue("react.opaque.id"),qm=Ue("react.debug_trace_mode"),Kc=Ue("react.offscreen"),Al=Ue("react.legacy_hidden")}var lh=typeof Symbol=="function"&&Symbol.iterator;function Mi(t){return t===null||typeof t!="object"?null:(t=lh&&t[lh]||t["@@iterator"],typeof t=="function"?t:null)}var Fu;function Qi(t){if(Fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fu=e&&e[1]||""}return`
`+Fu+t}var Bu=!1;function ws(t,e){if(!t||Bu)return"";Bu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=l);break}}}finally{Bu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qi(t):""}function Ny(t){switch(t.tag){case 5:return Qi(t.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 2:case 15:return t=ws(t.type,!1),t;case 11:return t=ws(t.type.render,!1),t;case 22:return t=ws(t.type._render,!1),t;case 1:return t=ws(t.type,!0),t;default:return""}}function xr(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gn:return"Fragment";case Yn:return"Portal";case ro:return"Profiler";case Bc:return"StrictMode";case io:return"Suspense";case ta:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $c:return(t.displayName||"Context")+".Consumer";case Uc:return(t._context.displayName||"Context")+".Provider";case Ma:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Oa:return xr(t.type);case qc:return xr(t._render);case Hc:e=t._payload,t=t._init;try{return xr(t(e))}catch{}}return null}function Nn(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Wm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function My(t){var e=Wm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Es(t){t._valueTracker||(t._valueTracker=My(t))}function Km(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Wm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Il(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ch(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gm(t,e){e=e.checked,e!=null&&Fc(t,"checked",e,!1)}function Pl(t,e){Gm(t,e);var n=Nn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&bl(t,e.type,Nn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bl(t,e,n){(e!=="number"||na(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Oy(t){var e="";return Na.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Rl(t,e){return t=Ie({children:void 0},e),(e=Oy(e.children))&&(t.children=e),t}function jr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nn(n)}}function Qm(t,e){var n=Nn(e.value),r=Nn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Nl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ym(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ml(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ym(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ts,Xm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Nl.svg||"innerHTML"in t)t.innerHTML=e;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vy=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(t){Vy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oo[e]=oo[t]})});function Jm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oo.hasOwnProperty(t)&&oo[t]?(""+e).trim():e+"px"}function Zm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ly=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ol(t,e){if(e){if(Ly[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Vl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Gc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ll=null,zr=null,Fr=null;function ph(t){if(t=qo(t)){if(typeof Ll!="function")throw Error($(280));var e=t.stateNode;e&&(e=Fa(e),Ll(t.stateNode,t.type,e))}}function eg(t){zr?Fr?Fr.push(t):Fr=[t]:zr=t}function tg(){if(zr){var t=zr,e=Fr;if(Fr=zr=null,ph(t),e)for(t=0;t<e.length;t++)ph(e[t])}}function Qc(t,e){return t(e)}function ng(t,e,n,r,i){return t(e,n,r,i)}function Yc(){}var rg=Qc,Xn=!1,Uu=!1;function Xc(){(zr!==null||Fr!==null)&&(Yc(),tg())}function xy(t,e,n){if(Uu)return t(e,n);Uu=!0;try{return rg(t,e,n)}finally{Uu=!1,Xc()}}function To(t,e){var n=t.stateNode;if(n===null)return null;var r=Fa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var xl=!1;if(un)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){xl=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{xl=!1}function jy(t,e,n,r,i,o,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(w){this.onError(w)}}var so=!1,ra=null,ia=!1,jl=null,zy={onError:function(t){so=!0,ra=t}};function Fy(t,e,n,r,i,o,a,l,c){so=!1,ra=null,jy.apply(zy,arguments)}function By(t,e,n,r,i,o,a,l,c){if(Fy.apply(this,arguments),so){if(so){var h=ra;so=!1,ra=null}else throw Error($(198));ia||(ia=!0,jl=h)}}function pr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ig(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mh(t){if(pr(t)!==t)throw Error($(188))}function Uy(t){var e=t.alternate;if(!e){if(e=pr(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return mh(i),t;if(o===r)return mh(i),e;o=o.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function og(t){if(t=Uy(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function gh(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var sg,Jc,ag,ug,zl=!1,Ut=[],Tn=null,Sn=null,kn=null,So=new Map,ko=new Map,Vi=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fl(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function _h(t,e){switch(t){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":So.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(e.pointerId)}}function Li(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t=Fl(e,n,r,i,o),e!==null&&(e=qo(e),e!==null&&Jc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $y(t,e,n,r,i){switch(e){case"focusin":return Tn=Li(Tn,t,e,n,r,i),!0;case"dragenter":return Sn=Li(Sn,t,e,n,r,i),!0;case"mouseover":return kn=Li(kn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return So.set(o,Li(So.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ko.set(o,Li(ko.get(o)||null,t,e,n,r,i)),!0}return!1}function Hy(t){var e=Jn(t.target);if(e!==null){var n=pr(e);if(n!==null){if(e=n.tag,e===13){if(e=ig(n),e!==null){t.blockedOn=e,ug(t.lanePriority,function(){He.unstable_runWithPriority(t.priority,function(){ag(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=qo(n),e!==null&&Jc(e),t.blockedOn=n,!1;e.shift()}return!0}function yh(t,e,n){Fs(t)&&n.delete(e)}function qy(){for(zl=!1;0<Ut.length;){var t=Ut[0];if(t.blockedOn!==null){t=qo(t.blockedOn),t!==null&&sg(t);break}for(var e=t.targetContainers;0<e.length;){var n=nd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&Ut.shift()}Tn!==null&&Fs(Tn)&&(Tn=null),Sn!==null&&Fs(Sn)&&(Sn=null),kn!==null&&Fs(kn)&&(kn=null),So.forEach(yh),ko.forEach(yh)}function xi(t,e){t.blockedOn===e&&(t.blockedOn=null,zl||(zl=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,qy)))}function lg(t){function e(i){return xi(i,t)}if(0<Ut.length){xi(Ut[0],t);for(var n=1;n<Ut.length;n++){var r=Ut[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tn!==null&&xi(Tn,t),Sn!==null&&xi(Sn,t),kn!==null&&xi(kn,t),So.forEach(e),ko.forEach(e),n=0;n<Vi.length;n++)r=Vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)Hy(n),n.blockedOn===null&&Vi.shift()}function Ss(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pr={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},$u={},cg={};un&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Va(t){if($u[t])return $u[t];if(!Pr[t])return t;var e=Pr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cg)return $u[t]=e[n];return t}var dg=Va("animationend"),fg=Va("animationiteration"),hg=Va("animationstart"),pg=Va("transitionend"),mg=new Map,Zc=new Map,Wy=["abort","abort",dg,"animationEnd",fg,"animationIteration",hg,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",pg,"transitionEnd","waiting","waiting"];function ed(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Zc.set(r,e),mg.set(r,i),fr(i,[r])}}var Ky=He.unstable_now;Ky();var Te=8;function Sr(t){if(1&t)return Te=15,1;if(2&t)return Te=14,2;if(4&t)return Te=13,4;var e=24&t;return e!==0?(Te=12,e):t&32?(Te=11,32):(e=192&t,e!==0?(Te=10,e):t&256?(Te=9,256):(e=3584&t,e!==0?(Te=8,e):t&4096?(Te=7,4096):(e=4186112&t,e!==0?(Te=6,e):(e=62914560&t,e!==0?(Te=5,e):t&67108864?(Te=4,67108864):t&134217728?(Te=3,134217728):(e=805306368&t,e!==0?(Te=2,e):1073741824&t?(Te=1,1073741824):(Te=8,t))))))}function Gy(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Qy(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error($(358,t))}}function Co(t,e){var n=t.pendingLanes;if(n===0)return Te=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,l=t.pingedLanes;if(o!==0)r=o,i=Te=15;else if(o=n&134217727,o!==0){var c=o&~a;c!==0?(r=Sr(c),i=Te):(l&=o,l!==0&&(r=Sr(l),i=Te))}else o=n&~a,o!==0?(r=Sr(o),i=Te):l!==0&&(r=Sr(l),i=Te);if(r===0)return 0;if(r=31-Mn(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&a)){if(Sr(e),i<=Te)return e;Te=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mn(e),i=1<<n,r|=t[n],e&=~i;return r}function gg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oa(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=kr(24&~e),t===0?oa(10,e):t;case 10:return t=kr(192&~e),t===0?oa(8,e):t;case 8:return t=kr(3584&~e),t===0&&(t=kr(4186112&~e),t===0&&(t=512)),t;case 2:return e=kr(805306368&~e),e===0&&(e=268435456),e}throw Error($(358,t))}function kr(t){return t&-t}function Hu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function La(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Mn(e),t[e]=n}var Mn=Math.clz32?Math.clz32:Jy,Yy=Math.log,Xy=Math.LN2;function Jy(t){return t===0?32:31-(Yy(t)/Xy|0)|0}var Zy=He.unstable_UserBlockingPriority,e0=He.unstable_runWithPriority,Bs=!0;function t0(t,e,n,r){Xn||Yc();var i=td,o=Xn;Xn=!0;try{ng(i,t,e,n,r)}finally{(Xn=o)||Xc()}}function n0(t,e,n,r){e0(Zy,td.bind(null,t,e,n,r))}function td(t,e,n,r){if(Bs){var i;if((i=(e&4)===0)&&0<Ut.length&&-1<vh.indexOf(t))t=Fl(null,t,e,n,r),Ut.push(t);else{var o=nd(t,e,n,r);if(o===null)i&&_h(t,r);else{if(i){if(-1<vh.indexOf(t)){t=Fl(o,t,e,n,r),Ut.push(t);return}if($y(o,t,e,n,r))return;_h(t,r)}Pg(t,e,r,null,n)}}}}function nd(t,e,n,r){var i=Gc(r);if(i=Jn(i),i!==null){var o=pr(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=ig(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pg(t,e,r,i,n),null}var vn=null,rd=null,Us=null;function vg(){if(Us)return Us;var t,e=rd,n=e.length,r,i="value"in vn?vn.value:vn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Us=i.slice(t,1<r?1-r:void 0)}function $s(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ks(){return!0}function wh(){return!1}function St(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ks:wh,this.isPropagationStopped=wh,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),e}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=St(ci),Ho=Ie({},ci,{view:0,detail:0}),r0=St(Ho),qu,Wu,ji,xa=Ie({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(qu=t.screenX-ji.screenX,Wu=t.screenY-ji.screenY):Wu=qu=0,ji=t),qu)},movementY:function(t){return"movementY"in t?t.movementY:Wu}}),Eh=St(xa),i0=Ie({},xa,{dataTransfer:0}),o0=St(i0),s0=Ie({},Ho,{relatedTarget:0}),Ku=St(s0),a0=Ie({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),u0=St(a0),l0=Ie({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c0=St(l0),d0=Ie({},ci,{data:0}),Th=St(d0),f0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p0[t])?!!e[t]:!1}function od(){return m0}var g0=Ie({},Ho,{key:function(t){if(t.key){var e=f0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(t){return t.type==="keypress"?$s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v0=St(g0),_0=Ie({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=St(_0),y0=Ie({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),w0=St(y0),E0=Ie({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),T0=St(E0),S0=Ie({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k0=St(S0),C0=[9,13,27,32],sd=un&&"CompositionEvent"in window,ao=null;un&&"documentMode"in document&&(ao=document.documentMode);var A0=un&&"TextEvent"in window&&!ao,_g=un&&(!sd||ao&&8<ao&&11>=ao),kh=" ",Ch=!1;function yg(t,e){switch(t){case"keyup":return C0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function I0(t,e){switch(t){case"compositionend":return wg(e);case"keypress":return e.which!==32?null:(Ch=!0,kh);case"textInput":return t=e.data,t===kh&&Ch?null:t;default:return null}}function P0(t,e){if(br)return t==="compositionend"||!sd&&yg(t,e)?(t=vg(),Us=rd=vn=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _g&&e.locale!=="ko"?null:e.data;default:return null}}var b0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b0[t.type]:e==="textarea"}function Eg(t,e,n,r){eg(r),e=sa(e,"onChange"),0<e.length&&(n=new id("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uo=null,Ao=null;function R0(t){Cg(t,0)}function ja(t){var e=Dr(t);if(Km(e))return t}function D0(t,e){if(t==="change")return e}var Tg=!1;if(un){var Gu;if(un){var Qu="oninput"in document;if(!Qu){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),Qu=typeof Ih.oninput=="function"}Gu=Qu}else Gu=!1;Tg=Gu&&(!document.documentMode||9<document.documentMode)}function Ph(){uo&&(uo.detachEvent("onpropertychange",Sg),Ao=uo=null)}function Sg(t){if(t.propertyName==="value"&&ja(Ao)){var e=[];if(Eg(e,Ao,t,Gc(t)),t=R0,Xn)t(e);else{Xn=!0;try{Qc(t,e)}finally{Xn=!1,Xc()}}}}function N0(t,e,n){t==="focusin"?(Ph(),uo=e,Ao=n,uo.attachEvent("onpropertychange",Sg)):t==="focusout"&&Ph()}function M0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ja(Ao)}function O0(t,e){if(t==="click")return ja(e)}function V0(t,e){if(t==="input"||t==="change")return ja(e)}function L0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ct=typeof Object.is=="function"?Object.is:L0,x0=Object.prototype.hasOwnProperty;function Io(t,e){if(Ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!x0.call(e,n[r])||!Ct(t[n[r]],e[n[r]]))return!1;return!0}function bh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rh(t,e){var n=bh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bh(n)}}function kg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dh(){for(var t=window,e=na();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=na(t.document)}return e}function Bl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var j0=un&&"documentMode"in document&&11>=document.documentMode,Rr=null,Ul=null,lo=null,$l=!1;function Nh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$l||Rr==null||Rr!==na(r)||(r=Rr,"selectionStart"in r&&Bl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lo&&Io(lo,r)||(lo=r,r=sa(Ul,"onSelect"),0<r.length&&(e=new id("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rr)))}ed("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);ed("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);ed(Wy,2);for(var Mh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Yu=0;Yu<Mh.length;Yu++)Zc.set(Mh[Yu],0);Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yi));function Oh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,By(r,e,void 0,t),t.currentTarget=null}function Cg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==o&&i.isPropagationStopped())break e;Oh(i,l,h),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==o&&i.isPropagationStopped())break e;Oh(i,l,h),o=c}}}if(ia)throw t=jl,ia=!1,jl=null,t}function Ce(t,e){var n=Rg(e),r=t+"__bubble";n.has(r)||(Ig(e,t,2,!1),n.add(r))}var Vh="_reactListening"+Math.random().toString(36).slice(2);function Ag(t){t[Vh]||(t[Vh]=!0,Hm.forEach(function(e){z0.has(e)||Lh(e,!1,t,null),Lh(e,!0,t,null)}))}function Lh(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=n;t==="selectionchange"&&n.nodeType!==9&&(o=n.ownerDocument);var a=Rg(o),l=t+"__"+(e?"capture":"bubble");a.has(l)||(e&&(i|=4),Ig(o,t,i,e),a.add(l))}function Ig(t,e,n,r){var i=Zc.get(e);switch(i===void 0?2:i){case 0:i=t0;break;case 1:i=n0;break;default:i=td}n=i.bind(null,e,n,t),i=void 0,!xl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Jn(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}xy(function(){var h=o,w=Gc(n),P=[];e:{var A=mg.get(t);if(A!==void 0){var M=id,O=t;switch(t){case"keypress":if($s(n)===0)break e;case"keydown":case"keyup":M=v0;break;case"focusin":O="focus",M=Ku;break;case"focusout":O="blur",M=Ku;break;case"beforeblur":case"afterblur":M=Ku;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=o0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=w0;break;case dg:case fg:case hg:M=u0;break;case pg:M=T0;break;case"scroll":M=r0;break;case"wheel":M=k0;break;case"copy":case"cut":case"paste":M=c0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Sh}var N=(e&4)!==0,C=!N&&t==="scroll",k=N?A!==null?A+"Capture":null:A;N=[];for(var I=h,D;I!==null;){D=I;var u=D.stateNode;if(D.tag===5&&u!==null&&(D=u,k!==null&&(u=To(I,k),u!=null&&N.push(Po(I,u,D)))),C)break;I=I.return}0<N.length&&(A=new M(A,O,null,n,w),P.push({event:A,listeners:N}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",M=t==="mouseout"||t==="pointerout",A&&!(e&16)&&(O=n.relatedTarget||n.fromElement)&&(Jn(O)||O[di]))break e;if((M||A)&&(A=w.window===w?w:(A=w.ownerDocument)?A.defaultView||A.parentWindow:window,M?(O=n.relatedTarget||n.toElement,M=h,O=O?Jn(O):null,O!==null&&(C=pr(O),O!==C||O.tag!==5&&O.tag!==6)&&(O=null)):(M=null,O=h),M!==O)){if(N=Eh,u="onMouseLeave",k="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(N=Sh,u="onPointerLeave",k="onPointerEnter",I="pointer"),C=M==null?A:Dr(M),D=O==null?A:Dr(O),A=new N(u,I+"leave",M,n,w),A.target=C,A.relatedTarget=D,u=null,Jn(w)===h&&(N=new N(k,I+"enter",O,n,w),N.target=D,N.relatedTarget=C,u=N),C=u,M&&O)t:{for(N=M,k=O,I=0,D=N;D;D=Tr(D))I++;for(D=0,u=k;u;u=Tr(u))D++;for(;0<I-D;)N=Tr(N),I--;for(;0<D-I;)k=Tr(k),D--;for(;I--;){if(N===k||k!==null&&N===k.alternate)break t;N=Tr(N),k=Tr(k)}N=null}else N=null;M!==null&&xh(P,A,M,N,!1),O!==null&&C!==null&&xh(P,C,O,N,!0)}}e:{if(A=h?Dr(h):window,M=A.nodeName&&A.nodeName.toLowerCase(),M==="select"||M==="input"&&A.type==="file")var p=D0;else if(Ah(A))if(Tg)p=V0;else{p=M0;var f=N0}else(M=A.nodeName)&&M.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(p=O0);if(p&&(p=p(t,h))){Eg(P,p,n,w);break e}f&&f(t,A,h),t==="focusout"&&(f=A._wrapperState)&&f.controlled&&A.type==="number"&&bl(A,"number",A.value)}switch(f=h?Dr(h):window,t){case"focusin":(Ah(f)||f.contentEditable==="true")&&(Rr=f,Ul=h,lo=null);break;case"focusout":lo=Ul=Rr=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,Nh(P,n,w);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":Nh(P,n,w)}var m;if(sd)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else br?yg(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(_g&&n.locale!=="ko"&&(br||g!=="onCompositionStart"?g==="onCompositionEnd"&&br&&(m=vg()):(vn=w,rd="value"in vn?vn.value:vn.textContent,br=!0)),f=sa(h,g),0<f.length&&(g=new Th(g,t,null,n,w),P.push({event:g,listeners:f}),m?g.data=m:(m=wg(n),m!==null&&(g.data=m)))),(m=A0?I0(t,n):P0(t,n))&&(h=sa(h,"onBeforeInput"),0<h.length&&(w=new Th("onBeforeInput","beforeinput",null,n,w),P.push({event:w,listeners:h}),w.data=m))}Cg(P,e)})}function Po(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=To(t,n),o!=null&&r.unshift(Po(t,o,i)),o=To(t,e),o!=null&&r.push(Po(t,o,i))),t=t.return}return r}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xh(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=To(n,o),c!=null&&a.unshift(Po(n,c,l))):i||(c=To(n,o),c!=null&&a.push(Po(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}function aa(){}var Xu=null,Ju=null;function bg(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Hl(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,F0=typeof clearTimeout=="function"?clearTimeout:void 0;function ad(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function zh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zu=0;function B0(t){return{$$typeof:Wc,toString:t,valueOf:t}}var za=Math.random().toString(36).slice(2),_n="__reactFiber$"+za,ua="__reactProps$"+za,di="__reactContainer$"+za,Fh="__reactEvents$"+za;function Jn(t){var e=t[_n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[_n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zh(t);t!==null;){if(n=t[_n])return n;t=zh(t)}return e}t=n,n=t.parentNode}return null}function qo(t){return t=t[_n]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Dr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Fa(t){return t[ua]||null}function Rg(t){var e=t[Fh];return e===void 0&&(e=t[Fh]=new Set),e}var ql=[],Nr=-1;function Fn(t){return{current:t}}function Ae(t){0>Nr||(t.current=ql[Nr],ql[Nr]=null,Nr--)}function De(t,e){Nr++,ql[Nr]=t.current,t.current=e}var On={},ut=Fn(On),vt=Fn(!1),or=On;function Zr(t,e){var n=t.type.contextTypes;if(!n)return On;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _t(t){return t=t.childContextTypes,t!=null}function la(){Ae(vt),Ae(ut)}function Bh(t,e,n){if(ut.current!==On)throw Error($(168));De(ut,e),De(vt,n)}function Dg(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($(108,xr(e)||"Unknown",i));return Ie({},n,r)}function Hs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,or=ut.current,De(ut,t),De(vt,vt.current),!0}function Uh(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Dg(t,e,or),r.__reactInternalMemoizedMergedChildContext=t,Ae(vt),Ae(ut),De(ut,t)):Ae(vt),De(vt,n)}var ud=null,nr=null,U0=He.unstable_runWithPriority,ld=He.unstable_scheduleCallback,Wl=He.unstable_cancelCallback,$0=He.unstable_shouldYield,$h=He.unstable_requestPaint,Kl=He.unstable_now,H0=He.unstable_getCurrentPriorityLevel,Ba=He.unstable_ImmediatePriority,Ng=He.unstable_UserBlockingPriority,Mg=He.unstable_NormalPriority,Og=He.unstable_LowPriority,Vg=He.unstable_IdlePriority,el={},q0=$h!==void 0?$h:function(){},nn=null,qs=null,tl=!1,Hh=Kl(),st=1e4>Hh?Kl:function(){return Kl()-Hh};function ei(){switch(H0()){case Ba:return 99;case Ng:return 98;case Mg:return 97;case Og:return 96;case Vg:return 95;default:throw Error($(332))}}function Lg(t){switch(t){case 99:return Ba;case 98:return Ng;case 97:return Mg;case 96:return Og;case 95:return Vg;default:throw Error($(332))}}function sr(t,e){return t=Lg(t),U0(t,e)}function bo(t,e,n){return t=Lg(t),ld(t,e,n)}function Xt(){if(qs!==null){var t=qs;qs=null,Wl(t)}xg()}function xg(){if(!tl&&nn!==null){tl=!0;var t=0;try{var e=nn;sr(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),nn=null}catch(n){throw nn!==null&&(nn=nn.slice(t+1)),ld(Ba,Xt),n}finally{tl=!1}}}var W0=hr.ReactCurrentBatchConfig;function zt(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ca=Fn(null),da=null,Mr=null,fa=null;function cd(){fa=Mr=da=null}function dd(t){var e=ca.current;Ae(ca),t.type._context._currentValue=e}function jg(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Ur(t,e){da=t,fa=Mr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function Pt(t,e){if(fa!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(fa=t,e=1073741823),e={context:t,observedBits:e,next:null},Mr===null){if(da===null)throw Error($(308));Mr=e,da.dependencies={lanes:0,firstContext:e,responders:null}}else Mr=Mr.next=e;return t._currentValue}var mn=!1;function fd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function zg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function An(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function qh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ro(t,e,n,r){var i=t.updateQueue;mn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?o=h:a.next=h,a=c;var w=t.alternate;if(w!==null){w=w.updateQueue;var P=w.lastBaseUpdate;P!==a&&(P===null?w.firstBaseUpdate=h:P.next=h,w.lastBaseUpdate=c)}}if(o!==null){P=i.baseState,a=0,w=h=c=null;do{l=o.lane;var A=o.eventTime;if((r&l)===l){w!==null&&(w=w.next={eventTime:A,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var M=t,O=o;switch(l=e,A=n,O.tag){case 1:if(M=O.payload,typeof M=="function"){P=M.call(A,P,l);break e}P=M;break e;case 3:M.flags=M.flags&-4097|64;case 0:if(M=O.payload,l=typeof M=="function"?M.call(A,P,l):M,l==null)break e;P=Ie({},P,l);break e;case 2:mn=!0}}o.callback!==null&&(t.flags|=32,l=i.effects,l===null?i.effects=[o]:l.push(o))}else A={eventTime:A,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},w===null?(h=w=A,c=P):w=w.next=A,a|=l;if(o=o.next,o===null){if(l=i.shared.pending,l===null)break;o=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(!0);w===null&&(c=P),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=w,Ko|=a,t.lanes=a,t.memoizedState=P}}function Wh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Fg=new Na.Component().refs;function ha(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ua={isMounted:function(t){return(t=t._reactInternals)?pr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tt(),i=In(t),o=Cn(r,i);o.payload=e,n!=null&&(o.callback=n),An(t,o),Pn(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tt(),i=In(t),o=Cn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),An(t,o),Pn(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tt(),r=In(t),i=Cn(n,r);i.tag=2,e!=null&&(i.callback=e),An(t,i),Pn(t,r,n)}};function Kh(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Io(n,r)||!Io(i,o):!0}function Bg(t,e,n){var r=!1,i=On,o=e.contextType;return typeof o=="object"&&o!==null?o=Pt(o):(i=_t(e)?or:ut.current,r=e.contextTypes,o=(r=r!=null)?Zr(t,i):On),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ua,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Gh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ua.enqueueReplaceState(e,e.state,null)}function Gl(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Fg,fd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pt(o):(o=_t(e)?or:ut.current,i.context=Zr(t,o)),Ro(t,n,i,r),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ha(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Ro(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Cs=Array.isArray;function zi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;a===Fg&&(a=r.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function As(t,e){if(t.type!=="textarea")throw Error($(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Ug(t){function e(C,k){if(t){var I=C.lastEffect;I!==null?(I.nextEffect=k,C.lastEffect=k):C.firstEffect=C.lastEffect=k,k.nextEffect=null,k.flags=8}}function n(C,k){if(!t)return null;for(;k!==null;)e(C,k),k=k.sibling;return null}function r(C,k){for(C=new Map;k!==null;)k.key!==null?C.set(k.key,k):C.set(k.index,k),k=k.sibling;return C}function i(C,k){return C=Ln(C,k),C.index=0,C.sibling=null,C}function o(C,k,I){return C.index=I,t?(I=C.alternate,I!==null?(I=I.index,I<k?(C.flags=2,k):I):(C.flags=2,k)):k}function a(C){return t&&C.alternate===null&&(C.flags=2),C}function l(C,k,I,D){return k===null||k.tag!==6?(k=sl(I,C.mode,D),k.return=C,k):(k=i(k,I),k.return=C,k)}function c(C,k,I,D){return k!==null&&k.elementType===I.type?(D=i(k,I.props),D.ref=zi(C,k,I),D.return=C,D):(D=Qs(I.type,I.key,I.props,null,C.mode,D),D.ref=zi(C,k,I),D.return=C,D)}function h(C,k,I,D){return k===null||k.tag!==4||k.stateNode.containerInfo!==I.containerInfo||k.stateNode.implementation!==I.implementation?(k=al(I,C.mode,D),k.return=C,k):(k=i(k,I.children||[]),k.return=C,k)}function w(C,k,I,D,u){return k===null||k.tag!==7?(k=Wr(I,C.mode,D,u),k.return=C,k):(k=i(k,I),k.return=C,k)}function P(C,k,I){if(typeof k=="string"||typeof k=="number")return k=sl(""+k,C.mode,I),k.return=C,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gi:return I=Qs(k.type,k.key,k.props,null,C.mode,I),I.ref=zi(C,null,k),I.return=C,I;case Yn:return k=al(k,C.mode,I),k.return=C,k}if(Cs(k)||Mi(k))return k=Wr(k,C.mode,I,null),k.return=C,k;As(C,k)}return null}function A(C,k,I,D){var u=k!==null?k.key:null;if(typeof I=="string"||typeof I=="number")return u!==null?null:l(C,k,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Gi:return I.key===u?I.type===gn?w(C,k,I.props.children,D,u):c(C,k,I,D):null;case Yn:return I.key===u?h(C,k,I,D):null}if(Cs(I)||Mi(I))return u!==null?null:w(C,k,I,D,null);As(C,I)}return null}function M(C,k,I,D,u){if(typeof D=="string"||typeof D=="number")return C=C.get(I)||null,l(k,C,""+D,u);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Gi:return C=C.get(D.key===null?I:D.key)||null,D.type===gn?w(k,C,D.props.children,u,D.key):c(k,C,D,u);case Yn:return C=C.get(D.key===null?I:D.key)||null,h(k,C,D,u)}if(Cs(D)||Mi(D))return C=C.get(I)||null,w(k,C,D,u,null);As(k,D)}return null}function O(C,k,I,D){for(var u=null,p=null,f=k,m=k=0,g=null;f!==null&&m<I.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var _=A(C,f,I[m],D);if(_===null){f===null&&(f=g);break}t&&f&&_.alternate===null&&e(C,f),k=o(_,k,m),p===null?u=_:p.sibling=_,p=_,f=g}if(m===I.length)return n(C,f),u;if(f===null){for(;m<I.length;m++)f=P(C,I[m],D),f!==null&&(k=o(f,k,m),p===null?u=f:p.sibling=f,p=f);return u}for(f=r(C,f);m<I.length;m++)g=M(f,C,m,I[m],D),g!==null&&(t&&g.alternate!==null&&f.delete(g.key===null?m:g.key),k=o(g,k,m),p===null?u=g:p.sibling=g,p=g);return t&&f.forEach(function(y){return e(C,y)}),u}function N(C,k,I,D){var u=Mi(I);if(typeof u!="function")throw Error($(150));if(I=u.call(I),I==null)throw Error($(151));for(var p=u=null,f=k,m=k=0,g=null,_=I.next();f!==null&&!_.done;m++,_=I.next()){f.index>m?(g=f,f=null):g=f.sibling;var y=A(C,f,_.value,D);if(y===null){f===null&&(f=g);break}t&&f&&y.alternate===null&&e(C,f),k=o(y,k,m),p===null?u=y:p.sibling=y,p=y,f=g}if(_.done)return n(C,f),u;if(f===null){for(;!_.done;m++,_=I.next())_=P(C,_.value,D),_!==null&&(k=o(_,k,m),p===null?u=_:p.sibling=_,p=_);return u}for(f=r(C,f);!_.done;m++,_=I.next())_=M(f,C,m,_.value,D),_!==null&&(t&&_.alternate!==null&&f.delete(_.key===null?m:_.key),k=o(_,k,m),p===null?u=_:p.sibling=_,p=_);return t&&f.forEach(function(E){return e(C,E)}),u}return function(C,k,I,D){var u=typeof I=="object"&&I!==null&&I.type===gn&&I.key===null;u&&(I=I.props.children);var p=typeof I=="object"&&I!==null;if(p)switch(I.$$typeof){case Gi:e:{for(p=I.key,u=k;u!==null;){if(u.key===p){switch(u.tag){case 7:if(I.type===gn){n(C,u.sibling),k=i(u,I.props.children),k.return=C,C=k;break e}break;default:if(u.elementType===I.type){n(C,u.sibling),k=i(u,I.props),k.ref=zi(C,u,I),k.return=C,C=k;break e}}n(C,u);break}else e(C,u);u=u.sibling}I.type===gn?(k=Wr(I.props.children,C.mode,D,I.key),k.return=C,C=k):(D=Qs(I.type,I.key,I.props,null,C.mode,D),D.ref=zi(C,k,I),D.return=C,C=D)}return a(C);case Yn:e:{for(u=I.key;k!==null;){if(k.key===u)if(k.tag===4&&k.stateNode.containerInfo===I.containerInfo&&k.stateNode.implementation===I.implementation){n(C,k.sibling),k=i(k,I.children||[]),k.return=C,C=k;break e}else{n(C,k);break}else e(C,k);k=k.sibling}k=al(I,C.mode,D),k.return=C,C=k}return a(C)}if(typeof I=="string"||typeof I=="number")return I=""+I,k!==null&&k.tag===6?(n(C,k.sibling),k=i(k,I),k.return=C,C=k):(n(C,k),k=sl(I,C.mode,D),k.return=C,C=k),a(C);if(Cs(I))return O(C,k,I,D);if(Mi(I))return N(C,k,I,D);if(p&&As(C,I),typeof I>"u"&&!u)switch(C.tag){case 1:case 22:case 0:case 11:case 15:throw Error($(152,xr(C.type)||"Component"))}return n(C,k)}}var pa=Ug(!0),$g=Ug(!1),Wo={},qt=Fn(Wo),Do=Fn(Wo),No=Fn(Wo);function Zn(t){if(t===Wo)throw Error($(174));return t}function Ql(t,e){switch(De(No,e),De(Do,t),De(qt,Wo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ml(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ml(e,t)}Ae(qt),De(qt,e)}function ti(){Ae(qt),Ae(Do),Ae(No)}function Qh(t){Zn(No.current);var e=Zn(qt.current),n=Ml(e,t.type);e!==n&&(De(Do,t),De(qt,n))}function hd(t){Do.current===t&&(Ae(qt),Ae(Do))}var be=Fn(0);function ma(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var on=null,yn=null,Wt=!1;function Hg(t,e){var n=At(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Yh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Yl(t){if(Wt){var e=yn;if(e){var n=e;if(!Yh(t,e)){if(e=Br(n.nextSibling),!e||!Yh(t,e)){t.flags=t.flags&-1025|2,Wt=!1,on=t;return}Hg(on,n)}on=t,yn=Br(e.firstChild)}else t.flags=t.flags&-1025|2,Wt=!1,on=t}}function Xh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function Is(t){if(t!==on)return!1;if(!Wt)return Xh(t),Wt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Hl(e,t.memoizedProps))for(e=yn;e;)Hg(t,e),e=Br(e.nextSibling);if(Xh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=on?Br(t.stateNode.nextSibling):null;return!0}function nl(){yn=on=null,Wt=!1}var $r=[];function pd(){for(var t=0;t<$r.length;t++)$r[t]._workInProgressVersionPrimary=null;$r.length=0}var co=hr.ReactCurrentDispatcher,It=hr.ReactCurrentBatchConfig,Mo=0,Me=null,rt=null,Ke=null,ga=!1,fo=!1;function mt(){throw Error($(321))}function md(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ct(t[n],e[n]))return!1;return!0}function gd(t,e,n,r,i,o){if(Mo=o,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,co.current=t===null||t.memoizedState===null?G0:Q0,t=n(r,i),fo){o=0;do{if(fo=!1,!(25>o))throw Error($(301));o+=1,Ke=rt=null,e.updateQueue=null,co.current=Y0,t=n(r,i)}while(fo)}if(co.current=wa,e=rt!==null&&rt.next!==null,Mo=0,Ke=rt=Me=null,ga=!1,e)throw Error($(300));return t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Me.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function mr(){if(rt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=Ke===null?Me.memoizedState:Ke.next;if(e!==null)Ke=e,rt=t;else{if(t===null)throw Error($(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Ke===null?Me.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function $t(t,e){return typeof e=="function"?e(t):e}function Fi(t){var e=mr(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=a=o=null,c=i;do{var h=c.lane;if((Mo&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var w={lane:h,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(a=l=w,o=r):l=l.next=w,Me.lanes|=h,Ko|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ct(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Bi(t){var e=mr(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Ct(o,e.memoizedState)||(Ft=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Jh(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Mo&t)===t)&&(e._workInProgressVersionPrimary=r,$r.push(e))),t)return n(e._source);throw $r.push(e),Error($(350))}function qg(t,e,n,r){var i=ht;if(i===null)throw Error($(349));var o=e._getVersion,a=o(e._source),l=co.current,c=l.useState(function(){return Jh(i,e,n)}),h=c[1],w=c[0];c=Ke;var P=t.memoizedState,A=P.refs,M=A.getSnapshot,O=P.source;P=P.subscribe;var N=Me;return t.memoizedState={refs:A,source:e,subscribe:r},l.useEffect(function(){A.getSnapshot=n,A.setSnapshot=h;var C=o(e._source);if(!Ct(a,C)){C=n(e._source),Ct(w,C)||(h(C),C=In(N),i.mutableReadLanes|=C&i.pendingLanes),C=i.mutableReadLanes,i.entangledLanes|=C;for(var k=i.entanglements,I=C;0<I;){var D=31-Mn(I),u=1<<D;k[D]|=C,I&=~u}}},[n,e,r]),l.useEffect(function(){return r(e._source,function(){var C=A.getSnapshot,k=A.setSnapshot;try{k(C(e._source));var I=In(N);i.mutableReadLanes|=I&i.pendingLanes}catch(D){k(function(){throw D})}})},[e,r]),Ct(M,n)&&Ct(O,e)&&Ct(P,r)||(t={pending:null,dispatch:null,lastRenderedReducer:$t,lastRenderedState:w},t.dispatch=h=yd.bind(null,Me,t),c.queue=t,c.baseQueue=null,w=Jh(i,e,n),c.memoizedState=c.baseState=w),w}function Wg(t,e,n){var r=mr();return qg(r,t,e,n)}function Ui(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:$t,lastRenderedState:t},t=t.dispatch=yd.bind(null,Me,t),[e.memoizedState,t]}function va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zh(t){var e=er();return t={current:t},e.memoizedState=t}function _a(){return mr().memoizedState}function Xl(t,e,n,r){var i=er();Me.flags|=t,i.memoizedState=va(1|e,n,void 0,r===void 0?null:r)}function vd(t,e,n,r){var i=mr();r=r===void 0?null:r;var o=void 0;if(rt!==null){var a=rt.memoizedState;if(o=a.destroy,r!==null&&md(r,a.deps)){va(e,n,o,r);return}}Me.flags|=t,i.memoizedState=va(1|e,n,o,r)}function ep(t,e){return Xl(516,4,t,e)}function ya(t,e){return vd(516,4,t,e)}function Kg(t,e){return vd(4,2,t,e)}function Gg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qg(t,e,n){return n=n!=null?n.concat([t]):null,vd(4,2,Gg.bind(null,e,t),n)}function _d(){}function Yg(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&md(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xg(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&md(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function K0(t,e){var n=ei();sr(98>n?98:n,function(){t(!0)}),sr(97<n?97:n,function(){var r=It.transition;It.transition=1;try{t(!1),e()}finally{It.transition=r}})}function yd(t,e,n){var r=Tt(),i=In(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===Me||a!==null&&a===Me)fo=ga=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,c=a(l,n);if(o.eagerReducer=a,o.eagerState=c,Ct(c,l))return}catch{}finally{}Pn(t,i,r)}}var wa={readContext:Pt,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useOpaqueIdentifier:mt,unstable_isNewReconciler:!1},G0={readContext:Pt,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Pt,useEffect:ep,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xl(4,2,Gg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xl(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=yd.bind(null,Me,t),[r.memoizedState,t]},useRef:Zh,useState:Ui,useDebugValue:_d,useDeferredValue:function(t){var e=Ui(t),n=e[0],r=e[1];return ep(function(){var i=It.transition;It.transition=1;try{r(t)}finally{It.transition=i}},[t]),n},useTransition:function(){var t=Ui(!1),e=t[0];return t=K0.bind(null,t[1]),Zh(t),[t,e]},useMutableSource:function(t,e,n){var r=er();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},qg(r,t,e,n)},useOpaqueIdentifier:function(){if(Wt){var t=!1,e=B0(function(){throw t||(t=!0,n("r:"+(Zu++).toString(36))),Error($(355))}),n=Ui(e)[1];return!(Me.mode&2)&&(Me.flags|=516,va(5,function(){n("r:"+(Zu++).toString(36))},void 0,null)),e}return e="r:"+(Zu++).toString(36),Ui(e),e},unstable_isNewReconciler:!1},Q0={readContext:Pt,useCallback:Yg,useContext:Pt,useEffect:ya,useImperativeHandle:Qg,useLayoutEffect:Kg,useMemo:Xg,useReducer:Fi,useRef:_a,useState:function(){return Fi($t)},useDebugValue:_d,useDeferredValue:function(t){var e=Fi($t),n=e[0],r=e[1];return ya(function(){var i=It.transition;It.transition=1;try{r(t)}finally{It.transition=i}},[t]),n},useTransition:function(){var t=Fi($t)[0];return[_a().current,t]},useMutableSource:Wg,useOpaqueIdentifier:function(){return Fi($t)[0]},unstable_isNewReconciler:!1},Y0={readContext:Pt,useCallback:Yg,useContext:Pt,useEffect:ya,useImperativeHandle:Qg,useLayoutEffect:Kg,useMemo:Xg,useReducer:Bi,useRef:_a,useState:function(){return Bi($t)},useDebugValue:_d,useDeferredValue:function(t){var e=Bi($t),n=e[0],r=e[1];return ya(function(){var i=It.transition;It.transition=1;try{r(t)}finally{It.transition=i}},[t]),n},useTransition:function(){var t=Bi($t)[0];return[_a().current,t]},useMutableSource:Wg,useOpaqueIdentifier:function(){return Bi($t)[0]},unstable_isNewReconciler:!1},X0=hr.ReactCurrentOwner,Ft=!1;function gt(t,e,n,r){e.child=t===null?$g(e,null,n,r):pa(e,t.child,n,r)}function tp(t,e,n,r,i){n=n.render;var o=e.ref;return Ur(e,i),r=gd(t,e,n,r,o,i),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,sn(t,e,i)):(e.flags|=1,gt(t,e,r,i),e.child)}function np(t,e,n,r,i,o){if(t===null){var a=n.type;return typeof a=="function"&&!Cd(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Jg(t,e,a,r,i,o)):(t=Qs(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,!(i&o)&&(i=a.memoizedProps,n=n.compare,n=n!==null?n:Io,n(i,r)&&t.ref===e.ref)?sn(t,e,o):(e.flags|=1,t=Ln(a,r),t.ref=e.ref,t.return=e,e.child=t)}function Jg(t,e,n,r,i,o){if(t!==null&&Io(t.memoizedProps,r)&&t.ref===e.ref)if(Ft=!1,(o&i)!==0)t.flags&16384&&(Ft=!0);else return e.lanes=t.lanes,sn(t,e,o);return Jl(t,e,n,r,o)}function rl(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},bs(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},bs(e,o!==null?o.baseLanes:n);else return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},bs(e,t),null;else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,bs(e,r);return gt(t,e,i,n),e.child}function Zg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function Jl(t,e,n,r,i){var o=_t(n)?or:ut.current;return o=Zr(e,o),Ur(e,i),n=gd(t,e,n,r,o,i),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,sn(t,e,i)):(e.flags|=1,gt(t,e,n,i),e.child)}function rp(t,e,n,r,i){if(_t(n)){var o=!0;Hs(e)}else o=!1;if(Ur(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Bg(e,n,r),Gl(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Pt(h):(h=_t(n)?or:ut.current,h=Zr(e,h));var w=n.getDerivedStateFromProps,P=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function";P||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&Gh(e,a,r,h),mn=!1;var A=e.memoizedState;a.state=A,Ro(e,r,a,i),c=e.memoizedState,l!==r||A!==c||vt.current||mn?(typeof w=="function"&&(ha(e,n,w,r),c=e.memoizedState),(l=mn||Kh(e,n,l,r,A,c,h))?(P||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{a=e.stateNode,zg(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:zt(e.type,l),a.props=h,P=e.pendingProps,A=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pt(c):(c=_t(n)?or:ut.current,c=Zr(e,c));var M=n.getDerivedStateFromProps;(w=typeof M=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==P||A!==c)&&Gh(e,a,r,c),mn=!1,A=e.memoizedState,a.state=A,Ro(e,r,a,i);var O=e.memoizedState;l!==P||A!==O||vt.current||mn?(typeof M=="function"&&(ha(e,n,M,r),O=e.memoizedState),(h=mn||Kh(e,n,h,r,A,O,c))?(w||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,O,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,O,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=O),a.props=r,a.state=O,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=256),r=!1)}return Zl(t,e,n,r,o,i)}function Zl(t,e,n,r,i,o){Zg(t,e);var a=(e.flags&64)!==0;if(!r&&!a)return i&&Uh(e,n,!1),sn(t,e,o);r=e.stateNode,X0.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=pa(e,t.child,null,o),e.child=pa(e,null,l,o)):gt(t,e,l,o),e.memoizedState=r.state,i&&Uh(e,n,!0),e.child}function ip(t){var e=t.stateNode;e.pendingContext?Bh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bh(t,e.context,!1),Ql(t,e.containerInfo)}var Ps={dehydrated:null,retryLane:0};function op(t,e,n){var r=e.pendingProps,i=be.current,o=!1,a;return(a=(e.flags&64)!==0)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),De(be,i&1),t===null?(r.fallback!==void 0&&Yl(e),t=r.children,i=r.fallback,o?(t=sp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ps,t):typeof r.unstable_expectedLoadTime=="number"?(t=sp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ps,e.lanes=33554432,t):(n=Ad({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?o?(r=up(t,e,r.children,r.fallback,n),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=t.childLanes&~n,e.memoizedState=Ps,r):(n=ap(t,e,r.children,n),e.memoizedState=null,n):o?(r=up(t,e,r.children,r.fallback,n),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=t.childLanes&~n,e.memoizedState=Ps,r):(n=ap(t,e,r.children,n),e.memoizedState=null,n)}function sp(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},!(i&2)&&o!==null?(o.childLanes=0,o.pendingProps=e):o=Ad(e,i,0,null),n=Wr(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function ap(t,e,n,r){var i=t.child;return t=i.sibling,n=Ln(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function up(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var l={mode:"hidden",children:n};return!(o&2)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,a=n.lastEffect,a!==null?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Ln(a,l),t!==null?r=Ln(t,r):(r=Wr(r,o,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function lp(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),jg(t.return,e)}function il(t,e,n,r,i,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function cp(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(gt(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lp(t,n);else if(t.tag===19)lp(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(be,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ma(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),il(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ma(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}il(e,!0,n,null,o,e.lastEffect);break;case"together":il(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ko|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ln(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ln(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var ev,ec,tv,nv;ev=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ec=function(){};tv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zn(qt.current);var o=null;switch(n){case"input":i=Il(t,i),r=Il(t,r),o=[];break;case"option":i=Rl(t,i),r=Rl(t,r),o=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),o=[];break;case"textarea":i=Dl(t,i),r=Dl(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=aa)}Ol(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(wo.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(wo.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ce("scroll",t),o||l===c||(o=[])):typeof c=="object"&&c!==null&&c.$$typeof===Wc?c.toString():(o=o||[]).push(h,c))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};nv=function(t,e,n,r){n!==r&&(e.flags|=4)};function $i(t,e){if(!Wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function J0(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return _t(e.type)&&la(),null;case 3:return ti(),Ae(vt),Ae(ut),pd(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Is(e)?e.flags|=4:r.hydrate||(e.flags|=256)),ec(e),null;case 5:hd(e);var i=Zn(No.current);if(n=e.type,t!==null&&e.stateNode!=null)tv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error($(166));return null}if(t=Zn(qt.current),Is(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[_n]=e,r[ua]=o,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(t=0;t<Yi.length;t++)Ce(Yi[t],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":ch(r,o),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",r);break;case"textarea":fh(r,o),Ce("invalid",r)}Ol(n,o),t=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):wo.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Ce("scroll",r));switch(n){case"input":Es(r),dh(r,o,!0);break;case"textarea":Es(r),hh(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=aa)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,t===Nl.html&&(t=Ym(n)),t===Nl.html?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[_n]=e,t[ua]=r,ev(t,e,!1,!1),e.stateNode=t,a=Vl(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yi.length;i++)Ce(Yi[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":ch(t,r),i=Il(t,r),Ce("invalid",t);break;case"option":i=Rl(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":fh(t,r),i=Dl(t,r),Ce("invalid",t);break;default:i=r}Ol(n,i);var l=i;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Zm(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xm(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Eo(t,c):typeof c=="number"&&Eo(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ce("scroll",t):c!=null&&Fc(t,o,c,a))}switch(n){case"input":Es(t),dh(t,r,!1);break;case"textarea":Es(t),hh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?jr(t,!!r.multiple,o,!1):r.defaultValue!=null&&jr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=aa)}bg(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)nv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));n=Zn(No.current),Zn(qt.current),Is(e)?(r=e.stateNode,n=e.memoizedProps,r[_n]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_n]=e,e.stateNode=r)}return null;case 13:return Ae(be),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Is(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||be.current&1?Qe===0&&(Qe=3):((Qe===0||Qe===3)&&(Qe=4),ht===null||!(Ko&134217727)&&!(hi&134217727)||Hr(ht,at))),(r||n)&&(e.flags|=4),null);case 4:return ti(),ec(e),t===null&&Ag(e.stateNode.containerInfo),null;case 10:return dd(e),null;case 17:return _t(e.type)&&la(),null;case 19:if(Ae(be),r=e.memoizedState,r===null)return null;if(o=(e.flags&64)!==0,a=r.rendering,a===null)if(o)$i(r,!1);else{if(Qe!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(a=ma(t),a!==null){for(e.flags|=64,$i(r,!1),o=a.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(be,be.current&1|2),e.child}t=t.sibling}r.tail!==null&&st()>sc&&(e.flags|=64,o=!0,$i(r,!1),e.lanes=33554432)}else{if(!o)if(t=ma(a),t!==null){if(e.flags|=64,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$i(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Wt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*st()-r.renderingStartTime>sc&&n!==1073741824&&(e.flags|=64,o=!0,$i(r,!1),e.lanes=33554432);r.isBackwards?(a.sibling=e.child,e.child=a):(n=r.last,n!==null?n.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=st(),n.sibling=null,e=be.current,De(be,o?e&1|2:e&1),n):null;case 23:case 24:return kd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error($(156,e.tag))}function Z0(t){switch(t.tag){case 1:_t(t.type)&&la();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(ti(),Ae(vt),Ae(ut),pd(),e=t.flags,e&64)throw Error($(285));return t.flags=e&-4097|64,t;case 5:return hd(t),null;case 13:return Ae(be),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Ae(be),null;case 4:return ti(),null;case 10:return dd(t),null;case 23:case 24:return kd(),null;default:return null}}function wd(t,e){try{var n="",r=e;do n+=Ny(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function tc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var e1=typeof WeakMap=="function"?WeakMap:Map;function rv(t,e,n){n=Cn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ta||(Ta=!0,ac=r),tc(t,e)},n}function iv(t,e,n){n=Cn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return tc(t,e),r(i)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this),tc(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}var t1=typeof WeakSet=="function"?WeakSet:Set;function dp(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){bn(t,n)}else e.current=null}function n1(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:zt(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&ad(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error($(163))}function r1(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(hv(n,t),d1(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:zt(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Wh(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Wh(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&bg(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&lg(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error($(163))}function fp(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Jm("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function hp(t,e){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(ud,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)hv(e,n);else{r=e;try{i()}catch(o){bn(r,o)}}n=n.next}while(n!==t)}break;case 1:if(dp(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){bn(e,o)}break;case 5:dp(e);break;case 4:ov(t,e)}}function pp(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function mp(t){return t.tag===5||t.tag===3||t.tag===4}function gp(t){e:{for(var e=t.return;e!==null;){if(mp(e))break e;e=e.return}throw Error($(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error($(161))}n.flags&16&&(Eo(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||mp(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?nc(t,n,e):rc(t,n,e)}function nc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=aa));else if(r!==4&&(t=t.child,t!==null))for(nc(t,e,n),t=t.sibling;t!==null;)nc(t,e,n),t=t.sibling}function rc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rc(t,e,n),t=t.sibling;t!==null;)rc(t,e,n),t=t.sibling}function ov(t,e){for(var n=e,r=!1,i,o;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error($(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var a=t,l=n,c=l;;)if(hp(a,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}o?(a=i,l=n.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(hp(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function ol(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(n[ua]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Gm(n,r),Vl(t,i),e=Vl(t,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];a==="style"?Zm(n,l):a==="dangerouslySetInnerHTML"?Xm(n,l):a==="children"?Eo(n,l):Fc(n,a,l,e)}switch(t){case"input":Pl(n,r);break;case"textarea":Qm(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?jr(n,!!r.multiple,o,!1):t!==!!r.multiple&&(r.defaultValue!=null?jr(n,!!r.multiple,r.defaultValue,!0):jr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error($(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,lg(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Sd=st(),fp(e.child,!0)),vp(e);return;case 19:vp(e);return;case 17:return;case 23:case 24:fp(e,e.memoizedState!==null);return}throw Error($(163))}function vp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t1),e.forEach(function(r){var i=p1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function i1(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var o1=Math.ceil,Ea=hr.ReactCurrentDispatcher,Ed=hr.ReactCurrentOwner,re=0,ht=null,Be=null,at=0,ar=0,ic=Fn(0),Qe=0,$a=null,fi=0,Ko=0,hi=0,Td=0,oc=null,Sd=0,sc=1/0;function pi(){sc=st()+500}var J=null,Ta=!1,ac=null,Ht=null,Vn=!1,ho=null,Xi=90,uc=[],lc=[],an=null,po=0,cc=null,Ws=-1,rn=0,Ks=0,mo=null,Gs=!1;function Tt(){return re&48?st():Ws!==-1?Ws:Ws=st()}function In(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return ei()===99?1:2;if(rn===0&&(rn=fi),W0.transition!==0){Ks!==0&&(Ks=oc!==null?oc.pendingLanes:0),t=rn;var e=4186112&~Ks;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=ei(),re&4&&t===98?t=oa(12,rn):(t=Gy(t),t=oa(t,rn)),t}function Pn(t,e,n){if(50<po)throw po=0,cc=null,Error($(185));if(t=Ha(t,e),t===null)return null;La(t,e,n),t===ht&&(hi|=e,Qe===4&&Hr(t,at));var r=ei();e===1?re&8&&!(re&48)?dc(t):(bt(t,n),re===0&&(pi(),Xt())):(!(re&4)||r!==98&&r!==99||(an===null?an=new Set([t]):an.add(t)),bt(t,n)),oc=t}function Ha(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function bt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Mn(a),c=1<<l,h=o[l];if(h===-1){if(!(c&r)||c&i){h=e,Sr(c);var w=Te;o[l]=10<=w?h+250:6<=w?h+5e3:-1}}else h<=e&&(t.expiredLanes|=c);a&=~c}if(r=Co(t,t===ht?at:0),e=Te,r===0)n!==null&&(n!==el&&Wl(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==el&&Wl(n)}e===15?(n=dc.bind(null,t),nn===null?(nn=[n],qs=ld(Ba,xg)):nn.push(n),n=el):e===14?n=bo(99,dc.bind(null,t)):(n=Qy(e),n=bo(n,sv.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function sv(t){if(Ws=-1,Ks=rn=0,re&48)throw Error($(327));var e=t.callbackNode;if(Bn()&&t.callbackNode!==e)return null;var n=Co(t,t===ht?at:0);if(n===0)return null;var r=n,i=re;re|=16;var o=cv();(ht!==t||at!==r)&&(pi(),qr(t,r));do try{u1();break}catch(l){lv(t,l)}while(!0);if(cd(),Ea.current=o,re=i,Be!==null?r=0:(ht=null,at=0,r=Qe),fi&hi)qr(t,0);else if(r!==0){if(r===2&&(re|=64,t.hydrate&&(t.hydrate=!1,ad(t.containerInfo)),n=gg(t),n!==0&&(r=Ji(t,n))),r===1)throw e=$a,qr(t,0),Hr(t,n),bt(t,st()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error($(345));case 2:Gn(t);break;case 3:if(Hr(t,n),(n&62914560)===n&&(r=Sd+500-st(),10<r)){if(Co(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Tt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jh(Gn.bind(null,t),r);break}Gn(t);break;case 4:if(Hr(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var a=31-Mn(n);o=1<<a,a=r[a],a>i&&(i=a),n&=~o}if(n=i,n=st()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*o1(n/1960))-n,10<n){t.timeoutHandle=jh(Gn.bind(null,t),n);break}Gn(t);break;case 5:Gn(t);break;default:throw Error($(329))}}return bt(t,st()),t.callbackNode===e?sv.bind(null,t):null}function Hr(t,e){for(e&=~Td,e&=~hi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mn(e),r=1<<n;t[n]=-1,e&=~r}}function dc(t){if(re&48)throw Error($(327));if(Bn(),t===ht&&t.expiredLanes&at){var e=at,n=Ji(t,e);fi&hi&&(e=Co(t,e),n=Ji(t,e))}else e=Co(t,0),n=Ji(t,e);if(t.tag!==0&&n===2&&(re|=64,t.hydrate&&(t.hydrate=!1,ad(t.containerInfo)),e=gg(t),e!==0&&(n=Ji(t,e))),n===1)throw n=$a,qr(t,0),Hr(t,e),bt(t,st()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gn(t),bt(t,st()),null}function s1(){if(an!==null){var t=an;an=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,bt(e,st())})}Xt()}function av(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(pi(),Xt())}}function uv(t,e){var n=re;re&=-2,re|=8;try{return t(e)}finally{re=n,re===0&&(pi(),Xt())}}function bs(t,e){De(ic,ar),ar|=e,fi|=e}function kd(){ar=ic.current,Ae(ic)}function qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,F0(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&la();break;case 3:ti(),Ae(vt),Ae(ut),pd();break;case 5:hd(r);break;case 4:ti();break;case 13:Ae(be);break;case 19:Ae(be);break;case 10:dd(r);break;case 23:case 24:kd()}n=n.return}ht=t,Be=Ln(t.current,null),at=ar=fi=e,Qe=0,$a=null,Td=hi=Ko=0}function lv(t,e){do{var n=Be;try{if(cd(),co.current=wa,ga){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ga=!1}if(Mo=0,Ke=rt=Me=null,fo=!1,Ed.current=null,n===null||n.return===null){Qe=1,$a=e,Be=null;break}e:{var o=t,a=n.return,l=n,c=e;if(e=at,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c;if(!(l.mode&2)){var w=l.alternate;w?(l.updateQueue=w.updateQueue,l.memoizedState=w.memoizedState,l.lanes=w.lanes):(l.updateQueue=null,l.memoizedState=null)}var P=(be.current&1)!==0,A=a;do{var M;if(M=A.tag===13){var O=A.memoizedState;if(O!==null)M=O.dehydrated!==null;else{var N=A.memoizedProps;M=N.fallback===void 0?!1:N.unstable_avoidThisFallback!==!0?!0:!P}}if(M){var C=A.updateQueue;if(C===null){var k=new Set;k.add(h),A.updateQueue=k}else C.add(h);if(!(A.mode&2)){if(A.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var I=Cn(-1,1);I.tag=2,An(l,I)}l.lanes|=1;break e}c=void 0,l=e;var D=o.pingCache;if(D===null?(D=o.pingCache=new e1,c=new Set,D.set(h,c)):(c=D.get(h),c===void 0&&(c=new Set,D.set(h,c))),!c.has(l)){c.add(l);var u=h1.bind(null,o,h,l);h.then(u,u)}A.flags|=4096,A.lanes=e;break e}A=A.return}while(A!==null);c=Error((xr(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Qe!==5&&(Qe=2),c=wd(c,l),A=a;do{switch(A.tag){case 3:o=c,A.flags|=4096,e&=-e,A.lanes|=e;var p=rv(A,o,e);qh(A,p);break e;case 1:o=c;var f=A.type,m=A.stateNode;if(!(A.flags&64)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ht===null||!Ht.has(m)))){A.flags|=4096,e&=-e,A.lanes|=e;var g=iv(A,o,e);qh(A,g);break e}}A=A.return}while(A!==null)}fv(n)}catch(_){e=_,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function cv(){var t=Ea.current;return Ea.current=wa,t===null?wa:t}function Ji(t,e){var n=re;re|=16;var r=cv();ht===t&&at===e||qr(t,e);do try{a1();break}catch(i){lv(t,i)}while(!0);if(cd(),re=n,Ea.current=r,Be!==null)throw Error($(261));return ht=null,at=0,Qe}function a1(){for(;Be!==null;)dv(Be)}function u1(){for(;Be!==null&&!$0();)dv(Be)}function dv(t){var e=pv(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?fv(t):Be=e,Ed.current=null}function fv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=Z0(e),n!==null){n.flags&=2047,Be=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=J0(n,e,ar),n!==null){Be=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||ar&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);Qe===0&&(Qe=5)}function Gn(t){var e=ei();return sr(99,l1.bind(null,t,e)),null}function l1(t,e){do Bn();while(ho!==null);if(re&48)throw Error($(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<o;){var c=31-Mn(o),h=1<<c;i[c]=0,a[c]=-1,l[c]=-1,o&=~h}if(an!==null&&!(r&24)&&an.has(t)&&an.delete(t),t===ht&&(Be=ht=null,at=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=re,re|=32,Ed.current=null,Xu=Bs,a=Dh(),Bl(a)){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(h=l.getSelection&&l.getSelection())&&h.rangeCount!==0){l=h.anchorNode,o=h.anchorOffset,c=h.focusNode,h=h.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var w=0,P=-1,A=-1,M=0,O=0,N=a,C=null;t:for(;;){for(var k;N!==l||o!==0&&N.nodeType!==3||(P=w+o),N!==c||h!==0&&N.nodeType!==3||(A=w+h),N.nodeType===3&&(w+=N.nodeValue.length),(k=N.firstChild)!==null;)C=N,N=k;for(;;){if(N===a)break t;if(C===l&&++M===o&&(P=w),C===c&&++O===h&&(A=w),(k=N.nextSibling)!==null)break;N=C,C=N.parentNode}N=k}l=P===-1||A===-1?null:{start:P,end:A}}else l=null;l=l||{start:0,end:0}}else l=null;Ju={focusedElem:a,selectionRange:l},Bs=!1,mo=null,Gs=!1,J=r;do try{c1()}catch(_){if(J===null)throw Error($(330));bn(J,_),J=J.nextEffect}while(J!==null);mo=null,J=r;do try{for(a=t;J!==null;){var I=J.flags;if(I&16&&Eo(J.stateNode,""),I&128){var D=J.alternate;if(D!==null){var u=D.ref;u!==null&&(typeof u=="function"?u(null):u.current=null)}}switch(I&1038){case 2:gp(J),J.flags&=-3;break;case 6:gp(J),J.flags&=-3,ol(J.alternate,J);break;case 1024:J.flags&=-1025;break;case 1028:J.flags&=-1025,ol(J.alternate,J);break;case 4:ol(J.alternate,J);break;case 8:l=J,ov(a,l);var p=l.alternate;pp(l),p!==null&&pp(p)}J=J.nextEffect}}catch(_){if(J===null)throw Error($(330));bn(J,_),J=J.nextEffect}while(J!==null);if(u=Ju,D=Dh(),I=u.focusedElem,a=u.selectionRange,D!==I&&I&&I.ownerDocument&&kg(I.ownerDocument.documentElement,I)){for(a!==null&&Bl(I)&&(D=a.start,u=a.end,u===void 0&&(u=D),"selectionStart"in I?(I.selectionStart=D,I.selectionEnd=Math.min(u,I.value.length)):(u=(D=I.ownerDocument||document)&&D.defaultView||window,u.getSelection&&(u=u.getSelection(),l=I.textContent.length,p=Math.min(a.start,l),a=a.end===void 0?p:Math.min(a.end,l),!u.extend&&p>a&&(l=a,a=p,p=l),l=Rh(I,p),o=Rh(I,a),l&&o&&(u.rangeCount!==1||u.anchorNode!==l.node||u.anchorOffset!==l.offset||u.focusNode!==o.node||u.focusOffset!==o.offset)&&(D=D.createRange(),D.setStart(l.node,l.offset),u.removeAllRanges(),p>a?(u.addRange(D),u.extend(o.node,o.offset)):(D.setEnd(o.node,o.offset),u.addRange(D)))))),D=[],u=I;u=u.parentNode;)u.nodeType===1&&D.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<D.length;I++)u=D[I],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}Bs=!!Xu,Ju=Xu=null,t.current=n,J=r;do try{for(I=t;J!==null;){var f=J.flags;if(f&36&&r1(I,J.alternate,J),f&128){D=void 0;var m=J.ref;if(m!==null){var g=J.stateNode;switch(J.tag){case 5:D=g;break;default:D=g}typeof m=="function"?m(D):m.current=D}}J=J.nextEffect}}catch(_){if(J===null)throw Error($(330));bn(J,_),J=J.nextEffect}while(J!==null);J=null,q0(),re=i}else t.current=n;if(Vn)Vn=!1,ho=t,Xi=e;else for(J=r;J!==null;)e=J.nextEffect,J.nextEffect=null,J.flags&8&&(f=J,f.sibling=null,f.stateNode=null),J=e;if(r=t.pendingLanes,r===0&&(Ht=null),r===1?t===cc?po++:(po=0,cc=t):po=0,n=n.stateNode,nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(ud,n,void 0,(n.current.flags&64)===64)}catch{}if(bt(t,st()),Ta)throw Ta=!1,t=ac,ac=null,t;return re&8||Xt(),null}function c1(){for(;J!==null;){var t=J.alternate;Gs||mo===null||(J.flags&8?gh(J,mo)&&(Gs=!0):J.tag===13&&i1(t,J)&&gh(J,mo)&&(Gs=!0));var e=J.flags;e&256&&n1(t,J),!(e&512)||Vn||(Vn=!0,bo(97,function(){return Bn(),null})),J=J.nextEffect}}function Bn(){if(Xi!==90){var t=97<Xi?97:Xi;return Xi=90,sr(t,f1)}return!1}function d1(t,e){uc.push(e,t),Vn||(Vn=!0,bo(97,function(){return Bn(),null}))}function hv(t,e){lc.push(e,t),Vn||(Vn=!0,bo(97,function(){return Bn(),null}))}function f1(){if(ho===null)return!1;var t=ho;if(ho=null,re&48)throw Error($(331));var e=re;re|=32;var n=lc;lc=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(c){if(o===null)throw Error($(330));bn(o,c)}}for(n=uc,uc=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(o===null)throw Error($(330));bn(o,c)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return re=e,Xt(),!0}function _p(t,e,n){e=wd(n,e),e=rv(t,e,1),An(t,e),e=Tt(),t=Ha(t,1),t!==null&&(La(t,1,e),bt(t,e))}function bn(t,e){if(t.tag===3)_p(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){_p(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r))){t=wd(e,t);var i=iv(n,t,1);if(An(n,i),i=Tt(),n=Ha(n,1),n!==null)La(n,1,i),bt(n,i);else if(typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function h1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(at&n)===n&&(Qe===4||Qe===3&&(at&62914560)===at&&500>st()-Sd?qr(t,0):Td|=n),bt(t,e)}function p1(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(rn===0&&(rn=fi),e=kr(62914560&~rn),e===0&&(e=4194304)):e=ei()===99?1:2:e=1),n=Tt(),t=Ha(t,e),t!==null&&(La(t,e,n),bt(t,n))}var pv;pv=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||vt.current)Ft=!0;else if(n&r)Ft=!!(t.flags&16384);else{switch(Ft=!1,e.tag){case 3:ip(e),nl();break;case 5:Qh(e);break;case 1:_t(e.type)&&Hs(e);break;case 4:Ql(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;De(ca,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?op(t,e,n):(De(be,be.current&1),e=sn(t,e,n),e!==null?e.sibling:null);De(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return cp(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(be,be.current),r)break;return null;case 23:case 24:return e.lanes=0,rl(t,e,n)}return sn(t,e,n)}else Ft=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Zr(e,ut.current),Ur(e,n),i=gd(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(r)){var o=!0;Hs(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fd(e);var a=r.getDerivedStateFromProps;typeof a=="function"&&ha(e,r,a,t),i.updater=Ua,e.stateNode=i,i._reactInternals=e,Gl(e,r,t,n),e=Zl(null,e,r,!0,o,n)}else e.tag=0,gt(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=g1(i),t=zt(i,t),o){case 0:e=Jl(null,e,i,t,n);break e;case 1:e=rp(null,e,i,t,n);break e;case 11:e=tp(null,e,i,t,n);break e;case 14:e=np(null,e,i,zt(i.type,t),r,n);break e}throw Error($(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),Jl(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),rp(t,e,r,i,n);case 3:if(ip(e),r=e.updateQueue,t===null||r===null)throw Error($(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,zg(t,e),Ro(e,r,null,n),r=e.memoizedState.element,r===i)nl(),e=sn(t,e,n);else{if(i=e.stateNode,(o=i.hydrate)&&(yn=Br(e.stateNode.containerInfo.firstChild),on=e,o=Wt=!0),o){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)o=t[i],o._workInProgressVersionPrimary=t[i+1],$r.push(o);for(n=$g(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else gt(t,e,r,n),nl();e=e.child}return e;case 5:return Qh(e),t===null&&Yl(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Hl(r,i)?a=null:o!==null&&Hl(r,o)&&(e.flags|=16),Zg(t,e),gt(t,e,a,n),e.child;case 6:return t===null&&Yl(e),null;case 13:return op(t,e,n);case 4:return Ql(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pa(e,null,r,n):gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),tp(t,e,r,i,n);case 7:return gt(t,e,e.pendingProps,n),e.child;case 8:return gt(t,e,e.pendingProps.children,n),e.child;case 12:return gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value;var l=e.type._context;if(De(ca,l._currentValue),l._currentValue=o,a!==null)if(l=a.value,o=Ct(l,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,o):1073741823)|0,o===0){if(a.children===i.children&&!vt.current){e=sn(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var h=c.firstContext;h!==null;){if(h.context===r&&h.observedBits&o){l.tag===1&&(h=Cn(-1,n&-n),h.tag=2,An(l,h)),l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),jg(l.return,n),c.lanes|=n;break}h=h.next}}else a=l.tag===10&&l.type===e.type?null:l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,r=o.children,Ur(e,n),i=Pt(i,o.unstable_observedBits),r=r(i),e.flags|=1,gt(t,e,r,n),e.child;case 14:return i=e.type,o=zt(i,e.pendingProps),o=zt(i.type,o),np(t,e,i,o,r,n);case 15:return Jg(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,_t(r)?(t=!0,Hs(e)):t=!1,Ur(e,n),Bg(e,r,i),Gl(e,r,i,n),Zl(null,e,r,!0,t,n);case 19:return cp(t,e,n);case 23:return rl(t,e,n);case 24:return rl(t,e,n)}throw Error($(156,e.tag))};function m1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,e,n,r){return new m1(t,e,n,r)}function Cd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function g1(t){if(typeof t=="function")return Cd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ma)return 11;if(t===Oa)return 14}return 2}function Ln(t,e){var n=t.alternate;return n===null?(n=At(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qs(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Cd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case gn:return Wr(n.children,i,o,e);case qm:a=8,i|=16;break;case Bc:a=8,i|=1;break;case ro:return t=At(12,n,e,i|8),t.elementType=ro,t.type=ro,t.lanes=o,t;case io:return t=At(13,n,e,i),t.type=io,t.elementType=io,t.lanes=o,t;case ta:return t=At(19,n,e,i),t.elementType=ta,t.lanes=o,t;case Kc:return Ad(n,i,o,e);case Al:return t=At(24,n,e,i),t.elementType=Al,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Uc:a=10;break e;case $c:a=9;break e;case Ma:a=11;break e;case Oa:a=14;break e;case Hc:a=16,r=null;break e;case qc:a=22;break e}throw Error($(130,t==null?t:typeof t,""))}return e=At(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Wr(t,e,n,r){return t=At(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=At(23,t,r,e),t.elementType=Kc,t.lanes=n,t}function sl(t,e,n){return t=At(6,t,null,e),t.lanes=n,t}function al(t,e,n){return e=At(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function v1(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.mutableSourceEagerHydrationData=null}function _1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Sa(t,e,n,r){var i=e.current,o=Tt(),a=In(i);e:if(n){n=n._reactInternals;t:{if(pr(n)!==n||n.tag!==1)throw Error($(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(_t(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error($(171))}if(n.tag===1){var c=n.type;if(_t(c)){n=Dg(n,c,l);break e}}n=l}else n=On;return e.context===null?e.context=n:e.pendingContext=n,e=Cn(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),An(i,e),Pn(i,a,o),a}function ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Id(t,e){yp(t,e),(t=t.alternate)&&yp(t,e)}function y1(){return null}function Pd(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new v1(t,e,n!=null&&n.hydrate===!0),e=At(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,fd(e),t[di]=n.current,Ag(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Pd.prototype.render=function(t){Sa(t,this._internalRoot,null,null)};Pd.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Sa(null,t,null,function(){e[di]=null})};function Go(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function w1(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Pd(t,0,e?{hydrate:!0}:void 0)}function qa(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var l=i;i=function(){var h=ul(a);l.call(h)}}Sa(e,a,t,i)}else{if(o=n._reactRootContainer=w1(n,r),a=o._internalRoot,typeof i=="function"){var c=i;i=function(){var h=ul(a);c.call(h)}}uv(function(){Sa(e,a,t,i)})}return ul(a)}sg=function(t){if(t.tag===13){var e=Tt();Pn(t,4,e),Id(t,4)}};Jc=function(t){if(t.tag===13){var e=Tt();Pn(t,67108864,e),Id(t,67108864)}};ag=function(t){if(t.tag===13){var e=Tt(),n=In(t);Pn(t,n,e),Id(t,n)}};ug=function(t,e){return e()};Ll=function(t,e,n){switch(e){case"input":if(Pl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fa(r);if(!i)throw Error($(90));Km(r),Pl(r,i)}}}break;case"textarea":Qm(t,n);break;case"select":e=n.value,e!=null&&jr(t,!!n.multiple,e,!1)}};Qc=av;ng=function(t,e,n,r,i){var o=re;re|=4;try{return sr(98,t.bind(null,e,n,r,i))}finally{re=o,re===0&&(pi(),Xt())}};Yc=function(){!(re&49)&&(s1(),Bn())};rg=function(t,e){var n=re;re|=2;try{return t(e)}finally{re=n,re===0&&(pi(),Xt())}};function mv(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Go(e))throw Error($(200));return _1(t,e,null,n)}var E1={Events:[qo,Dr,Fa,eg,tg,Bn,{current:!1}]},Hi={findFiberByHostInstance:Jn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},T1={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=og(t),t===null?null:t.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||y1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{ud=Rs.inject(T1),nr=Rs}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E1;Dt.createPortal=mv;Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):Error($(268,Object.keys(t)));return t=og(e),t=t===null?null:t.stateNode,t};Dt.flushSync=function(t,e){var n=re;if(n&48)return t(e);re|=1;try{if(t)return sr(99,t.bind(null,e))}finally{re=n,Xt()}};Dt.hydrate=function(t,e,n){if(!Go(e))throw Error($(200));return qa(null,t,e,!0,n)};Dt.render=function(t,e,n){if(!Go(e))throw Error($(200));return qa(null,t,e,!1,n)};Dt.unmountComponentAtNode=function(t){if(!Go(t))throw Error($(40));return t._reactRootContainer?(uv(function(){qa(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};Dt.unstable_batchedUpdates=av;Dt.unstable_createPortal=function(t,e){return mv(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Go(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return qa(t,e,n,!1,r)};Dt.version="17.0.2";function gv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gv)}catch(t){console.error(t)}}gv(),Bm.exports=Dt;var S1=Bm.exports;const k1=Bo(S1);function C1(t){const e=t.notes.map((n,r)=>ze.jsx("div",{children:ze.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[ze.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]}),ze.jsx("button",{className:"delete-btn",onClick:i=>t.deleteNote(i,n.id),children:ze.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return ze.jsxs("section",{className:"pane sidebar",children:[ze.jsxs("div",{className:"sidebar--header",children:[ze.jsx("h3",{children:"Notes"}),ze.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var ll={},xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.getBreaksNeededForEmptyLineAfter=xe.getBreaksNeededForEmptyLineBefore=xe.selectWord=xe.getSurroundingWord=void 0;function vv(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(a){return a===" "||a.charCodeAt(0)===10},r=0,i=t.length,o=e;o-1>-1;o--)if(n(t[o-1])){r=o;break}for(var o=e;o<t.length;o++)if(n(t[o])){i=o;break}return{start:r,end:i}}xe.getSurroundingWord=vv;function A1(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?vv(e,n.start):n}xe.selectWord=A1;function I1(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}xe.getBreaksNeededForEmptyLineBefore=I1;function P1(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}xe.getBreaksNeededForEmptyLineAfter=P1;var cl={},Qo={},dn={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(dn,"__esModule",{value:!0});dn.classNames=void 0;function b1(t){return typeof t=="string"}function R1(t){return Array.isArray(t)&&t.length>0}function D1(t){return typeof t=="object"}function _v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(b1(i))n.push(i);else if(R1(i)){var o=_v.apply(null,i);o&&n.push(o)}else if(D1(i))for(var a in i)i.hasOwnProperty(a)&&i[a]&&n.push(a)}}return n.join(" ")}dn.classNames=_v;Object.defineProperty(Qo,"__esModule",{value:!0});Qo.ToolbarButtonGroup=void 0;var N1=Rt,M1=dn,O1=function(t){return N1.createElement("ul",{className:M1.classNames("mde-header-group",{hidden:t.hidden})},t.children)};Qo.ToolbarButtonGroup=O1;var Yo={},Or=ae&&ae.__assign||function(){return Or=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Or.apply(this,arguments)};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.ToolbarButton=void 0;var wp=Rt,V1={tabIndex:-1},L1=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,o=t.readOnly,a=t.name,l=Or(Or({},V1),r||{}),c=e||"button";return wp.createElement("li",{className:"mde-header-item"},wp.createElement(c,Or(Or({"data-name":a},l),{onClick:i,disabled:o,type:"button"}),n))};Yo.ToolbarButton=L1;var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.MdeFontAwesomeIcon=void 0;var x1=Rt,j1=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return x1.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};Xo.MdeFontAwesomeIcon=j1;var Wa={},z1=ae&&ae.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.Preview=void 0;var Ds=Rt,F1=dn,B1=function(t){z1(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,o=r.generateMarkdownPreview;o(i).then(function(a){n.setState({preview:a,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,o=n.loadingPreview,a=n.refObject,l=n.heightUnits,c=this.state,h=c.preview,w=c.loading,P=w?o:h,A;typeof P=="string"?A=Ds.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:P||"<p>&nbsp;</p>"},ref:a}):A=Ds.createElement("div",{className:"mde-preview-content"},P);var M=i&&l?i+10+l:i+10;return Ds.createElement("div",{className:F1.classNames("mde-preview",r,{loading:w}),style:{minHeight:M},"data-testid":"mde-preview"},A)},e}(Ds.Component);Wa.Preview=B1;var Ka={},Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.getCaretCoordinates=void 0;var U1=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],yv=typeof window<"u",$1=yv&&window.mozInnerScreenX!=null;function H1(t,e){if(!yv)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",U1.forEach(function(l){r[l]=i[l]}),$1?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var o=document.createElement("span");o.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(o);var a={top:o.offsetTop+parseInt(i.borderTopWidth),left:o.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),a}Ga.getCaretCoordinates=H1;var Jo={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(Jo,"__esModule",{value:!0});Jo.insertText=void 0;function q1(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,o=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(W1(t)){var a=document.createTextNode(e),l=t.firstChild;if(!l)t.appendChild(a);else{for(var c=0,h=null,w=null,P=document.createRange();l&&(h===null||w===null);){var A=l.nodeValue.length;i>=c&&i<=c+A&&P.setStart(h=l,i-c),o>=c&&o<=c+A&&P.setEnd(w=l,o-c),c+=A,l=l.nextSibling}i!==o&&P.deleteContents(),P.insertNode(a)}}else{var M=t.value;t.value=M.slice(0,i)+e+M.slice(o)}t.setSelectionRange(i+e.length,i+e.length);var O=document.createEvent("UIEvent");O.initEvent("input",!0,!1),t.dispatchEvent(O)}}Jo.insertText=q1;function W1(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.mod=void 0;function K1(t,e){return(t%e+e)%e}Qa.mod=K1;var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.SuggestionsDropdown=void 0;var Ep=Rt,G1=dn,Q1=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,o=t.suggestionsAutoplace,a=t.focusIndex,l=t.textAreaRef,c=function(N){N.preventDefault();var C=parseInt(N.currentTarget.attributes["data-index"].value);i(C)},h=function(N){return N.preventDefault()},w=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),P=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),A=r.left-l.current.scrollLeft,M=r.top-l.current.scrollTop,O={};return o&&M+l.current.getBoundingClientRect().top>P/2?O.bottom=l.current.offsetHeight-M:O.top=M,o&&A+l.current.getBoundingClientRect().left>w/2?O.right=l.current.offsetWidth-A:O.left=A,Ep.createElement("ul",{className:G1.classNames("mde-suggestions",e),style:O},n.map(function(N,C){return Ep.createElement("li",{onClick:c,onMouseDown:h,key:C,"aria-selected":a===C?"true":"false","data-index":""+C},N.preview)}))};Zo.SuggestionsDropdown=Q1;var Y1=ae&&ae.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Et=ae&&ae.__assign||function(){return Et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Et.apply(this,arguments)};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.TextArea=void 0;var Ns=Rt,X1=dn,J1=Ga,Z1=Jo,ew=Qa,tw=Zo,nw=function(t){Y1(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var o=r.props.onChange;o(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var o=++r.suggestionsPromiseIndex,a=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return a(i,r.state.mention.triggeredBy)}).then(function(l){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===o&&(!l||!l.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:Et(Et({},r.state.mention),{status:"active",suggestions:l,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,o){var a=J1.getCaretCoordinates(i,o);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:a,suggestions:[],triggeredBy:o}})},r.handleSuggestionSelected=function(i){var o=r.state.mention;r.getTextArea().selectionStart=o.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),Z1.insertText(r.getTextArea(),o.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var o=r.props.onPossibleKeyCommand(i);if(o){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var a=i.key,l=i.shiftKey,c=i.currentTarget,h=c.selectionStart,w=r.state.mention;switch(w.status){case"loading":case"active":if(a==="Escape"||a==="Backspace"&&h<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(w.status==="active"&&(a==="ArrowUp"||a==="ArrowDown")&&!l){i.preventDefault();var P=a==="ArrowUp"?-1:1;r.setState({mention:Et(Et({},w),{focusIndex:ew.mod(w.focusIndex+P,w.suggestions.length)})})}else a==="Enter"&&w.status==="active"&&w.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(w.focusIndex));break}}},r.handleKeyUp=function(i){var o=i.key,a=r.state.mention,l=r.props,c=l.suggestionTriggerCharacters,h=l.value;switch(a.status){case"loading":case"active":if(o==="Backspace"){var w=h.substr(a.startPosition,r.getTextArea().selectionStart-a.startPosition);r.startLoadingSuggestions(w),a.status!=="loading"&&r.setState({mention:Et(Et({},r.state.mention),{status:"loading"})})}break;case"inactive":if(o==="Backspace"){var P=h.charAt(r.getTextArea().selectionStart-1),A=c.includes(h.charAt(r.getTextArea().selectionStart-1));A&&r.loadEmptySuggestion(i.currentTarget,P)}break}},r.handleKeyPress=function(i){var o=r.props,a=o.suggestionTriggerCharacters,l=o.value,c=r.state.mention,h=i.key;switch(c.status){case"loading":case"active":if(h===" "){r.setState({mention:Et(Et({},r.state.mention),{status:"inactive"})});return}var w=l.substr(c.startPosition,r.getTextArea().selectionStart-c.startPosition)+h;r.startLoadingSuggestions(w),c.status!=="loading"&&r.setState({mention:Et(Et({},r.state.mention),{status:"loading"})});break;case"inactive":if(a.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(l.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,o=r.readOnly,a=r.textAreaProps,l=r.height,c=r.heightUnits,h=r.value,w=r.suggestionTriggerCharacters,P=r.loadSuggestions,A=r.suggestionsDropdownClasses,M=r.textAreaComponent,O=r.onPaste,N=r.onDrop,C=w&&w.length&&P,k=this.state.mention,I=M||"textarea",D=l&&c?l+c:l;return Ns.createElement("div",{className:"mde-textarea-wrapper"},Ns.createElement(I,Et({className:X1.classNames("mde-text",i),style:{height:D},ref:this.props.refObject,readOnly:o,value:h,"data-testid":"text-area"},a,{onChange:function(u){var p;(p=a==null?void 0:a.onChange)===null||p===void 0||p.call(a,u),n.handleOnChange(u)},onBlur:function(u){var p;(p=a==null?void 0:a.onBlur)===null||p===void 0||p.call(a,u),C&&n.handleBlur()},onKeyDown:function(u){var p;(p=a==null?void 0:a.onKeyDown)===null||p===void 0||p.call(a,u),n.handleKeyDown(u)},onKeyUp:function(u){var p;(p=a==null?void 0:a.onKeyUp)===null||p===void 0||p.call(a,u),C&&n.handleKeyUp(u)},onKeyPress:function(u){var p;(p=a==null?void 0:a.onKeyPress)===null||p===void 0||p.call(a,u),C&&n.handleKeyPress(u)},onPaste:function(u){var p;(p=a==null?void 0:a.onPaste)===null||p===void 0||p.call(a,u),O(u)},onDragOver:function(u){u.preventDefault(),u.stopPropagation()},onDrop:function(u){var p;(p=a==null?void 0:a.onDrop)===null||p===void 0||p.call(a,u),N(u),u.preventDefault()}})),k.status==="active"&&k.suggestions.length&&Ns.createElement(tw.SuggestionsDropdown,{classes:A,caret:k.caret,suggestions:k.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:k.focusIndex,textAreaRef:this.props.refObject}))},e}(Ns.Component);Ka.TextArea=nw;var Ya={},rw=ae&&ae.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vr=ae&&ae.__assign||function(){return Vr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vr.apply(this,arguments)};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.Toolbar=void 0;var Kn=Rt,dl=dn,iw=Qo,ow=Yo,sw=function(t){rw(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,o=i.classes,a=i.children,l=i.buttons,c=i.onCommand,h=i.readOnly,w=i.disablePreview,P=i.writeButtonProps,A=i.previewButtonProps,M=i.buttonProps;if((!l||l.length===0)&&!a)return null;var O=Kn.createElement("div",{className:"mde-tabs"},Kn.createElement("button",Vr({type:"button",className:dl.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},P),r.write),Kn.createElement("button",Vr({type:"button",className:dl.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},A),r.preview));return Kn.createElement("div",{className:dl.classNames("mde-header",o)},!w&&O,l.map(function(N,C){return Kn.createElement(iw.ToolbarButtonGroup,{key:C,hidden:n.props.tab==="preview"},N.map(function(k,I){return Kn.createElement(ow.ToolbarButton,{key:I,name:k.commandName,buttonContent:k.buttonContent,buttonProps:Vr(Vr({},M||{}),k.buttonProps),onClick:function(){return c(k.commandName)},readOnly:h,buttonComponentClass:k.buttonComponentClass})}))}))},e}(Kn.Component);Ya.Toolbar=sw;var qi={},Kt={},Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.headerCommand=void 0;var aw=xe;function uw(t,e,n){var r=aw.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),o=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:o.selection.end-i.selectedText.length,end:o.selection.end})}Xa.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;uw(e,n,"### ")}};var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.boldCommand=void 0;var lw=xe;Ja.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=lw.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),o=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:o.selection.end-2-i.selectedText.length,end:o.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.italicCommand=void 0;var cw=xe;Za.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=cw.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),o=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:o.selection.end-1-i.selectedText.length,end:o.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.strikeThroughCommand=void 0;var dw=xe;eu.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=dw.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),o=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:o.selection.end-2-i.selectedText.length,end:o.selection.end-2})}};var tu={};Object.defineProperty(tu,"__esModule",{value:!0});tu.linkCommand=void 0;var fw=xe;tu.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=fw.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),o=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:o.selection.end-6-i.selectedText.length,end:o.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.quoteCommand=void 0;var fl=xe;nu.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=fl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),o=fl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),a=Array(o+1).join(`
`),l=fl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),c=Array(l+1).join(`
`);n.replaceSelection(a+"> "+i.selectedText+c);var h=i.selection.start+o+2,w=h+i.selectedText.length;n.setSelectionRange({start:h,end:w})}};var ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.codeCommand=void 0;var hl=xe;ru.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=hl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var o=i.selection.start+1,a=o+i.selectedText.length;n.setSelectionRange({start:o,end:a});return}var l=hl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),c=Array(l+1).join(`
`),h=hl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),w=Array(h+1).join(`
`);n.replaceSelection(c+"```\n"+i.selectedText+"\n```"+w);var P=i.selection.start+l+4,A=P+i.selectedText.length;n.setSelectionRange({start:P,end:A})}};var wv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=xe;function n(i,o){var a=i.split(/\n/),l=0,c=a.map(function(h,w){if(typeof o=="string")return l+=o.length,o+h;if(typeof o=="function"){var P=o(h,w);return l+=P.length,o(h,w)+h}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:c,insertionLength:l}}t.insertBeforeEachLine=n;var r=function(i,o,a){var l=e.selectWord({text:i.text,selection:i.selection}),c=o.setSelectionRange(l),h=e.getBreaksNeededForEmptyLineBefore(c.text,c.selection.start),w=Array(h+1).join(`
`),P=e.getBreaksNeededForEmptyLineAfter(c.text,c.selection.end),A=Array(P+1).join(`
`),M=n(c.selectedText,a);o.replaceSelection(""+w+M.modifiedText+A);var O=c.selectedText.indexOf(`
`)===-1?M.insertionLength:0,N=c.selection.start+h+O,C=N+M.modifiedText.length-O;o.setSelectionRange({start:N,end:C})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var o=i.initialState,a=i.textApi;t.makeList(o,a,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var o=i.initialState,a=i.textApi;t.makeList(o,a,function(l,c){return c+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var o=i.initialState,a=i.textApi;t.makeList(o,a,function(l,c){return"- [ ] "})}}})(wv);var iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.imageCommand=void 0;var hw=xe;iu.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(hw.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var ou={},su={},pw=ae&&ae.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(w){try{h(r.next(w))}catch(P){a(P)}}function c(w){try{h(r.throw(w))}catch(P){a(P)}}function h(w){w.done?o(w.value):i(w.value).then(l,c)}h((r=r.apply(t,e||[])).next())})},mw=ae&&ae.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(w){return c([h,w])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(w){h=[6,w],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(su,"__esModule",{value:!0});su.readFileAsync=void 0;function gw(t){return pw(this,void 0,void 0,function(){return mw(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}su.readFileAsync=gw;var vw=ae&&ae.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(w){try{h(r.next(w))}catch(P){a(P)}}function c(w){try{h(r.throw(w))}catch(P){a(P)}}function h(w){w.done?o(w.value):i(w.value).then(l,c)}h((r=r.apply(t,e||[])).next())})},_w=ae&&ae.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(w){return c([h,w])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(w){h=[6,w],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(ou,"__esModule",{value:!0});ou.saveImageCommand=void 0;var yw=su,ww=xe;function Tp(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function Ew(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function Tw(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var o=r.split(","),a=new Set(o.filter(function(h){return/^\.\w+/.test(h)}).map(function(h){return h.split(".")[1]})),l=new Set(o.filter(function(h){return/^[-\w.]+\/[-\w.]+$/.test(h)})),c=new Set(o.filter(function(h){return/(audio|video|image)\/\*/.test(h)}).map(function(h){return h.split("/")[0]}));i=i.filter(function(h){return a.has(h.name.split(".")[1])||l.has(h.type)||c.has(h.type.split("/")[0])})}return i}ou.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return vw(this,void 0,void 0,function(){var i,o,a,l,c,h,w,P,A,M,O,N,C,k,I,D,u,p,f,m,g,_,y,E;return _w(this,function(b){switch(b.label){case 0:if(!n)throw new Error("wrong context");i=n,o=i.event,a=i.pasteOptions,l=a.saveImage,c=a.multiple,h=a.accept,w=Sw(n)?Tp(o.clipboardData.items):kw(n)?Tp(o.dataTransfer.items):Ew(o.target.files),P=Tw(w,{multiple:c,accept:h}),A=[];for(M in P)A.push(M);O=0,b.label=1;case 1:return O<A.length?(N=A[O],C=e.getState(),k=ww.getBreaksNeededForEmptyLineBefore(C.text,C.selection.start),I=Array(k+1).join(`
`),D=I+"!["+r.uploadingImage+"]()",e.replaceSelection(D),u=w[N],[4,yw.readFileAsync(u)]):[3,5];case 2:return p=b.sent(),f=l(p,u),[4,f.next()];case 3:m=b.sent().value,g=e.getState(),_=g.text.substr(C.selection.start,D.length),_===D&&(e.setSelectionRange({start:C.selection.start,end:C.selection.start+D.length}),y=m?I+"![image]("+m+")":"",E=y.length-D.length,e.replaceSelection(y),e.setSelectionRange({start:g.selection.start+E,end:g.selection.end+E})),b.label=4;case 4:return O++,[3,1];case 5:return[2]}})})}};function Sw(t){return t.event.clipboardData!==void 0}function kw(t){return t.event.dataTransfer!==void 0}Object.defineProperty(Kt,"__esModule",{value:!0});Kt.getDefaultSaveImageCommandName=Kt.getDefaultCommandMap=Kt.getDefaultToolbarCommands=void 0;var Cw=Xa,Aw=Ja,Iw=Za,Pw=eu,bw=tu,Rw=nu,Dw=ru,pl=wv,Nw=iu,Mw=ou;function Ow(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}Kt.getDefaultToolbarCommands=Ow;function Vw(){return{header:Cw.headerCommand,bold:Aw.boldCommand,italic:Iw.italicCommand,strikethrough:Pw.strikeThroughCommand,link:bw.linkCommand,quote:Rw.quoteCommand,code:Dw.codeCommand,image:Nw.imageCommand,"unordered-list":pl.unorderedListCommand,"ordered-list":pl.orderedListCommand,"checked-list":pl.checkedListCommand,"save-image":Mw.saveImageCommand}}Kt.getDefaultCommandMap=Vw;function Lw(){return"save-image"}Kt.getDefaultSaveImageCommandName=Lw;var au={};Object.defineProperty(au,"__esModule",{value:!0});au.enL18n=void 0;au.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var bd={},uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.SvgIcon=void 0;var Ne=Rt,xw=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),jw=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),zw=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),Fw=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),Bw=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),Uw=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),$w=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),Hw=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),qw=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),Ww=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),Kw=Ne.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Ne.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),Gw=function(t){var e=t.icon;switch(e){case"header":return Ww;case"bold":return Kw;case"italic":return qw;case"strikethrough":return Hw;case"link":return $w;case"quote":return Uw;case"code":return Bw;case"image":return Fw;case"unordered-list":return zw;case"ordered-list":return jw;case"checked-list":return xw;default:return null}};uu.SvgIcon=Gw;(function(t){var e=ae&&ae.__createBinding||(Object.create?function(r,i,o,a){a===void 0&&(a=o),Object.defineProperty(r,a,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,a){a===void 0&&(a=o),r[a]=i[o]}),n=ae&&ae.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Xo,t),n(uu,t)})(bd);var en={},lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.extractKeyActivatedCommands=void 0;function Qw(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}lu.extractKeyActivatedCommands=Qw;var Sp;function Yw(){if(Sp)return en;Sp=1;var t=ae&&ae.__assign||function(){return t=Object.assign||function(w){for(var P,A=1,M=arguments.length;A<M;A++){P=arguments[A];for(var O in P)Object.prototype.hasOwnProperty.call(P,O)&&(w[O]=P[O])}return w},t.apply(this,arguments)},e=ae&&ae.__awaiter||function(w,P,A,M){function O(N){return N instanceof A?N:new A(function(C){C(N)})}return new(A||(A=Promise))(function(N,C){function k(u){try{D(M.next(u))}catch(p){C(p)}}function I(u){try{D(M.throw(u))}catch(p){C(p)}}function D(u){u.done?N(u.value):O(u.value).then(k,I)}D((M=M.apply(w,P||[])).next())})},n=ae&&ae.__generator||function(w,P){var A={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},M,O,N,C;return C={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function k(D){return function(u){return I([D,u])}}function I(D){if(M)throw new TypeError("Generator is already executing.");for(;A;)try{if(M=1,O&&(N=D[0]&2?O.return:D[0]?O.throw||((N=O.return)&&N.call(O),0):O.next)&&!(N=N.call(O,D[1])).done)return N;switch(O=0,N&&(D=[D[0]&2,N.value]),D[0]){case 0:case 1:N=D;break;case 4:return A.label++,{value:D[1],done:!1};case 5:A.label++,O=D[1],D=[0];continue;case 7:D=A.ops.pop(),A.trys.pop();continue;default:if(N=A.trys,!(N=N.length>0&&N[N.length-1])&&(D[0]===6||D[0]===2)){A=0;continue}if(D[0]===3&&(!N||D[1]>N[0]&&D[1]<N[3])){A.label=D[1];break}if(D[0]===6&&A.label<N[1]){A.label=N[1],N=D;break}if(N&&A.label<N[2]){A.label=N[2],A.ops.push(D);break}N[2]&&A.ops.pop(),A.trys.pop();continue}D=P.call(w,A)}catch(u){D=[6,u],O=0}finally{M=N=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}};Object.defineProperty(en,"__esModule",{value:!0}),en.CommandOrchestrator=en.getStateFromTextArea=en.TextAreaTextApi=void 0;var r=Tv(),i=Jo,o=lu,a=Kt,l=function(){function w(P){this.textAreaRef=P}return w.prototype.replaceSelection=function(P){var A=this.textAreaRef.current;return i.insertText(A,P),c(A)},w.prototype.setSelectionRange=function(P){var A=this.textAreaRef.current;return A.focus(),A.selectionStart=P.start,A.selectionEnd=P.end,c(A)},w.prototype.getState=function(){var P=this.textAreaRef.current;return c(P)},w}();en.TextAreaTextApi=l;function c(w){return{selection:{start:w.selectionStart,end:w.selectionEnd},text:w.value,selectedText:w.value.slice(w.selectionStart,w.selectionEnd)}}en.getStateFromTextArea=c;var h=function(){function w(P,A,M,O){var N=this;if(this.getCommand=function(C){var k=N.commandMap[C];if(!k)throw new Error("Cannot execute command. Command not found: "+C);return k},this.handlePossibleKeyCommand=function(C){for(var k=0,I=N.keyActivatedCommands;k<I.length;k++){var D=I[k];if(N.getCommand(D).handleKeyCommand(C))return N.executeCommand(D).then(function(u){}),!0}return!1},O&&!O.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),P||{}),this.pasteOptions=O,this.keyActivatedCommands=o.extractKeyActivatedCommands(P),this.textAreaRef=A,this.textApi=new l(A),this.l18n=M}return w.prototype.executeCommand=function(P,A){return e(this,void 0,void 0,function(){var M,O;return n(this,function(N){switch(N.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,M=this.commandMap[P],O=M.execute({initialState:c(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:A}),[4,O]);case 1:return N.sent(),this.isExecuting=!1,[2]}})})},w.prototype.executePasteCommand=function(P){return e(this,void 0,void 0,function(){return n(this,function(A){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||a.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:P})]:[2]})})},w.prototype.executeDropCommand=function(P){return e(this,void 0,void 0,function(){return n(this,function(A){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||a.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:P})]:[2]})})},w.prototype.executeSelectImageCommand=function(P){return e(this,void 0,void 0,function(){return n(this,function(A){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||a.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:P})]:[2]})})},w.prototype.getCommandByName=function(P){return this.commandMap[P]},w}();return en.CommandOrchestrator=h,en}var kp;function Xw(){if(kp)return qi;kp=1;var t=ae&&ae.__extends||function(){var M=function(O,N){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,k){C.__proto__=k}||function(C,k){for(var I in k)Object.prototype.hasOwnProperty.call(k,I)&&(C[I]=k[I])},M(O,N)};return function(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");M(O,N);function C(){this.constructor=O}O.prototype=N===null?Object.create(N):(C.prototype=N.prototype,new C)}}(),e=ae&&ae.__assign||function(){return e=Object.assign||function(M){for(var O,N=1,C=arguments.length;N<C;N++){O=arguments[N];for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(M[k]=O[k])}return M},e.apply(this,arguments)},n=ae&&ae.__awaiter||function(M,O,N,C){function k(I){return I instanceof N?I:new N(function(D){D(I)})}return new(N||(N=Promise))(function(I,D){function u(m){try{f(C.next(m))}catch(g){D(g)}}function p(m){try{f(C.throw(m))}catch(g){D(g)}}function f(m){m.done?I(m.value):k(m.value).then(u,p)}f((C=C.apply(M,O||[])).next())})},r=ae&&ae.__generator||function(M,O){var N={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},C,k,I,D;return D={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function u(f){return function(m){return p([f,m])}}function p(f){if(C)throw new TypeError("Generator is already executing.");for(;N;)try{if(C=1,k&&(I=f[0]&2?k.return:f[0]?k.throw||((I=k.return)&&I.call(k),0):k.next)&&!(I=I.call(k,f[1])).done)return I;switch(k=0,I&&(f=[f[0]&2,I.value]),f[0]){case 0:case 1:I=f;break;case 4:return N.label++,{value:f[1],done:!1};case 5:N.label++,k=f[1],f=[0];continue;case 7:f=N.ops.pop(),N.trys.pop();continue;default:if(I=N.trys,!(I=I.length>0&&I[I.length-1])&&(f[0]===6||f[0]===2)){N=0;continue}if(f[0]===3&&(!I||f[1]>I[0]&&f[1]<I[3])){N.label=f[1];break}if(f[0]===6&&N.label<I[1]){N.label=I[1],I=f;break}if(I&&N.label<I[2]){N.label=I[2],N.ops.push(f);break}I[2]&&N.ops.pop(),N.trys.pop();continue}f=O.call(M,N)}catch(m){f=[6,m],k=0}finally{C=I=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(qi,"__esModule",{value:!0}),qi.ReactMde=void 0;var i=Rt,o=Ev(),a=Kt,l=au,c=bd,h=dn,w=Yw(),P={accept:"image/*",multiple:!1},A=function(M){t(O,M);function O(N){var C,k=M.call(this,N)||this;k.handleTextChange=function(D){var u=k.props.onChange;u(D)},k.handlePaste=function(D){return n(k,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(D)];case 1:return p.sent(),[2]}})})},k.handleDrop=function(D){return n(k,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(D)];case 1:return p.sent(),[2]}})})},k.handleImageSelection=function(D){return n(k,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(D)];case 1:return p.sent(),[2]}})})},k.handleTabChange=function(D){var u=k.props.onTabChange;u(D)},k.handleCommand=function(D){return n(k,void 0,void 0,function(){return r(this,function(u){switch(u.label){case 0:return[4,this.commandOrchestrator.executeCommand(D)];case 1:return u.sent(),[2]}})})},k.finalRefs=e({},N.refs||{}),k.finalRefs.textarea||(k.finalRefs.textarea=i.createRef()),k.finalRefs.preview||(k.finalRefs.preview=i.createRef()),k.commandOrchestrator=new w.CommandOrchestrator(k.props.commands,k.finalRefs.textarea,k.props.l18n,k.props.paste?e(e({},P),k.props.paste):void 0);var I=Math.min(N.maxEditorHeight,N.minEditorHeight);return k.state={editorHeight:(C=N.initialEditorHeight)!==null&&C!==void 0?C:I},k}return O.prototype.render=function(){var N=this,C,k,I=this.props,D=I.getIcon,u=I.toolbarCommands,p=I.classes,f=I.loadingPreview,m=I.readOnly,g=I.disablePreview,_=I.value,y=I.l18n,E=I.minPreviewHeight,b=I.heightUnits,T=I.childProps,j=I.selectedTab,F=I.generateMarkdownPreview,R=I.loadSuggestions,z=I.suggestionTriggerCharacters,K=I.textAreaComponent,Y=T||{},le=u.map(function(x){return x.map(function(G){var Q=N.commandOrchestrator.getCommand(G);return{commandName:G,buttonContent:Q.icon?Q.icon(D):D(G),buttonProps:Q.buttonProps,buttonComponentClass:Q.buttonComponentClass}})});return i.createElement("div",{className:h.classNames("react-mde","react-mde-tabbed-layout",p==null?void 0:p.reactMde)},i.createElement(o.Toolbar,{classes:p==null?void 0:p.toolbar,buttons:le,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:j,readOnly:m,disablePreview:g,l18n:y,buttonProps:Y.commandButtons,writeButtonProps:Y.writeButton,previewButtonProps:Y.previewButton}),i.createElement("div",{className:h.classNames({invisible:j!=="write"})},i.createElement(o.TextArea,{classes:p==null?void 0:p.textArea,suggestionsDropdownClasses:p==null?void 0:p.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:m,textAreaComponent:K,textAreaProps:T&&T.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:_,suggestionTriggerCharacters:z,loadSuggestions:R,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:h.classNames("image-tip")},i.createElement("input",{className:h.classNames("image-input"),type:"file",accept:(C=this.props.paste.accept)!==null&&C!==void 0?C:P.accept,multiple:(k=this.props.paste.multiple)!==null&&k!==void 0?k:P.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,y.pasteDropSelect))),j!=="write"&&i.createElement(o.Preview,{classes:p==null?void 0:p.preview,refObject:this.finalRefs.preview,loadingPreview:f,minHeight:E,heightUnits:b,generateMarkdownPreview:F,markdown:_}))},O.defaultProps={commands:a.getDefaultCommandMap(),toolbarCommands:a.getDefaultToolbarCommands(),getIcon:function(N){return i.createElement(c.SvgIcon,{icon:N})},readOnly:!1,l18n:l.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},O}(i.Component);return qi.ReactMde=A,qi}var Cp;function Ev(){return Cp||(Cp=1,function(t){var e=ae&&ae.__createBinding||(Object.create?function(r,i,o,a){a===void 0&&(a=o),Object.defineProperty(r,a,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,a){a===void 0&&(a=o),r[a]=i[o]}),n=ae&&ae.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Qo,t),n(Yo,t),n(Xo,t),n(Wa,t),n(Ka,t),n(Ya,t),n(Xw(),t),n(Zo,t)}(cl)),cl}var Ap;function Tv(){return Ap||(Ap=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=xe;t.MarkdownUtil=e;var n=Ev();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=bd;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=Kt;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(ll)),ll}var Jw=Tv();const Zw=Bo(Jw);var Sv={exports:{}};(function(t){(function(){function e(u){var p={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(u===!1)return JSON.parse(JSON.stringify(p));var f={};for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m].defaultValue);return f}function n(){var u=e(!0),p={};for(var f in u)u.hasOwnProperty(f)&&(p[f]=!0);return p}var r={},i={},o={},a=e(!0),l="vanilla",c={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(u,p){return a[u]=p,this},r.getOption=function(u){return a[u]},r.getOptions=function(){return a},r.resetOptions=function(){a=e(!0)},r.setFlavor=function(u){if(!c.hasOwnProperty(u))throw Error(u+" flavor was not found");r.resetOptions();var p=c[u];l=u;for(var f in p)p.hasOwnProperty(f)&&(a[f]=p[f])},r.getFlavor=function(){return l},r.getFlavorOptions=function(u){if(c.hasOwnProperty(u))return c[u]},r.getDefaultOptions=function(u){return e(u)},r.subParser=function(u,p){if(r.helper.isString(u))if(typeof p<"u")i[u]=p;else{if(i.hasOwnProperty(u))return i[u];throw Error("SubParser named "+u+" not registered!")}},r.extension=function(u,p){if(!r.helper.isString(u))throw Error("Extension 'name' must be a string");if(u=r.helper.stdExtName(u),r.helper.isUndefined(p)){if(!o.hasOwnProperty(u))throw Error("Extension named "+u+" is not registered!");return o[u]}else{typeof p=="function"&&(p=p()),r.helper.isArray(p)||(p=[p]);var f=h(p,u);if(f.valid)o[u]=p;else throw Error(f.error)}},r.getAllExtensions=function(){return o},r.removeExtension=function(u){delete o[u]},r.resetExtensions=function(){o={}};function h(u,p){var f=p?"Error in "+p+" extension->":"Error in unnamed extension",m={valid:!0,error:""};r.helper.isArray(u)||(u=[u]);for(var g=0;g<u.length;++g){var _=f+" sub-extension "+g+": ",y=u[g];if(typeof y!="object")return m.valid=!1,m.error=_+"must be an object, but "+typeof y+" given",m;if(!r.helper.isString(y.type))return m.valid=!1,m.error=_+'property "type" must be a string, but '+typeof y.type+" given",m;var E=y.type=y.type.toLowerCase();if(E==="language"&&(E=y.type="lang"),E==="html"&&(E=y.type="output"),E!=="lang"&&E!=="output"&&E!=="listener")return m.valid=!1,m.error=_+"type "+E+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',m;if(E==="listener"){if(r.helper.isUndefined(y.listeners))return m.valid=!1,m.error=_+'. Extensions of type "listener" must have a property called "listeners"',m}else if(r.helper.isUndefined(y.filter)&&r.helper.isUndefined(y.regex))return m.valid=!1,m.error=_+E+' extensions must define either a "regex" property or a "filter" method',m;if(y.listeners){if(typeof y.listeners!="object")return m.valid=!1,m.error=_+'"listeners" property must be an object but '+typeof y.listeners+" given",m;for(var b in y.listeners)if(y.listeners.hasOwnProperty(b)&&typeof y.listeners[b]!="function")return m.valid=!1,m.error=_+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+b+" must be a function but "+typeof y.listeners[b]+" given",m}if(y.filter){if(typeof y.filter!="function")return m.valid=!1,m.error=_+'"filter" must be a function, but '+typeof y.filter+" given",m}else if(y.regex){if(r.helper.isString(y.regex)&&(y.regex=new RegExp(y.regex,"g")),!(y.regex instanceof RegExp))return m.valid=!1,m.error=_+'"regex" property must either be a string or a RegExp object, but '+typeof y.regex+" given",m;if(r.helper.isUndefined(y.replace))return m.valid=!1,m.error=_+'"regex" extensions must implement a replace string or function',m}}return m}r.validateExtension=function(u){var p=h(u,null);return p.valid?!0:(console.warn(p.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(u){return typeof u=="string"||u instanceof String},r.helper.isFunction=function(u){var p={};return u&&p.toString.call(u)==="[object Function]"},r.helper.isArray=function(u){return Array.isArray(u)},r.helper.isUndefined=function(u){return typeof u>"u"},r.helper.forEach=function(u,p){if(r.helper.isUndefined(u))throw new Error("obj param is required");if(r.helper.isUndefined(p))throw new Error("callback param is required");if(!r.helper.isFunction(p))throw new Error("callback param must be a function/closure");if(typeof u.forEach=="function")u.forEach(p);else if(r.helper.isArray(u))for(var f=0;f<u.length;f++)p(u[f],f,u);else if(typeof u=="object")for(var m in u)u.hasOwnProperty(m)&&p(u[m],m,u);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(u){return u.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function w(u,p){var f=p.charCodeAt(0);return"E"+f+"E"}r.helper.escapeCharactersCallback=w,r.helper.escapeCharacters=function(u,p,f){var m="(["+p.replace(/([\[\]\\])/g,"\\$1")+"])";f&&(m="\\\\"+m);var g=new RegExp(m,"g");return u=u.replace(g,w),u},r.helper.unescapeHTMLEntities=function(u){return u.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var P=function(u,p,f,m){var g=m||"",_=g.indexOf("g")>-1,y=new RegExp(p+"|"+f,"g"+g.replace(/g/g,"")),E=new RegExp(p,g.replace(/g/g,"")),b=[],T,j,F,R,z;do for(T=0;F=y.exec(u);)if(E.test(F[0]))T++||(j=y.lastIndex,R=j-F[0].length);else if(T&&!--T){z=F.index+F[0].length;var K={left:{start:R,end:j},match:{start:j,end:F.index},right:{start:F.index,end:z},wholeMatch:{start:R,end:z}};if(b.push(K),!_)return b}while(T&&(y.lastIndex=j));return b};r.helper.matchRecursiveRegExp=function(u,p,f,m){for(var g=P(u,p,f,m),_=[],y=0;y<g.length;++y)_.push([u.slice(g[y].wholeMatch.start,g[y].wholeMatch.end),u.slice(g[y].match.start,g[y].match.end),u.slice(g[y].left.start,g[y].left.end),u.slice(g[y].right.start,g[y].right.end)]);return _},r.helper.replaceRecursiveRegExp=function(u,p,f,m,g){if(!r.helper.isFunction(p)){var _=p;p=function(){return _}}var y=P(u,f,m,g),E=u,b=y.length;if(b>0){var T=[];y[0].wholeMatch.start!==0&&T.push(u.slice(0,y[0].wholeMatch.start));for(var j=0;j<b;++j)T.push(p(u.slice(y[j].wholeMatch.start,y[j].wholeMatch.end),u.slice(y[j].match.start,y[j].match.end),u.slice(y[j].left.start,y[j].left.end),u.slice(y[j].right.start,y[j].right.end))),j<b-1&&T.push(u.slice(y[j].wholeMatch.end,y[j+1].wholeMatch.start));y[b-1].wholeMatch.end<u.length&&T.push(u.slice(y[b-1].wholeMatch.end)),E=T.join("")}return E},r.helper.regexIndexOf=function(u,p,f){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(p instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var m=u.substring(f||0).search(p);return m>=0?m+(f||0):m},r.helper.splitAtIndex=function(u,p){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[u.substring(0,p),u.substring(p)]},r.helper.encodeEmailAddress=function(u){var p=[function(f){return"&#"+f.charCodeAt(0)+";"},function(f){return"&#x"+f.charCodeAt(0).toString(16)+";"},function(f){return f}];return u=u.replace(/./g,function(f){if(f==="@")f=p[Math.floor(Math.random()*2)](f);else{var m=Math.random();f=m>.9?p[2](f):m>.45?p[1](f):p[0](f)}return f}),u},r.helper.padEnd=function(p,f,m){return f=f>>0,m=String(m||" "),p.length>f?String(p):(f=f-p.length,f>m.length&&(m+=m.repeat(f/m.length)),String(p)+m.slice(0,f))},typeof console>"u"&&(console={warn:function(u){alert(u)},log:function(u){alert(u)},error:function(u){throw u}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(u){var p={},f=[],m=[],g={},_=l,y={parsed:{},raw:"",format:""};E();function E(){u=u||{};for(var R in a)a.hasOwnProperty(R)&&(p[R]=a[R]);if(typeof u=="object")for(var z in u)u.hasOwnProperty(z)&&(p[z]=u[z]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof u+" was passed instead.");p.extensions&&r.helper.forEach(p.extensions,b)}function b(R,z){if(z=z||null,r.helper.isString(R))if(R=r.helper.stdExtName(R),z=R,r.extensions[R]){console.warn("DEPRECATION WARNING: "+R+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),T(r.extensions[R],R);return}else if(!r.helper.isUndefined(o[R]))R=o[R];else throw Error('Extension "'+R+'" could not be loaded. It was either not found or is not a valid extension.');typeof R=="function"&&(R=R()),r.helper.isArray(R)||(R=[R]);var K=h(R,z);if(!K.valid)throw Error(K.error);for(var Y=0;Y<R.length;++Y){switch(R[Y].type){case"lang":f.push(R[Y]);break;case"output":m.push(R[Y]);break}if(R[Y].hasOwnProperty("listeners"))for(var le in R[Y].listeners)R[Y].listeners.hasOwnProperty(le)&&j(le,R[Y].listeners[le])}}function T(R,z){typeof R=="function"&&(R=R(new r.Converter)),r.helper.isArray(R)||(R=[R]);var K=h(R,z);if(!K.valid)throw Error(K.error);for(var Y=0;Y<R.length;++Y)switch(R[Y].type){case"lang":f.push(R[Y]);break;case"output":m.push(R[Y]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function j(R,z){if(!r.helper.isString(R))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof R+" given");if(typeof z!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof z+" given");g.hasOwnProperty(R)||(g[R]=[]),g[R].push(z)}function F(R){var z=R.match(/^\s*/)[0].length,K=new RegExp("^\\s{0,"+z+"}","gm");return R.replace(K,"")}this._dispatch=function(z,K,Y,le){if(g.hasOwnProperty(z))for(var x=0;x<g[z].length;++x){var G=g[z][x](z,K,this,Y,le);G&&typeof G<"u"&&(K=G)}return K},this.listen=function(R,z){return j(R,z),this},this.makeHtml=function(R){if(!R)return R;var z={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:f,outputModifiers:m,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return R=R.replace(//g,"T"),R=R.replace(/\$/g,"D"),R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),R=R.replace(/\u00A0/g,"&nbsp;"),p.smartIndentationFix&&(R=F(R)),R=`

`+R+`

`,R=r.subParser("detab")(R,p,z),R=R.replace(/^[ \t]+$/mg,""),r.helper.forEach(f,function(K){R=r.subParser("runExtension")(K,R,p,z)}),R=r.subParser("metadata")(R,p,z),R=r.subParser("hashPreCodeTags")(R,p,z),R=r.subParser("githubCodeBlocks")(R,p,z),R=r.subParser("hashHTMLBlocks")(R,p,z),R=r.subParser("hashCodeTags")(R,p,z),R=r.subParser("stripLinkDefinitions")(R,p,z),R=r.subParser("blockGamut")(R,p,z),R=r.subParser("unhashHTMLSpans")(R,p,z),R=r.subParser("unescapeSpecialChars")(R,p,z),R=R.replace(/D/g,"$$"),R=R.replace(/T/g,""),R=r.subParser("completeHTMLDocument")(R,p,z),r.helper.forEach(m,function(K){R=r.subParser("runExtension")(K,R,p,z)}),y=z.metadata,R},this.makeMarkdown=this.makeMd=function(R,z){if(R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),R=R.replace(/>[ \t]+</,">NBSP;<"),!z)if(window&&window.document)z=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var K=z.createElement("div");K.innerHTML=R;var Y={preList:oe(K)};Q(K);for(var le=K.childNodes,x="",G=0;G<le.length;G++)x+=r.subParser("makeMarkdown.node")(le[G],Y);function Q(ie){for(var _e=0;_e<ie.childNodes.length;++_e){var ve=ie.childNodes[_e];ve.nodeType===3?/\S/.test(ve.nodeValue)?(ve.nodeValue=ve.nodeValue.split(`
`).join(" "),ve.nodeValue=ve.nodeValue.replace(/(\s)+/g,"$1")):(ie.removeChild(ve),--_e):ve.nodeType===1&&Q(ve)}}function oe(ie){for(var _e=ie.querySelectorAll("pre"),ve=[],H=0;H<_e.length;++H)if(_e[H].childElementCount===1&&_e[H].firstChild.tagName.toLowerCase()==="code"){var B=_e[H].firstChild.innerHTML.trim(),q=_e[H].firstChild.getAttribute("data-language")||"";if(q==="")for(var ee=_e[H].firstChild.className.split(" "),Se=0;Se<ee.length;++Se){var ye=ee[Se].match(/^language-(.+)$/);if(ye!==null){q=ye[1];break}}B=r.helper.unescapeHTMLEntities(B),ve.push(B),_e[H].outerHTML='<precode language="'+q+'" precodenum="'+H.toString()+'"></precode>'}else ve.push(_e[H].innerHTML),_e[H].innerHTML="",_e[H].setAttribute("prenum",H.toString());return ve}return x},this.setOption=function(R,z){p[R]=z},this.getOption=function(R){return p[R]},this.getOptions=function(){return p},this.addExtension=function(R,z){z=z||null,b(R,z)},this.useExtension=function(R){b(R)},this.setFlavor=function(R){if(!c.hasOwnProperty(R))throw Error(R+" flavor was not found");var z=c[R];_=R;for(var K in z)z.hasOwnProperty(K)&&(p[K]=z[K])},this.getFlavor=function(){return _},this.removeExtension=function(R){r.helper.isArray(R)||(R=[R]);for(var z=0;z<R.length;++z){for(var K=R[z],Y=0;Y<f.length;++Y)f[Y]===K&&f[Y].splice(Y,1);for(var le=0;le<m.length;++Y)m[le]===K&&m[le].splice(Y,1)}},this.getAllExtensions=function(){return{language:f,output:m}},this.getMetadata=function(R){return R?y.raw:y.parsed},this.getMetadataFormat=function(){return y.format},this._setMetadataPair=function(R,z){y.parsed[R]=z},this._setMetadataFormat=function(R){y.format=R},this._setMetadataRaw=function(R){y.raw=R}},r.subParser("anchors",function(u,p,f){u=f.converter._dispatch("anchors.before",u,p,f);var m=function(g,_,y,E,b,T,j){if(r.helper.isUndefined(j)&&(j=""),y=y.toLowerCase(),g.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)E="";else if(!E)if(y||(y=_.toLowerCase().replace(/ ?\n/g," ")),E="#"+y,!r.helper.isUndefined(f.gUrls[y]))E=f.gUrls[y],r.helper.isUndefined(f.gTitles[y])||(j=f.gTitles[y]);else return g;E=E.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var F='<a href="'+E+'"';return j!==""&&j!==null&&(j=j.replace(/"/g,"&quot;"),j=j.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),F+=' title="'+j+'"'),p.openLinksInNewWindow&&!/^#/.test(E)&&(F+=' rel="noopener noreferrer" target="E95Eblank"'),F+=">"+_+"</a>",F};return u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[([^\[\]]+)]()()()()()/g,m),p.ghMentions&&(u=u.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(g,_,y,E,b){if(y==="\\")return _+E;if(!r.helper.isString(p.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var T=p.ghMentionsLink.replace(/\{u}/g,b),j="";return p.openLinksInNewWindow&&(j=' rel="noopener noreferrer" target="E95Eblank"'),_+'<a href="'+T+'"'+j+">"+E+"</a>"})),u=f.converter._dispatch("anchors.after",u,p,f),u});var A=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,M=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,O=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,N=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,C=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,k=function(u){return function(p,f,m,g,_,y,E){m=m.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var b=m,T="",j="",F=f||"",R=E||"";return/^www\./i.test(m)&&(m=m.replace(/^www\./i,"http://www.")),u.excludeTrailingPunctuationFromURLs&&y&&(T=y),u.openLinksInNewWindow&&(j=' rel="noopener noreferrer" target="E95Eblank"'),F+'<a href="'+m+'"'+j+">"+b+"</a>"+T+R}},I=function(u,p){return function(f,m,g){var _="mailto:";return m=m||"",g=r.subParser("unescapeSpecialChars")(g,u,p),u.encodeEmails?(_=r.helper.encodeEmailAddress(_+g),g=r.helper.encodeEmailAddress(g)):_=_+g,m+'<a href="'+_+'">'+g+"</a>"}};r.subParser("autoLinks",function(u,p,f){return u=f.converter._dispatch("autoLinks.before",u,p,f),u=u.replace(O,k(p)),u=u.replace(C,I(p,f)),u=f.converter._dispatch("autoLinks.after",u,p,f),u}),r.subParser("simplifiedAutoLinks",function(u,p,f){return p.simplifiedAutoLink&&(u=f.converter._dispatch("simplifiedAutoLinks.before",u,p,f),p.excludeTrailingPunctuationFromURLs?u=u.replace(M,k(p)):u=u.replace(A,k(p)),u=u.replace(N,I(p,f)),u=f.converter._dispatch("simplifiedAutoLinks.after",u,p,f)),u}),r.subParser("blockGamut",function(u,p,f){return u=f.converter._dispatch("blockGamut.before",u,p,f),u=r.subParser("blockQuotes")(u,p,f),u=r.subParser("headers")(u,p,f),u=r.subParser("horizontalRule")(u,p,f),u=r.subParser("lists")(u,p,f),u=r.subParser("codeBlocks")(u,p,f),u=r.subParser("tables")(u,p,f),u=r.subParser("hashHTMLBlocks")(u,p,f),u=r.subParser("paragraphs")(u,p,f),u=f.converter._dispatch("blockGamut.after",u,p,f),u}),r.subParser("blockQuotes",function(u,p,f){u=f.converter._dispatch("blockQuotes.before",u,p,f),u=u+`

`;var m=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return p.splitAdjacentBlockquotes&&(m=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),u=u.replace(m,function(g){return g=g.replace(/^[ \t]*>[ \t]?/gm,""),g=g.replace(/0/g,""),g=g.replace(/^[ \t]+$/gm,""),g=r.subParser("githubCodeBlocks")(g,p,f),g=r.subParser("blockGamut")(g,p,f),g=g.replace(/(^|\n)/g,"$1  "),g=g.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(_,y){var E=y;return E=E.replace(/^  /mg,"0"),E=E.replace(/0/g,""),E}),r.subParser("hashBlock")(`<blockquote>
`+g+`
</blockquote>`,p,f)}),u=f.converter._dispatch("blockQuotes.after",u,p,f),u}),r.subParser("codeBlocks",function(u,p,f){u=f.converter._dispatch("codeBlocks.before",u,p,f),u+="0";var m=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return u=u.replace(m,function(g,_,y){var E=_,b=y,T=`
`;return E=r.subParser("outdent")(E,p,f),E=r.subParser("encodeCode")(E,p,f),E=r.subParser("detab")(E,p,f),E=E.replace(/^\n+/g,""),E=E.replace(/\n+$/g,""),p.omitExtraWLInCodeBlocks&&(T=""),E="<pre><code>"+E+T+"</code></pre>",r.subParser("hashBlock")(E,p,f)+b}),u=u.replace(/0/,""),u=f.converter._dispatch("codeBlocks.after",u,p,f),u}),r.subParser("codeSpans",function(u,p,f){return u=f.converter._dispatch("codeSpans.before",u,p,f),typeof u>"u"&&(u=""),u=u.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(m,g,_,y){var E=y;return E=E.replace(/^([ \t]*)/g,""),E=E.replace(/[ \t]*$/g,""),E=r.subParser("encodeCode")(E,p,f),E=g+"<code>"+E+"</code>",E=r.subParser("hashHTMLSpans")(E,p,f),E}),u=f.converter._dispatch("codeSpans.after",u,p,f),u}),r.subParser("completeHTMLDocument",function(u,p,f){if(!p.completeHTMLDocument)return u;u=f.converter._dispatch("completeHTMLDocument.before",u,p,f);var m="html",g=`<!DOCTYPE HTML>
`,_="",y=`<meta charset="utf-8">
`,E="",b="";typeof f.metadata.parsed.doctype<"u"&&(g="<!DOCTYPE "+f.metadata.parsed.doctype+`>
`,m=f.metadata.parsed.doctype.toString().toLowerCase(),(m==="html"||m==="html5")&&(y='<meta charset="utf-8">'));for(var T in f.metadata.parsed)if(f.metadata.parsed.hasOwnProperty(T))switch(T.toLowerCase()){case"doctype":break;case"title":_="<title>"+f.metadata.parsed.title+`</title>
`;break;case"charset":m==="html"||m==="html5"?y='<meta charset="'+f.metadata.parsed.charset+`">
`:y='<meta name="charset" content="'+f.metadata.parsed.charset+`">
`;break;case"language":case"lang":E=' lang="'+f.metadata.parsed[T]+'"',b+='<meta name="'+T+'" content="'+f.metadata.parsed[T]+`">
`;break;default:b+='<meta name="'+T+'" content="'+f.metadata.parsed[T]+`">
`}return u=g+"<html"+E+`>
<head>
`+_+y+b+`</head>
<body>
`+u.trim()+`
</body>
</html>`,u=f.converter._dispatch("completeHTMLDocument.after",u,p,f),u}),r.subParser("detab",function(u,p,f){return u=f.converter._dispatch("detab.before",u,p,f),u=u.replace(/\t(?=\t)/g,"    "),u=u.replace(/\t/g,"AB"),u=u.replace(/B(.+?)A/g,function(m,g){for(var _=g,y=4-_.length%4,E=0;E<y;E++)_+=" ";return _}),u=u.replace(/A/g,"    "),u=u.replace(/B/g,""),u=f.converter._dispatch("detab.after",u,p,f),u}),r.subParser("ellipsis",function(u,p,f){return u=f.converter._dispatch("ellipsis.before",u,p,f),u=u.replace(/\.\.\./g,""),u=f.converter._dispatch("ellipsis.after",u,p,f),u}),r.subParser("emoji",function(u,p,f){if(!p.emoji)return u;u=f.converter._dispatch("emoji.before",u,p,f);var m=/:([\S]+?):/g;return u=u.replace(m,function(g,_){return r.helper.emojis.hasOwnProperty(_)?r.helper.emojis[_]:g}),u=f.converter._dispatch("emoji.after",u,p,f),u}),r.subParser("encodeAmpsAndAngles",function(u,p,f){return u=f.converter._dispatch("encodeAmpsAndAngles.before",u,p,f),u=u.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),u=u.replace(/<(?![a-z\/?$!])/gi,"&lt;"),u=u.replace(/</g,"&lt;"),u=u.replace(/>/g,"&gt;"),u=f.converter._dispatch("encodeAmpsAndAngles.after",u,p,f),u}),r.subParser("encodeBackslashEscapes",function(u,p,f){return u=f.converter._dispatch("encodeBackslashEscapes.before",u,p,f),u=u.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),u=u.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),u=f.converter._dispatch("encodeBackslashEscapes.after",u,p,f),u}),r.subParser("encodeCode",function(u,p,f){return u=f.converter._dispatch("encodeCode.before",u,p,f),u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),u=f.converter._dispatch("encodeCode.after",u,p,f),u}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(u,p,f){u=f.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",u,p,f);var m=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,g=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return u=u.replace(m,function(_){return _.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=u.replace(g,function(_){return _.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=f.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",u,p,f),u}),r.subParser("githubCodeBlocks",function(u,p,f){return p.ghCodeBlocks?(u=f.converter._dispatch("githubCodeBlocks.before",u,p,f),u+="0",u=u.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(m,g,_,y){var E=p.omitExtraWLInCodeBlocks?"":`
`;return y=r.subParser("encodeCode")(y,p,f),y=r.subParser("detab")(y,p,f),y=y.replace(/^\n+/g,""),y=y.replace(/\n+$/g,""),y="<pre><code"+(_?' class="'+_+" language-"+_+'"':"")+">"+y+E+"</code></pre>",y=r.subParser("hashBlock")(y,p,f),`

G`+(f.ghCodeBlocks.push({text:m,codeblock:y})-1)+`G

`}),u=u.replace(/0/,""),f.converter._dispatch("githubCodeBlocks.after",u,p,f)):u}),r.subParser("hashBlock",function(u,p,f){return u=f.converter._dispatch("hashBlock.before",u,p,f),u=u.replace(/(^\n+|\n+$)/g,""),u=`

K`+(f.gHtmlBlocks.push(u)-1)+`K

`,u=f.converter._dispatch("hashBlock.after",u,p,f),u}),r.subParser("hashCodeTags",function(u,p,f){u=f.converter._dispatch("hashCodeTags.before",u,p,f);var m=function(g,_,y,E){var b=y+r.subParser("encodeCode")(_,p,f)+E;return"C"+(f.gHtmlSpans.push(b)-1)+"C"};return u=r.helper.replaceRecursiveRegExp(u,m,"<code\\b[^>]*>","</code>","gim"),u=f.converter._dispatch("hashCodeTags.after",u,p,f),u}),r.subParser("hashElement",function(u,p,f){return function(m,g){var _=g;return _=_.replace(/\n\n/g,`
`),_=_.replace(/^\n/,""),_=_.replace(/\n+$/g,""),_=`

K`+(f.gHtmlBlocks.push(_)-1)+`K

`,_}}),r.subParser("hashHTMLBlocks",function(u,p,f){u=f.converter._dispatch("hashHTMLBlocks.before",u,p,f);var m=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],g=function(R,z,K,Y){var le=R;return K.search(/\bmarkdown\b/)!==-1&&(le=K+f.converter.makeHtml(z)+Y),`

K`+(f.gHtmlBlocks.push(le)-1)+`K

`};p.backslashEscapesHTMLTags&&(u=u.replace(/\\<(\/?[^>]+?)>/g,function(R,z){return"&lt;"+z+"&gt;"}));for(var _=0;_<m.length;++_)for(var y,E=new RegExp("^ {0,3}(<"+m[_]+"\\b[^>]*>)","im"),b="<"+m[_]+"\\b[^>]*>",T="</"+m[_]+">";(y=r.helper.regexIndexOf(u,E))!==-1;){var j=r.helper.splitAtIndex(u,y),F=r.helper.replaceRecursiveRegExp(j[1],g,b,T,"im");if(F===j[1])break;u=j[0].concat(F)}return u=u.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,p,f)),u=r.helper.replaceRecursiveRegExp(u,function(R){return`

K`+(f.gHtmlBlocks.push(R)-1)+`K

`},"^ {0,3}<!--","-->","gm"),u=u.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,p,f)),u=f.converter._dispatch("hashHTMLBlocks.after",u,p,f),u}),r.subParser("hashHTMLSpans",function(u,p,f){u=f.converter._dispatch("hashHTMLSpans.before",u,p,f);function m(g){return"C"+(f.gHtmlSpans.push(g)-1)+"C"}return u=u.replace(/<[^>]+?\/>/gi,function(g){return m(g)}),u=u.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(g){return m(g)}),u=u.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(g){return m(g)}),u=u.replace(/<[^>]+?>/gi,function(g){return m(g)}),u=f.converter._dispatch("hashHTMLSpans.after",u,p,f),u}),r.subParser("unhashHTMLSpans",function(u,p,f){u=f.converter._dispatch("unhashHTMLSpans.before",u,p,f);for(var m=0;m<f.gHtmlSpans.length;++m){for(var g=f.gHtmlSpans[m],_=0;/C(\d+)C/.test(g);){var y=RegExp.$1;if(g=g.replace("C"+y+"C",f.gHtmlSpans[y]),_===10){console.error("maximum nesting of 10 spans reached!!!");break}++_}u=u.replace("C"+m+"C",g)}return u=f.converter._dispatch("unhashHTMLSpans.after",u,p,f),u}),r.subParser("hashPreCodeTags",function(u,p,f){u=f.converter._dispatch("hashPreCodeTags.before",u,p,f);var m=function(g,_,y,E){var b=y+r.subParser("encodeCode")(_,p,f)+E;return`

G`+(f.ghCodeBlocks.push({text:g,codeblock:b})-1)+`G

`};return u=r.helper.replaceRecursiveRegExp(u,m,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),u=f.converter._dispatch("hashPreCodeTags.after",u,p,f),u}),r.subParser("headers",function(u,p,f){u=f.converter._dispatch("headers.before",u,p,f);var m=isNaN(parseInt(p.headerLevelStart))?1:parseInt(p.headerLevelStart),g=p.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,_=p.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;u=u.replace(g,function(b,T){var j=r.subParser("spanGamut")(T,p,f),F=p.noHeaderId?"":' id="'+E(T)+'"',R=m,z="<h"+R+F+">"+j+"</h"+R+">";return r.subParser("hashBlock")(z,p,f)}),u=u.replace(_,function(b,T){var j=r.subParser("spanGamut")(T,p,f),F=p.noHeaderId?"":' id="'+E(T)+'"',R=m+1,z="<h"+R+F+">"+j+"</h"+R+">";return r.subParser("hashBlock")(z,p,f)});var y=p.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;u=u.replace(y,function(b,T,j){var F=j;p.customizedHeaderId&&(F=j.replace(/\s?\{([^{]+?)}\s*$/,""));var R=r.subParser("spanGamut")(F,p,f),z=p.noHeaderId?"":' id="'+E(j)+'"',K=m-1+T.length,Y="<h"+K+z+">"+R+"</h"+K+">";return r.subParser("hashBlock")(Y,p,f)});function E(b){var T,j;if(p.customizedHeaderId){var F=b.match(/\{([^{]+?)}\s*$/);F&&F[1]&&(b=F[1])}return T=b,r.helper.isString(p.prefixHeaderId)?j=p.prefixHeaderId:p.prefixHeaderId===!0?j="section-":j="",p.rawPrefixHeaderId||(T=j+T),p.ghCompatibleHeaderId?T=T.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():p.rawHeaderId?T=T.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():T=T.replace(/[^\w]/g,"").toLowerCase(),p.rawPrefixHeaderId&&(T=j+T),f.hashLinkCounts[T]?T=T+"-"+f.hashLinkCounts[T]++:f.hashLinkCounts[T]=1,T}return u=f.converter._dispatch("headers.after",u,p,f),u}),r.subParser("horizontalRule",function(u,p,f){u=f.converter._dispatch("horizontalRule.before",u,p,f);var m=r.subParser("hashBlock")("<hr />",p,f);return u=u.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,m),u=f.converter._dispatch("horizontalRule.after",u,p,f),u}),r.subParser("images",function(u,p,f){u=f.converter._dispatch("images.before",u,p,f);var m=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,g=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,_=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,y=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,E=/!\[([^\[\]]+)]()()()()()/g;function b(j,F,R,z,K,Y,le,x){return z=z.replace(/\s/g,""),T(j,F,R,z,K,Y,le,x)}function T(j,F,R,z,K,Y,le,x){var G=f.gUrls,Q=f.gTitles,oe=f.gDimensions;if(R=R.toLowerCase(),x||(x=""),j.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)z="";else if(z===""||z===null)if((R===""||R===null)&&(R=F.toLowerCase().replace(/ ?\n/g," ")),z="#"+R,!r.helper.isUndefined(G[R]))z=G[R],r.helper.isUndefined(Q[R])||(x=Q[R]),r.helper.isUndefined(oe[R])||(K=oe[R].width,Y=oe[R].height);else return j;F=F.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),z=z.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ie='<img src="'+z+'" alt="'+F+'"';return x&&r.helper.isString(x)&&(x=x.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ie+=' title="'+x+'"'),K&&Y&&(K=K==="*"?"auto":K,Y=Y==="*"?"auto":Y,ie+=' width="'+K+'"',ie+=' height="'+Y+'"'),ie+=" />",ie}return u=u.replace(y,T),u=u.replace(_,b),u=u.replace(g,T),u=u.replace(m,T),u=u.replace(E,T),u=f.converter._dispatch("images.after",u,p,f),u}),r.subParser("italicsAndBold",function(u,p,f){u=f.converter._dispatch("italicsAndBold.before",u,p,f);function m(g,_,y){return _+g+y}return p.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(g,_){return m(_,"<strong><em>","</em></strong>")}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(g,_){return m(_,"<strong>","</strong>")}),u=u.replace(/\b_(\S[\s\S]*?)_\b/g,function(g,_){return m(_,"<em>","</em>")})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(g,_){return/\S$/.test(_)?m(_,"<strong><em>","</em></strong>"):g}),u=u.replace(/__(\S[\s\S]*?)__/g,function(g,_){return/\S$/.test(_)?m(_,"<strong>","</strong>"):g}),u=u.replace(/_([^\s_][\s\S]*?)_/g,function(g,_){return/\S$/.test(_)?m(_,"<em>","</em>"):g})),p.literalMidWordAsterisks?(u=u.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(g,_,y){return m(y,_+"<strong><em>","</em></strong>")}),u=u.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(g,_,y){return m(y,_+"<strong>","</strong>")}),u=u.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(g,_,y){return m(y,_+"<em>","</em>")})):(u=u.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(g,_){return/\S$/.test(_)?m(_,"<strong><em>","</em></strong>"):g}),u=u.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(g,_){return/\S$/.test(_)?m(_,"<strong>","</strong>"):g}),u=u.replace(/\*([^\s*][\s\S]*?)\*/g,function(g,_){return/\S$/.test(_)?m(_,"<em>","</em>"):g})),u=f.converter._dispatch("italicsAndBold.after",u,p,f),u}),r.subParser("lists",function(u,p,f){function m(y,E){f.gListLevel++,y=y.replace(/\n{2,}$/,`
`),y+="0";var b=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,T=/\n[ \t]*\n(?!0)/.test(y);return p.disableForced4SpacesIndentedSublists&&(b=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),y=y.replace(b,function(j,F,R,z,K,Y,le){le=le&&le.trim()!=="";var x=r.subParser("outdent")(K,p,f),G="";return Y&&p.tasklists&&(G=' class="task-list-item" style="list-style-type: none;"',x=x.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Q='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return le&&(Q+=" checked"),Q+=">",Q})),x=x.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Q){return"A"+Q}),F||x.search(/\n{2,}/)>-1?(x=r.subParser("githubCodeBlocks")(x,p,f),x=r.subParser("blockGamut")(x,p,f)):(x=r.subParser("lists")(x,p,f),x=x.replace(/\n$/,""),x=r.subParser("hashHTMLBlocks")(x,p,f),x=x.replace(/\n\n+/g,`

`),T?x=r.subParser("paragraphs")(x,p,f):x=r.subParser("spanGamut")(x,p,f)),x=x.replace("A",""),x="<li"+G+">"+x+`</li>
`,x}),y=y.replace(/0/g,""),f.gListLevel--,E&&(y=y.replace(/\s+$/,"")),y}function g(y,E){if(E==="ol"){var b=y.match(/^ *(\d+)\./);if(b&&b[1]!=="1")return' start="'+b[1]+'"'}return""}function _(y,E,b){var T=p.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,j=p.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,F=E==="ul"?T:j,R="";if(y.search(F)!==-1)(function K(Y){var le=Y.search(F),x=g(y,E);le!==-1?(R+=`

<`+E+x+`>
`+m(Y.slice(0,le),!!b)+"</"+E+`>
`,E=E==="ul"?"ol":"ul",F=E==="ul"?T:j,K(Y.slice(le))):R+=`

<`+E+x+`>
`+m(Y,!!b)+"</"+E+`>
`})(y);else{var z=g(y,E);R=`

<`+E+z+`>
`+m(y,!!b)+"</"+E+`>
`}return R}return u=f.converter._dispatch("lists.before",u,p,f),u+="0",f.gListLevel?u=u.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(y,E,b){var T=b.search(/[*+-]/g)>-1?"ul":"ol";return _(E,T,!0)}):u=u.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(y,E,b,T){var j=T.search(/[*+-]/g)>-1?"ul":"ol";return _(b,j,!1)}),u=u.replace(/0/,""),u=f.converter._dispatch("lists.after",u,p,f),u}),r.subParser("metadata",function(u,p,f){if(!p.metadata)return u;u=f.converter._dispatch("metadata.before",u,p,f);function m(g){f.metadata.raw=g,g=g.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),g=g.replace(/\n {4}/g," "),g.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(_,y,E){return f.metadata.parsed[y]=E,""})}return u=u.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(g,_,y){return m(y),"M"}),u=u.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(g,_,y){return _&&(f.metadata.format=_),m(y),"M"}),u=u.replace(/M/g,""),u=f.converter._dispatch("metadata.after",u,p,f),u}),r.subParser("outdent",function(u,p,f){return u=f.converter._dispatch("outdent.before",u,p,f),u=u.replace(/^(\t|[ ]{1,4})/gm,"0"),u=u.replace(/0/g,""),u=f.converter._dispatch("outdent.after",u,p,f),u}),r.subParser("paragraphs",function(u,p,f){u=f.converter._dispatch("paragraphs.before",u,p,f),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,"");for(var m=u.split(/\n{2,}/g),g=[],_=m.length,y=0;y<_;y++){var E=m[y];E.search(/(K|G)(\d+)\1/g)>=0?g.push(E):E.search(/\S/)>=0&&(E=r.subParser("spanGamut")(E,p,f),E=E.replace(/^([ \t]*)/g,"<p>"),E+="</p>",g.push(E))}for(_=g.length,y=0;y<_;y++){for(var b="",T=g[y],j=!1;/(K|G)(\d+)\1/.test(T);){var F=RegExp.$1,R=RegExp.$2;F==="K"?b=f.gHtmlBlocks[R]:j?b=r.subParser("encodeCode")(f.ghCodeBlocks[R].text,p,f):b=f.ghCodeBlocks[R].codeblock,b=b.replace(/\$/g,"$$$$"),T=T.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,b),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(T)&&(j=!0)}g[y]=T}return u=g.join(`
`),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,""),f.converter._dispatch("paragraphs.after",u,p,f)}),r.subParser("runExtension",function(u,p,f,m){if(u.filter)p=u.filter(p,m.converter,f);else if(u.regex){var g=u.regex;g instanceof RegExp||(g=new RegExp(g,"g")),p=p.replace(g,u.replace)}return p}),r.subParser("spanGamut",function(u,p,f){return u=f.converter._dispatch("spanGamut.before",u,p,f),u=r.subParser("codeSpans")(u,p,f),u=r.subParser("escapeSpecialCharsWithinTagAttributes")(u,p,f),u=r.subParser("encodeBackslashEscapes")(u,p,f),u=r.subParser("images")(u,p,f),u=r.subParser("anchors")(u,p,f),u=r.subParser("autoLinks")(u,p,f),u=r.subParser("simplifiedAutoLinks")(u,p,f),u=r.subParser("emoji")(u,p,f),u=r.subParser("underline")(u,p,f),u=r.subParser("italicsAndBold")(u,p,f),u=r.subParser("strikethrough")(u,p,f),u=r.subParser("ellipsis")(u,p,f),u=r.subParser("hashHTMLSpans")(u,p,f),u=r.subParser("encodeAmpsAndAngles")(u,p,f),p.simpleLineBreaks?/\n\nK/.test(u)||(u=u.replace(/\n+/g,`<br />
`)):u=u.replace(/  +\n/g,`<br />
`),u=f.converter._dispatch("spanGamut.after",u,p,f),u}),r.subParser("strikethrough",function(u,p,f){function m(g){return p.simplifiedAutoLink&&(g=r.subParser("simplifiedAutoLinks")(g,p,f)),"<del>"+g+"</del>"}return p.strikethrough&&(u=f.converter._dispatch("strikethrough.before",u,p,f),u=u.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(g,_){return m(_)}),u=f.converter._dispatch("strikethrough.after",u,p,f)),u}),r.subParser("stripLinkDefinitions",function(u,p,f){var m=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,g=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;u+="0";var _=function(y,E,b,T,j,F,R){return E=E.toLowerCase(),b.match(/^data:.+?\/.+?;base64,/)?f.gUrls[E]=b.replace(/\s/g,""):f.gUrls[E]=r.subParser("encodeAmpsAndAngles")(b,p,f),F?F+R:(R&&(f.gTitles[E]=R.replace(/"|'/g,"&quot;")),p.parseImgDimensions&&T&&j&&(f.gDimensions[E]={width:T,height:j}),"")};return u=u.replace(g,_),u=u.replace(m,_),u=u.replace(/0/,""),u}),r.subParser("tables",function(u,p,f){if(!p.tables)return u;var m=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,g=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function _(j){return/^:[ \t]*--*$/.test(j)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(j)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(j)?' style="text-align:center;"':""}function y(j,F){var R="";return j=j.trim(),(p.tablesHeaderId||p.tableHeaderId)&&(R=' id="'+j.replace(/ /g,"_").toLowerCase()+'"'),j=r.subParser("spanGamut")(j,p,f),"<th"+R+F+">"+j+`</th>
`}function E(j,F){var R=r.subParser("spanGamut")(j,p,f);return"<td"+F+">"+R+`</td>
`}function b(j,F){for(var R=`<table>
<thead>
<tr>
`,z=j.length,K=0;K<z;++K)R+=j[K];for(R+=`</tr>
</thead>
<tbody>
`,K=0;K<F.length;++K){R+=`<tr>
`;for(var Y=0;Y<z;++Y)R+=F[K][Y];R+=`</tr>
`}return R+=`</tbody>
</table>
`,R}function T(j){var F,R=j.split(`
`);for(F=0;F<R.length;++F)/^ {0,3}\|/.test(R[F])&&(R[F]=R[F].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(R[F])&&(R[F]=R[F].replace(/\|[ \t]*$/,"")),R[F]=r.subParser("codeSpans")(R[F],p,f);var z=R[0].split("|").map(function(ie){return ie.trim()}),K=R[1].split("|").map(function(ie){return ie.trim()}),Y=[],le=[],x=[],G=[];for(R.shift(),R.shift(),F=0;F<R.length;++F)R[F].trim()!==""&&Y.push(R[F].split("|").map(function(ie){return ie.trim()}));if(z.length<K.length)return j;for(F=0;F<K.length;++F)x.push(_(K[F]));for(F=0;F<z.length;++F)r.helper.isUndefined(x[F])&&(x[F]=""),le.push(y(z[F],x[F]));for(F=0;F<Y.length;++F){for(var Q=[],oe=0;oe<le.length;++oe)r.helper.isUndefined(Y[F][oe]),Q.push(E(Y[F][oe],x[oe]));G.push(Q)}return b(le,G)}return u=f.converter._dispatch("tables.before",u,p,f),u=u.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),u=u.replace(m,T),u=u.replace(g,T),u=f.converter._dispatch("tables.after",u,p,f),u}),r.subParser("underline",function(u,p,f){return p.underline&&(u=f.converter._dispatch("underline.before",u,p,f),p.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(m,g){return"<u>"+g+"</u>"}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(m,g){return"<u>"+g+"</u>"})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(m,g){return/\S$/.test(g)?"<u>"+g+"</u>":m}),u=u.replace(/__(\S[\s\S]*?)__/g,function(m,g){return/\S$/.test(g)?"<u>"+g+"</u>":m})),u=u.replace(/(_)/g,r.helper.escapeCharactersCallback),u=f.converter._dispatch("underline.after",u,p,f)),u}),r.subParser("unescapeSpecialChars",function(u,p,f){return u=f.converter._dispatch("unescapeSpecialChars.before",u,p,f),u=u.replace(/E(\d+)E/g,function(m,g){var _=parseInt(g);return String.fromCharCode(_)}),u=f.converter._dispatch("unescapeSpecialChars.after",u,p,f),u}),r.subParser("makeMarkdown.blockquote",function(u,p){var f="";if(u.hasChildNodes())for(var m=u.childNodes,g=m.length,_=0;_<g;++_){var y=r.subParser("makeMarkdown.node")(m[_],p);y!==""&&(f+=y)}return f=f.trim(),f="> "+f.split(`
`).join(`
> `),f}),r.subParser("makeMarkdown.codeBlock",function(u,p){var f=u.getAttribute("language"),m=u.getAttribute("precodenum");return"```"+f+`
`+p.preList[m]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(u){return"`"+u.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(u,p){var f="";if(u.hasChildNodes()){f+="*";for(var m=u.childNodes,g=m.length,_=0;_<g;++_)f+=r.subParser("makeMarkdown.node")(m[_],p);f+="*"}return f}),r.subParser("makeMarkdown.header",function(u,p,f){var m=new Array(f+1).join("#"),g="";if(u.hasChildNodes()){g=m+" ";for(var _=u.childNodes,y=_.length,E=0;E<y;++E)g+=r.subParser("makeMarkdown.node")(_[E],p)}return g}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(u){var p="";return u.hasAttribute("src")&&(p+="!["+u.getAttribute("alt")+"](",p+="<"+u.getAttribute("src")+">",u.hasAttribute("width")&&u.hasAttribute("height")&&(p+=" ="+u.getAttribute("width")+"x"+u.getAttribute("height")),u.hasAttribute("title")&&(p+=' "'+u.getAttribute("title")+'"'),p+=")"),p}),r.subParser("makeMarkdown.links",function(u,p){var f="";if(u.hasChildNodes()&&u.hasAttribute("href")){var m=u.childNodes,g=m.length;f="[";for(var _=0;_<g;++_)f+=r.subParser("makeMarkdown.node")(m[_],p);f+="](",f+="<"+u.getAttribute("href")+">",u.hasAttribute("title")&&(f+=' "'+u.getAttribute("title")+'"'),f+=")"}return f}),r.subParser("makeMarkdown.list",function(u,p,f){var m="";if(!u.hasChildNodes())return"";for(var g=u.childNodes,_=g.length,y=u.getAttribute("start")||1,E=0;E<_;++E)if(!(typeof g[E].tagName>"u"||g[E].tagName.toLowerCase()!=="li")){var b="";f==="ol"?b=y.toString()+". ":b="- ",m+=b+r.subParser("makeMarkdown.listItem")(g[E],p),++y}return m+=`
<!-- -->
`,m.trim()}),r.subParser("makeMarkdown.listItem",function(u,p){for(var f="",m=u.childNodes,g=m.length,_=0;_<g;++_)f+=r.subParser("makeMarkdown.node")(m[_],p);return/\n$/.test(f)?f=f.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):f+=`
`,f}),r.subParser("makeMarkdown.node",function(u,p,f){f=f||!1;var m="";if(u.nodeType===3)return r.subParser("makeMarkdown.txt")(u,p);if(u.nodeType===8)return"<!--"+u.data+`-->

`;if(u.nodeType!==1)return"";var g=u.tagName.toLowerCase();switch(g){case"h1":f||(m=r.subParser("makeMarkdown.header")(u,p,1)+`

`);break;case"h2":f||(m=r.subParser("makeMarkdown.header")(u,p,2)+`

`);break;case"h3":f||(m=r.subParser("makeMarkdown.header")(u,p,3)+`

`);break;case"h4":f||(m=r.subParser("makeMarkdown.header")(u,p,4)+`

`);break;case"h5":f||(m=r.subParser("makeMarkdown.header")(u,p,5)+`

`);break;case"h6":f||(m=r.subParser("makeMarkdown.header")(u,p,6)+`

`);break;case"p":f||(m=r.subParser("makeMarkdown.paragraph")(u,p)+`

`);break;case"blockquote":f||(m=r.subParser("makeMarkdown.blockquote")(u,p)+`

`);break;case"hr":f||(m=r.subParser("makeMarkdown.hr")(u,p)+`

`);break;case"ol":f||(m=r.subParser("makeMarkdown.list")(u,p,"ol")+`

`);break;case"ul":f||(m=r.subParser("makeMarkdown.list")(u,p,"ul")+`

`);break;case"precode":f||(m=r.subParser("makeMarkdown.codeBlock")(u,p)+`

`);break;case"pre":f||(m=r.subParser("makeMarkdown.pre")(u,p)+`

`);break;case"table":f||(m=r.subParser("makeMarkdown.table")(u,p)+`

`);break;case"code":m=r.subParser("makeMarkdown.codeSpan")(u,p);break;case"em":case"i":m=r.subParser("makeMarkdown.emphasis")(u,p);break;case"strong":case"b":m=r.subParser("makeMarkdown.strong")(u,p);break;case"del":m=r.subParser("makeMarkdown.strikethrough")(u,p);break;case"a":m=r.subParser("makeMarkdown.links")(u,p);break;case"img":m=r.subParser("makeMarkdown.image")(u,p);break;default:m=u.outerHTML+`

`}return m}),r.subParser("makeMarkdown.paragraph",function(u,p){var f="";if(u.hasChildNodes())for(var m=u.childNodes,g=m.length,_=0;_<g;++_)f+=r.subParser("makeMarkdown.node")(m[_],p);return f=f.trim(),f}),r.subParser("makeMarkdown.pre",function(u,p){var f=u.getAttribute("prenum");return"<pre>"+p.preList[f]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(u,p){var f="";if(u.hasChildNodes()){f+="~~";for(var m=u.childNodes,g=m.length,_=0;_<g;++_)f+=r.subParser("makeMarkdown.node")(m[_],p);f+="~~"}return f}),r.subParser("makeMarkdown.strong",function(u,p){var f="";if(u.hasChildNodes()){f+="**";for(var m=u.childNodes,g=m.length,_=0;_<g;++_)f+=r.subParser("makeMarkdown.node")(m[_],p);f+="**"}return f}),r.subParser("makeMarkdown.table",function(u,p){var f="",m=[[],[]],g=u.querySelectorAll("thead>tr>th"),_=u.querySelectorAll("tbody>tr"),y,E;for(y=0;y<g.length;++y){var b=r.subParser("makeMarkdown.tableCell")(g[y],p),T="---";if(g[y].hasAttribute("style")){var j=g[y].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(j){case"text-align:left;":T=":---";break;case"text-align:right;":T="---:";break;case"text-align:center;":T=":---:";break}}m[0][y]=b.trim(),m[1][y]=T}for(y=0;y<_.length;++y){var F=m.push([])-1,R=_[y].getElementsByTagName("td");for(E=0;E<g.length;++E){var z=" ";typeof R[E]<"u"&&(z=r.subParser("makeMarkdown.tableCell")(R[E],p)),m[F].push(z)}}var K=3;for(y=0;y<m.length;++y)for(E=0;E<m[y].length;++E){var Y=m[y][E].length;Y>K&&(K=Y)}for(y=0;y<m.length;++y){for(E=0;E<m[y].length;++E)y===1?m[y][E].slice(-1)===":"?m[y][E]=r.helper.padEnd(m[y][E].slice(-1),K-1,"-")+":":m[y][E]=r.helper.padEnd(m[y][E],K,"-"):m[y][E]=r.helper.padEnd(m[y][E],K);f+="| "+m[y].join(" | ")+` |
`}return f.trim()}),r.subParser("makeMarkdown.tableCell",function(u,p){var f="";if(!u.hasChildNodes())return"";for(var m=u.childNodes,g=m.length,_=0;_<g;++_)f+=r.subParser("makeMarkdown.node")(m[_],p,!0);return f.trim()}),r.subParser("makeMarkdown.txt",function(u){var p=u.nodeValue;return p=p.replace(/ +/g," "),p=p.replace(/NBSP;/g," "),p=r.helper.unescapeHTMLEntities(p),p=p.replace(/([*_~|`])/g,"\\$1"),p=p.replace(/^(\s*)>/g,"\\$1>"),p=p.replace(/^#/gm,"\\#"),p=p.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),p=p.replace(/^( {0,3}\d+)\./gm,"$1\\."),p=p.replace(/^( {0,3})([+-])/gm,"$1\\$2"),p=p.replace(/]([\s]*)\(/g,"\\]$1\\("),p=p.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),p});var D=this;t.exports?t.exports=r:D.showdown=r}).call(ae)})(Sv);var e3=Sv.exports;const t3=Bo(e3);function n3({currentNote:t,updateNote:e}){const[n,r]=Lr.useState("write"),i=new t3.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return ze.jsx("section",{className:"pane editor",children:ze.jsx(Zw,{value:t.body,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:o=>Promise.resolve(i.makeHtml(o)),minEditorHeight:80,heightUnits:"vh"})})}var kv={exports:{}},r3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",i3=r3,o3=i3;function Cv(){}function Av(){}Av.resetWarningCache=Cv;var s3=function(){function t(r,i,o,a,l,c){if(c!==o3){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Av,resetWarningCache:Cv};return n.PropTypes=n,n};kv.exports=s3();var a3=kv.exports;const Ee=Bo(a3);var kt=typeof window<"u"?window:null,Rd=kt===null,Oo=Rd?void 0:kt.document,Vt="addEventListener",Lt="removeEventListener",ml="getBoundingClientRect",Wi="_a",xt="_b",tn="_c",Ms="horizontal",jt=function(){return!1},u3=Rd?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=Oo.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",Iv=function(t){return typeof t=="string"||t instanceof String},Ip=function(t){if(Iv(t)){var e=Oo.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},tt=function(t,e,n){var r=t[e];return r!==void 0?r:n},Os=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},l3=function(t,e){var n=Oo.createElement("div");return n.className="gutter gutter-"+e,n},c3=function(t,e,n){var r={};return Iv(e)?r[t]=e:r[t]=u3+"("+e+"% - "+n+"px)",r},d3=function(t,e){var n;return n={},n[t]=e+"px",n},Pp=function(t,e){if(e===void 0&&(e={}),Rd)return{};var n=t,r,i,o,a,l,c;Array.from&&(n=Array.from(n));var h=Ip(n[0]),w=h.parentNode,P=getComputedStyle?getComputedStyle(w):null,A=P?P.flexDirection:null,M=tt(e,"sizes")||n.map(function(){return 100/n.length}),O=tt(e,"minSize",100),N=Array.isArray(O)?O:n.map(function(){return O}),C=tt(e,"maxSize",1/0),k=Array.isArray(C)?C:n.map(function(){return C}),I=tt(e,"expandToMin",!1),D=tt(e,"gutterSize",10),u=tt(e,"gutterAlign","center"),p=tt(e,"snapOffset",30),f=Array.isArray(p)?p:n.map(function(){return p}),m=tt(e,"dragInterval",1),g=tt(e,"direction",Ms),_=tt(e,"cursor",g===Ms?"col-resize":"row-resize"),y=tt(e,"gutter",l3),E=tt(e,"elementStyle",c3),b=tt(e,"gutterStyle",d3);g===Ms?(r="width",i="clientX",o="left",a="right",l="clientWidth"):g==="vertical"&&(r="height",i="clientY",o="top",a="bottom",l="clientHeight");function T(H,B,q,ee){var Se=E(r,B,q,ee);Object.keys(Se).forEach(function(ye){H.style[ye]=Se[ye]})}function j(H,B,q){var ee=b(r,B,q);Object.keys(ee).forEach(function(Se){H.style[Se]=ee[Se]})}function F(){return c.map(function(H){return H.size})}function R(H){return"touches"in H?H.touches[0][i]:H[i]}function z(H){var B=c[this.a],q=c[this.b],ee=B.size+q.size;B.size=H/this.size*ee,q.size=ee-H/this.size*ee,T(B.element,B.size,this[xt],B.i),T(q.element,q.size,this[tn],q.i)}function K(H){var B,q=c[this.a],ee=c[this.b];this.dragging&&(B=R(H)-this.start+(this[xt]-this.dragOffset),m>1&&(B=Math.round(B/m)*m),B<=q.minSize+q.snapOffset+this[xt]?B=q.minSize+this[xt]:B>=this.size-(ee.minSize+ee.snapOffset+this[tn])&&(B=this.size-(ee.minSize+this[tn])),B>=q.maxSize-q.snapOffset+this[xt]?B=q.maxSize+this[xt]:B<=this.size-(ee.maxSize-ee.snapOffset+this[tn])&&(B=this.size-(ee.maxSize+this[tn])),z.call(this,B),tt(e,"onDrag",jt)(F()))}function Y(){var H=c[this.a].element,B=c[this.b].element,q=H[ml](),ee=B[ml]();this.size=q[r]+ee[r]+this[xt]+this[tn],this.start=q[o],this.end=q[a]}function le(H){if(!getComputedStyle)return null;var B=getComputedStyle(H);if(!B)return null;var q=H[l];return q===0?null:(g===Ms?q-=parseFloat(B.paddingLeft)+parseFloat(B.paddingRight):q-=parseFloat(B.paddingTop)+parseFloat(B.paddingBottom),q)}function x(H){var B=le(w);if(B===null||N.reduce(function(ye,qe){return ye+qe},0)>B)return H;var q=0,ee=[],Se=H.map(function(ye,qe){var Nt=B*ye/100,Un=Os(D,qe===0,qe===H.length-1,u),vr=N[qe]+Un;return Nt<vr?(q+=vr-Nt,ee.push(0),vr):(ee.push(Nt-vr),Nt)});return q===0?H:Se.map(function(ye,qe){var Nt=ye;if(q>0&&ee[qe]-q>0){var Un=Math.min(q,ee[qe]-q);q-=Un,Nt=ye-Un}return Nt/B*100})}function G(){var H=this,B=c[H.a].element,q=c[H.b].element;H.dragging&&tt(e,"onDragEnd",jt)(F()),H.dragging=!1,kt[Lt]("mouseup",H.stop),kt[Lt]("touchend",H.stop),kt[Lt]("touchcancel",H.stop),kt[Lt]("mousemove",H.move),kt[Lt]("touchmove",H.move),H.stop=null,H.move=null,B[Lt]("selectstart",jt),B[Lt]("dragstart",jt),q[Lt]("selectstart",jt),q[Lt]("dragstart",jt),B.style.userSelect="",B.style.webkitUserSelect="",B.style.MozUserSelect="",B.style.pointerEvents="",q.style.userSelect="",q.style.webkitUserSelect="",q.style.MozUserSelect="",q.style.pointerEvents="",H.gutter.style.cursor="",H.parent.style.cursor="",Oo.body.style.cursor=""}function Q(H){if(!("button"in H&&H.button!==0)){var B=this,q=c[B.a].element,ee=c[B.b].element;B.dragging||tt(e,"onDragStart",jt)(F()),H.preventDefault(),B.dragging=!0,B.move=K.bind(B),B.stop=G.bind(B),kt[Vt]("mouseup",B.stop),kt[Vt]("touchend",B.stop),kt[Vt]("touchcancel",B.stop),kt[Vt]("mousemove",B.move),kt[Vt]("touchmove",B.move),q[Vt]("selectstart",jt),q[Vt]("dragstart",jt),ee[Vt]("selectstart",jt),ee[Vt]("dragstart",jt),q.style.userSelect="none",q.style.webkitUserSelect="none",q.style.MozUserSelect="none",q.style.pointerEvents="none",ee.style.userSelect="none",ee.style.webkitUserSelect="none",ee.style.MozUserSelect="none",ee.style.pointerEvents="none",B.gutter.style.cursor=_,B.parent.style.cursor=_,Oo.body.style.cursor=_,Y.call(B),B.dragOffset=R(H)-B.end}}M=x(M);var oe=[];c=n.map(function(H,B){var q={element:Ip(H),size:M[B],minSize:N[B],maxSize:k[B],snapOffset:f[B],i:B},ee;if(B>0&&(ee={a:B-1,b:B,dragging:!1,direction:g,parent:w},ee[xt]=Os(D,B-1===0,!1,u),ee[tn]=Os(D,!1,B===n.length-1,u),A==="row-reverse"||A==="column-reverse")){var Se=ee.a;ee.a=ee.b,ee.b=Se}if(B>0){var ye=y(B,g,q.element);j(ye,D,B),ee[Wi]=Q.bind(ee),ye[Vt]("mousedown",ee[Wi]),ye[Vt]("touchstart",ee[Wi]),w.insertBefore(ye,q.element),ee.gutter=ye}return T(q.element,q.size,Os(D,B===0,B===n.length-1,u),B),B>0&&oe.push(ee),q});function ie(H){var B=H.i===oe.length,q=B?oe[H.i-1]:oe[H.i];Y.call(q);var ee=B?q.size-H.minSize-q[tn]:H.minSize+q[xt];z.call(q,ee)}c.forEach(function(H){var B=H.element[ml]()[r];B<H.minSize&&(I?ie(H):H.minSize=B)});function _e(H){var B=x(H);B.forEach(function(q,ee){if(ee>0){var Se=oe[ee-1],ye=c[Se.a],qe=c[Se.b];ye.size=B[ee-1],qe.size=q,T(ye.element,ye.size,Se[xt],ye.i),T(qe.element,qe.size,Se[tn],qe.i)}})}function ve(H,B){oe.forEach(function(q){if(B!==!0?q.parent.removeChild(q.gutter):(q.gutter[Lt]("mousedown",q[Wi]),q.gutter[Lt]("touchstart",q[Wi])),H!==!0){var ee=E(r,q.a.size,q[xt]);Object.keys(ee).forEach(function(Se){c[q.a].element.style[Se]="",c[q.b].element.style[Se]=""})}})}return{setSizes:_e,getSizes:F,collapse:function(B){ie(c[B])},destroy:ve,parent:w,pairs:oe}};function gl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var Dd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,o=gl(r,["children","gutter"]),a=o;a.gutter=function(l,c){var h;return i?h=i(l,c):(h=document.createElement("div"),h.className="gutter gutter-"+c),h.__isSplitGutter=!0,h},this.split=Pp(this.parent.children,a)},e.prototype.componentDidUpdate=function(r){var i=this,o=this.props;o.children;var a=o.minSize,l=o.sizes,c=o.collapsed,h=gl(o,["children","minSize","sizes","collapsed"]),w=h,P=r.minSize,A=r.sizes,M=r.collapsed,O=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],N=O.map(function(I){return i.props[I]!==r[I]}).reduce(function(I,D){return I||D},!1);if(Array.isArray(a)&&Array.isArray(P)){var C=!1;a.forEach(function(I,D){C=C||I!==P[D]}),N=N||C}else Array.isArray(a)||Array.isArray(P)?N=!0:N=N||a!==P;if(N)w.minSize=a,w.sizes=l||this.split.getSizes(),this.split.destroy(!0,!0),w.gutter=function(I,D,u){return u.previousSibling},this.split=Pp(Array.from(this.parent.children).filter(function(I){return!I.__isSplitGutter}),w);else if(l){var k=!1;l.forEach(function(I,D){k=k||I!==A[D]}),k&&this.split.setSizes(this.props.sizes)}Number.isInteger(c)&&(c!==M||N)&&this.split.collapse(c)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var o=i.children,a=gl(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),l=a;return Lr.createElement("div",Object.assign({},{ref:function(c){r.parent=c}},l),o)},e}(Lr.Component);Dd.propTypes={sizes:Ee.arrayOf(Ee.number),minSize:Ee.oneOfType([Ee.number,Ee.arrayOf(Ee.number)]),maxSize:Ee.oneOfType([Ee.number,Ee.arrayOf(Ee.number)]),expandToMin:Ee.bool,gutterSize:Ee.number,gutterAlign:Ee.string,snapOffset:Ee.number,dragInterval:Ee.number,direction:Ee.string,cursor:Ee.string,gutter:Ee.func,elementStyle:Ee.func,gutterStyle:Ee.func,onDrag:Ee.func,onDragStart:Ee.func,onDragEnd:Ee.func,collapsed:Ee.number,children:Ee.arrayOf(Ee.element)};Dd.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};let f3=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let r=n[t]&63;r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r<63?e+="_":e+="-"}return e};var bp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,w=o>>2,P=(o&3)<<4|l>>4;let A=(l&15)<<2|h>>6,M=h&63;c||(M=64,a||(A=64)),r.push(n[w],n[P],n[A],n[M])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const P=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||P==null)throw new p3;const A=o<<2|l>>4;if(r.push(A),h!==64){const M=l<<4&240|h>>2;if(r.push(M),P!==64){const O=h<<6&192|P;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m3=function(t){const e=Pv(t);return bv.encodeByteArray(e,!0)},ka=function(t){return m3(t).replace(/\./g,"")},g3=function(t){try{return bv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=()=>v3().__FIREBASE_DEFAULTS__,y3=()=>{if(typeof process>"u"||typeof bp>"u")return;const t=bp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&g3(t[1]);return e&&JSON.parse(e)},Nd=()=>{try{return _3()||y3()||w3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},E3=t=>{var e,n;return(n=(e=Nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},T3=t=>{const e=E3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rv=()=>{var t;return(t=Nd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ka(JSON.stringify(n)),ka(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A3(){var t;const e=(t=Nd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I3(){return!A3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P3(){try{return typeof indexedDB=="object"}catch{return!1}}function b3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R3,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dv.prototype.create)}}class Dv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?D3(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new mi(i,l,r)}}function D3(t,e){return t.replace(N3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const N3=/\{\$([^}]+)}/g;function fc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(Rp(o)&&Rp(a)){if(!fc(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){return t&&t._delegate?t._delegate:t}class Vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new S3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V3(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qn){return this.instances.has(e)}getOptions(e=Qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qn){return this.component?this.component.multipleInstances?e:Qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O3(t){return t===Qn?void 0:t}function V3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const x3={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},j3=de.INFO,z3={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},F3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=z3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mv{constructor(e){this.name=e,this._logLevel=j3,this._logHandler=F3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const B3=(t,e)=>e.some(n=>t instanceof n);let Dp,Np;function U3(){return Dp||(Dp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $3(){return Np||(Np=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,hc=new WeakMap,Vv=new WeakMap,vl=new WeakMap,Md=new WeakMap;function H3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Rn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Ov.set(n,t)}).catch(()=>{}),Md.set(e,t),e}function q3(t){if(hc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});hc.set(t,e)}let pc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Vv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W3(t){pc=t(pc)}function K3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_l(this),e,...n);return Vv.set(r,e.sort?e.sort():[e]),Rn(r)}:$3().includes(t)?function(...e){return t.apply(_l(this),e),Rn(Ov.get(this))}:function(...e){return Rn(t.apply(_l(this),e))}}function G3(t){return typeof t=="function"?K3(t):(t instanceof IDBTransaction&&q3(t),B3(t,U3())?new Proxy(t,pc):t)}function Rn(t){if(t instanceof IDBRequest)return H3(t);if(vl.has(t))return vl.get(t);const e=G3(t);return e!==t&&(vl.set(t,e),Md.set(e,t)),e}const _l=t=>Md.get(t);function Q3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=Rn(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Rn(a.result),c.oldVersion,c.newVersion,Rn(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Y3=["get","getKey","getAll","getAllKeys","count"],X3=["put","add","delete","clear"],yl=new Map;function Mp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yl.get(e))return yl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=X3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y3.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return yl.set(e,o),o}W3(t=>({...t,get:(e,n,r)=>Mp(e,n)||t.get(e,n,r),has:(e,n)=>!!Mp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mc="@firebase/app",Op="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new Mv("@firebase/app"),e8="@firebase/app-compat",t8="@firebase/analytics-compat",n8="@firebase/analytics",r8="@firebase/app-check-compat",i8="@firebase/app-check",o8="@firebase/auth",s8="@firebase/auth-compat",a8="@firebase/database",u8="@firebase/database-compat",l8="@firebase/functions",c8="@firebase/functions-compat",d8="@firebase/installations",f8="@firebase/installations-compat",h8="@firebase/messaging",p8="@firebase/messaging-compat",m8="@firebase/performance",g8="@firebase/performance-compat",v8="@firebase/remote-config",_8="@firebase/remote-config-compat",y8="@firebase/storage",w8="@firebase/storage-compat",E8="@firebase/firestore",T8="@firebase/vertexai-preview",S8="@firebase/firestore-compat",k8="firebase",C8="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="[DEFAULT]",A8={[mc]:"fire-core",[e8]:"fire-core-compat",[n8]:"fire-analytics",[t8]:"fire-analytics-compat",[i8]:"fire-app-check",[r8]:"fire-app-check-compat",[o8]:"fire-auth",[s8]:"fire-auth-compat",[a8]:"fire-rtdb",[u8]:"fire-rtdb-compat",[l8]:"fire-fn",[c8]:"fire-fn-compat",[d8]:"fire-iid",[f8]:"fire-iid-compat",[h8]:"fire-fcm",[p8]:"fire-fcm-compat",[m8]:"fire-perf",[g8]:"fire-perf-compat",[v8]:"fire-rc",[_8]:"fire-rc-compat",[y8]:"fire-gcs",[w8]:"fire-gcs-compat",[E8]:"fire-fst",[S8]:"fire-fst-compat",[T8]:"fire-vertex","fire-js":"fire-js",[k8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new Map,I8=new Map,vc=new Map;function Vp(t,e){try{t.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Aa(t){const e=t.name;if(vc.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;vc.set(e,t);for(const n of Ca.values())Vp(n,t);for(const n of I8.values())Vp(n,t);return!0}function P8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dn=new Dv("app","Firebase",b8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=C8;function Lv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dn.create("bad-app-name",{appName:String(i)});if(n||(n=Rv()),!n)throw Dn.create("no-options");const o=Ca.get(i);if(o){if(fc(n,o.options)&&fc(r,o.config))return o;throw Dn.create("duplicate-app",{appName:i})}const a=new L3(i);for(const c of vc.values())a.addComponent(c);const l=new R8(n,r,a);return Ca.set(i,l),l}function N8(t=gc){const e=Ca.get(t);if(!e&&t===gc&&Rv())return Lv();if(!e)throw Dn.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=A8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(l.join(" "));return}Aa(new Vo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8="firebase-heartbeat-database",O8=1,Lo="firebase-heartbeat-store";let wl=null;function xv(){return wl||(wl=Q3(M8,O8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dn.create("idb-open",{originalErrorMessage:t.message})})),wl}async function V8(t){try{const n=(await xv()).transaction(Lo),r=await n.objectStore(Lo).get(jv(t));return await n.done,r}catch(e){if(e instanceof mi)ur.warn(e.message);else{const n=Dn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function Lp(t,e){try{const r=(await xv()).transaction(Lo,"readwrite");await r.objectStore(Lo).put(e,jv(t)),await r.done}catch(n){if(n instanceof mi)ur.warn(n.message);else{const r=Dn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(r.message)}}}function jv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=1024,x8=30*24*60*60*1e3;class j8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xp();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=x8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xp(),{heartbeatsToSend:r,unsentEntries:i}=z8(this._heartbeatsCache.heartbeats),o=ka(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function xp(){return new Date().toISOString().substring(0,10)}function z8(t,e=L8){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),jp(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P3()?b3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jp(t){return ka(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){Aa(new Vo("platform-logger",e=>new J3(e),"PRIVATE")),Aa(new Vo("heartbeat",e=>new j8(e),"PRIVATE")),Kr(mc,Op,t),Kr(mc,Op,"esm2017"),Kr("fire-js","")}B8("");var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rr,zv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(m,g){function _(){}_.prototype=g.prototype,m.D=g.prototype,m.prototype=new _,m.prototype.constructor=m,m.C=function(y,E,b){for(var T=Array(arguments.length-2),j=2;j<arguments.length;j++)T[j-2]=arguments[j];return g.prototype[E].apply(y,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(m,g,_){_||(_=0);var y=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)y[E]=g.charCodeAt(_++)|g.charCodeAt(_++)<<8|g.charCodeAt(_++)<<16|g.charCodeAt(_++)<<24;else for(E=0;16>E;++E)y[E]=g[_++]|g[_++]<<8|g[_++]<<16|g[_++]<<24;g=m.g[0],_=m.g[1],E=m.g[2];var b=m.g[3],T=g+(b^_&(E^b))+y[0]+3614090360&4294967295;g=_+(T<<7&4294967295|T>>>25),T=b+(E^g&(_^E))+y[1]+3905402710&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(_^b&(g^_))+y[2]+606105819&4294967295,E=b+(T<<17&4294967295|T>>>15),T=_+(g^E&(b^g))+y[3]+3250441966&4294967295,_=E+(T<<22&4294967295|T>>>10),T=g+(b^_&(E^b))+y[4]+4118548399&4294967295,g=_+(T<<7&4294967295|T>>>25),T=b+(E^g&(_^E))+y[5]+1200080426&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(_^b&(g^_))+y[6]+2821735955&4294967295,E=b+(T<<17&4294967295|T>>>15),T=_+(g^E&(b^g))+y[7]+4249261313&4294967295,_=E+(T<<22&4294967295|T>>>10),T=g+(b^_&(E^b))+y[8]+1770035416&4294967295,g=_+(T<<7&4294967295|T>>>25),T=b+(E^g&(_^E))+y[9]+2336552879&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(_^b&(g^_))+y[10]+4294925233&4294967295,E=b+(T<<17&4294967295|T>>>15),T=_+(g^E&(b^g))+y[11]+2304563134&4294967295,_=E+(T<<22&4294967295|T>>>10),T=g+(b^_&(E^b))+y[12]+1804603682&4294967295,g=_+(T<<7&4294967295|T>>>25),T=b+(E^g&(_^E))+y[13]+4254626195&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(_^b&(g^_))+y[14]+2792965006&4294967295,E=b+(T<<17&4294967295|T>>>15),T=_+(g^E&(b^g))+y[15]+1236535329&4294967295,_=E+(T<<22&4294967295|T>>>10),T=g+(E^b&(_^E))+y[1]+4129170786&4294967295,g=_+(T<<5&4294967295|T>>>27),T=b+(_^E&(g^_))+y[6]+3225465664&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^_&(b^g))+y[11]+643717713&4294967295,E=b+(T<<14&4294967295|T>>>18),T=_+(b^g&(E^b))+y[0]+3921069994&4294967295,_=E+(T<<20&4294967295|T>>>12),T=g+(E^b&(_^E))+y[5]+3593408605&4294967295,g=_+(T<<5&4294967295|T>>>27),T=b+(_^E&(g^_))+y[10]+38016083&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^_&(b^g))+y[15]+3634488961&4294967295,E=b+(T<<14&4294967295|T>>>18),T=_+(b^g&(E^b))+y[4]+3889429448&4294967295,_=E+(T<<20&4294967295|T>>>12),T=g+(E^b&(_^E))+y[9]+568446438&4294967295,g=_+(T<<5&4294967295|T>>>27),T=b+(_^E&(g^_))+y[14]+3275163606&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^_&(b^g))+y[3]+4107603335&4294967295,E=b+(T<<14&4294967295|T>>>18),T=_+(b^g&(E^b))+y[8]+1163531501&4294967295,_=E+(T<<20&4294967295|T>>>12),T=g+(E^b&(_^E))+y[13]+2850285829&4294967295,g=_+(T<<5&4294967295|T>>>27),T=b+(_^E&(g^_))+y[2]+4243563512&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^_&(b^g))+y[7]+1735328473&4294967295,E=b+(T<<14&4294967295|T>>>18),T=_+(b^g&(E^b))+y[12]+2368359562&4294967295,_=E+(T<<20&4294967295|T>>>12),T=g+(_^E^b)+y[5]+4294588738&4294967295,g=_+(T<<4&4294967295|T>>>28),T=b+(g^_^E)+y[8]+2272392833&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^_)+y[11]+1839030562&4294967295,E=b+(T<<16&4294967295|T>>>16),T=_+(E^b^g)+y[14]+4259657740&4294967295,_=E+(T<<23&4294967295|T>>>9),T=g+(_^E^b)+y[1]+2763975236&4294967295,g=_+(T<<4&4294967295|T>>>28),T=b+(g^_^E)+y[4]+1272893353&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^_)+y[7]+4139469664&4294967295,E=b+(T<<16&4294967295|T>>>16),T=_+(E^b^g)+y[10]+3200236656&4294967295,_=E+(T<<23&4294967295|T>>>9),T=g+(_^E^b)+y[13]+681279174&4294967295,g=_+(T<<4&4294967295|T>>>28),T=b+(g^_^E)+y[0]+3936430074&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^_)+y[3]+3572445317&4294967295,E=b+(T<<16&4294967295|T>>>16),T=_+(E^b^g)+y[6]+76029189&4294967295,_=E+(T<<23&4294967295|T>>>9),T=g+(_^E^b)+y[9]+3654602809&4294967295,g=_+(T<<4&4294967295|T>>>28),T=b+(g^_^E)+y[12]+3873151461&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^_)+y[15]+530742520&4294967295,E=b+(T<<16&4294967295|T>>>16),T=_+(E^b^g)+y[2]+3299628645&4294967295,_=E+(T<<23&4294967295|T>>>9),T=g+(E^(_|~b))+y[0]+4096336452&4294967295,g=_+(T<<6&4294967295|T>>>26),T=b+(_^(g|~E))+y[7]+1126891415&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~_))+y[14]+2878612391&4294967295,E=b+(T<<15&4294967295|T>>>17),T=_+(b^(E|~g))+y[5]+4237533241&4294967295,_=E+(T<<21&4294967295|T>>>11),T=g+(E^(_|~b))+y[12]+1700485571&4294967295,g=_+(T<<6&4294967295|T>>>26),T=b+(_^(g|~E))+y[3]+2399980690&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~_))+y[10]+4293915773&4294967295,E=b+(T<<15&4294967295|T>>>17),T=_+(b^(E|~g))+y[1]+2240044497&4294967295,_=E+(T<<21&4294967295|T>>>11),T=g+(E^(_|~b))+y[8]+1873313359&4294967295,g=_+(T<<6&4294967295|T>>>26),T=b+(_^(g|~E))+y[15]+4264355552&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~_))+y[6]+2734768916&4294967295,E=b+(T<<15&4294967295|T>>>17),T=_+(b^(E|~g))+y[13]+1309151649&4294967295,_=E+(T<<21&4294967295|T>>>11),T=g+(E^(_|~b))+y[4]+4149444226&4294967295,g=_+(T<<6&4294967295|T>>>26),T=b+(_^(g|~E))+y[11]+3174756917&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~_))+y[2]+718787259&4294967295,E=b+(T<<15&4294967295|T>>>17),T=_+(b^(E|~g))+y[9]+3951481745&4294967295,m.g[0]=m.g[0]+g&4294967295,m.g[1]=m.g[1]+(E+(T<<21&4294967295|T>>>11))&4294967295,m.g[2]=m.g[2]+E&4294967295,m.g[3]=m.g[3]+b&4294967295}r.prototype.u=function(m,g){g===void 0&&(g=m.length);for(var _=g-this.blockSize,y=this.B,E=this.h,b=0;b<g;){if(E==0)for(;b<=_;)i(this,m,b),b+=this.blockSize;if(typeof m=="string"){for(;b<g;)if(y[E++]=m.charCodeAt(b++),E==this.blockSize){i(this,y),E=0;break}}else for(;b<g;)if(y[E++]=m[b++],E==this.blockSize){i(this,y),E=0;break}}this.h=E,this.o+=g},r.prototype.v=function(){var m=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);m[0]=128;for(var g=1;g<m.length-8;++g)m[g]=0;var _=8*this.o;for(g=m.length-8;g<m.length;++g)m[g]=_&255,_/=256;for(this.u(m),m=Array(16),g=_=0;4>g;++g)for(var y=0;32>y;y+=8)m[_++]=this.g[g]>>>y&255;return m};function o(m,g){var _=l;return Object.prototype.hasOwnProperty.call(_,m)?_[m]:_[m]=g(m)}function a(m,g){this.h=g;for(var _=[],y=!0,E=m.length-1;0<=E;E--){var b=m[E]|0;y&&b==g||(_[E]=b,y=!1)}this.g=_}var l={};function c(m){return-128<=m&&128>m?o(m,function(g){return new a([g|0],0>g?-1:0)}):new a([m|0],0>m?-1:0)}function h(m){if(isNaN(m)||!isFinite(m))return P;if(0>m)return C(h(-m));for(var g=[],_=1,y=0;m>=_;y++)g[y]=m/_|0,_*=4294967296;return new a(g,0)}function w(m,g){if(m.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(m.charAt(0)=="-")return C(w(m.substring(1),g));if(0<=m.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(g,8)),y=P,E=0;E<m.length;E+=8){var b=Math.min(8,m.length-E),T=parseInt(m.substring(E,E+b),g);8>b?(b=h(Math.pow(g,b)),y=y.j(b).add(h(T))):(y=y.j(_),y=y.add(h(T)))}return y}var P=c(0),A=c(1),M=c(16777216);t=a.prototype,t.m=function(){if(N(this))return-C(this).m();for(var m=0,g=1,_=0;_<this.g.length;_++){var y=this.i(_);m+=(0<=y?y:4294967296+y)*g,g*=4294967296}return m},t.toString=function(m){if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(O(this))return"0";if(N(this))return"-"+C(this).toString(m);for(var g=h(Math.pow(m,6)),_=this,y="";;){var E=u(_,g).g;_=k(_,E.j(g));var b=((0<_.g.length?_.g[0]:_.h)>>>0).toString(m);if(_=E,O(_))return b+y;for(;6>b.length;)b="0"+b;y=b+y}},t.i=function(m){return 0>m?0:m<this.g.length?this.g[m]:this.h};function O(m){if(m.h!=0)return!1;for(var g=0;g<m.g.length;g++)if(m.g[g]!=0)return!1;return!0}function N(m){return m.h==-1}t.l=function(m){return m=k(this,m),N(m)?-1:O(m)?0:1};function C(m){for(var g=m.g.length,_=[],y=0;y<g;y++)_[y]=~m.g[y];return new a(_,~m.h).add(A)}t.abs=function(){return N(this)?C(this):this},t.add=function(m){for(var g=Math.max(this.g.length,m.g.length),_=[],y=0,E=0;E<=g;E++){var b=y+(this.i(E)&65535)+(m.i(E)&65535),T=(b>>>16)+(this.i(E)>>>16)+(m.i(E)>>>16);y=T>>>16,b&=65535,T&=65535,_[E]=T<<16|b}return new a(_,_[_.length-1]&-2147483648?-1:0)};function k(m,g){return m.add(C(g))}t.j=function(m){if(O(this)||O(m))return P;if(N(this))return N(m)?C(this).j(C(m)):C(C(this).j(m));if(N(m))return C(this.j(C(m)));if(0>this.l(M)&&0>m.l(M))return h(this.m()*m.m());for(var g=this.g.length+m.g.length,_=[],y=0;y<2*g;y++)_[y]=0;for(y=0;y<this.g.length;y++)for(var E=0;E<m.g.length;E++){var b=this.i(y)>>>16,T=this.i(y)&65535,j=m.i(E)>>>16,F=m.i(E)&65535;_[2*y+2*E]+=T*F,I(_,2*y+2*E),_[2*y+2*E+1]+=b*F,I(_,2*y+2*E+1),_[2*y+2*E+1]+=T*j,I(_,2*y+2*E+1),_[2*y+2*E+2]+=b*j,I(_,2*y+2*E+2)}for(y=0;y<g;y++)_[y]=_[2*y+1]<<16|_[2*y];for(y=g;y<2*g;y++)_[y]=0;return new a(_,0)};function I(m,g){for(;(m[g]&65535)!=m[g];)m[g+1]+=m[g]>>>16,m[g]&=65535,g++}function D(m,g){this.g=m,this.h=g}function u(m,g){if(O(g))throw Error("division by zero");if(O(m))return new D(P,P);if(N(m))return g=u(C(m),g),new D(C(g.g),C(g.h));if(N(g))return g=u(m,C(g)),new D(C(g.g),g.h);if(30<m.g.length){if(N(m)||N(g))throw Error("slowDivide_ only works with positive integers.");for(var _=A,y=g;0>=y.l(m);)_=p(_),y=p(y);var E=f(_,1),b=f(y,1);for(y=f(y,2),_=f(_,2);!O(y);){var T=b.add(y);0>=T.l(m)&&(E=E.add(_),b=T),y=f(y,1),_=f(_,1)}return g=k(m,E.j(g)),new D(E,g)}for(E=P;0<=m.l(g);){for(_=Math.max(1,Math.floor(m.m()/g.m())),y=Math.ceil(Math.log(_)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),b=h(_),T=b.j(g);N(T)||0<T.l(m);)_-=y,b=h(_),T=b.j(g);O(b)&&(b=A),E=E.add(b),m=k(m,T)}return new D(E,m)}t.A=function(m){return u(this,m).h},t.and=function(m){for(var g=Math.max(this.g.length,m.g.length),_=[],y=0;y<g;y++)_[y]=this.i(y)&m.i(y);return new a(_,this.h&m.h)},t.or=function(m){for(var g=Math.max(this.g.length,m.g.length),_=[],y=0;y<g;y++)_[y]=this.i(y)|m.i(y);return new a(_,this.h|m.h)},t.xor=function(m){for(var g=Math.max(this.g.length,m.g.length),_=[],y=0;y<g;y++)_[y]=this.i(y)^m.i(y);return new a(_,this.h^m.h)};function p(m){for(var g=m.g.length+1,_=[],y=0;y<g;y++)_[y]=m.i(y)<<1|m.i(y-1)>>>31;return new a(_,m.h)}function f(m,g){var _=g>>5;g%=32;for(var y=m.g.length-_,E=[],b=0;b<y;b++)E[b]=0<g?m.i(b+_)>>>g|m.i(b+_+1)<<32-g:m.i(b+_);return new a(E,m.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zv=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=w,rr=a}).apply(typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{});var Vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fv,Bv,Zi,Uv,Ys,_c,$v,Hv,qv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,d,v){return s==Array.prototype||s==Object.prototype||(s[d]=v.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vs=="object"&&Vs];for(var d=0;d<s.length;++d){var v=s[d];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(s,d){if(d)e:{var v=r;s=s.split(".");for(var S=0;S<s.length-1;S++){var V=s[S];if(!(V in v))break e;v=v[V]}s=s[s.length-1],S=v[s],d=d(S),d!=S&&d!=null&&e(v,s,{configurable:!0,writable:!0,value:d})}}function o(s,d){s instanceof String&&(s+="");var v=0,S=!1,V={next:function(){if(!S&&v<s.length){var L=v++;return{value:d(L,s[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(s){return s||function(){return o(this,function(d,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(s){var d=typeof s;return d=d!="object"?d:s?Array.isArray(s)?"array":d:"null",d=="array"||d=="object"&&typeof s.length=="number"}function h(s){var d=typeof s;return d=="object"&&s!=null||d=="function"}function w(s,d,v){return s.call.apply(s.bind,arguments)}function P(s,d,v){if(!s)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,S),s.apply(d,V)}}return function(){return s.apply(d,arguments)}}function A(s,d,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:P,A.apply(null,arguments)}function M(s,d){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),s.apply(this,S)}}function O(s,d){function v(){}v.prototype=d.prototype,s.aa=d.prototype,s.prototype=new v,s.prototype.constructor=s,s.Qb=function(S,V,L){for(var W=Array(arguments.length-2),we=2;we<arguments.length;we++)W[we-2]=arguments[we];return d.prototype[V].apply(S,W)}}function N(s){const d=s.length;if(0<d){const v=Array(d);for(let S=0;S<d;S++)v[S]=s[S];return v}return[]}function C(s,d){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(c(S)){const V=s.length||0,L=S.length||0;s.length=V+L;for(let W=0;W<L;W++)s[V+W]=S[W]}else s.push(S)}}class k{constructor(d,v){this.i=d,this.j=v,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function I(s){return/^[\s\xa0]*$/.test(s)}function D(){var s=l.navigator;return s&&(s=s.userAgent)?s:""}function u(s){return u[" "](s),s}u[" "]=function(){};var p=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function f(s,d,v){for(const S in s)d.call(v,s[S],S,s)}function m(s,d){for(const v in s)d.call(void 0,s[v],v,s)}function g(s){const d={};for(const v in s)d[v]=s[v];return d}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(s,d){let v,S;for(let V=1;V<arguments.length;V++){S=arguments[V];for(v in S)s[v]=S[v];for(let L=0;L<_.length;L++)v=_[L],Object.prototype.hasOwnProperty.call(S,v)&&(s[v]=S[v])}}function E(s){var d=1;s=s.split(":");const v=[];for(;0<d&&s.length;)v.push(s.shift()),d--;return s.length&&v.push(s.join(":")),v}function b(s){l.setTimeout(()=>{throw s},0)}function T(){var s=Y;let d=null;return s.g&&(d=s.g,s.g=s.g.next,s.g||(s.h=null),d.next=null),d}class j{constructor(){this.h=this.g=null}add(d,v){const S=F.get();S.set(d,v),this.h?this.h.next=S:this.g=S,this.h=S}}var F=new k(()=>new R,s=>s.reset());class R{constructor(){this.next=this.g=this.h=null}set(d,v){this.h=d,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let z,K=!1,Y=new j,le=()=>{const s=l.Promise.resolve(void 0);z=()=>{s.then(x)}};var x=()=>{for(var s;s=T();){try{s.h.call(s.g)}catch(v){b(v)}var d=F;d.j(s),100>d.h&&(d.h++,s.next=d.g,d.g=s)}K=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(s,d){this.type=s,this.g=this.target=d,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var s=!1,d=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const v=()=>{};l.addEventListener("test",v,d),l.removeEventListener("test",v,d)}catch{}return s}();function ie(s,d){if(Q.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var v=this.type=s.type,S=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=d,d=s.relatedTarget){if(p){e:{try{u(d.nodeName);var V=!0;break e}catch{}V=!1}V||(d=null)}}else v=="mouseover"?d=s.fromElement:v=="mouseout"&&(d=s.toElement);this.relatedTarget=d,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:_e[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&ie.aa.h.call(this)}}O(ie,Q);var _e={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),H=0;function B(s,d,v,S,V){this.listener=s,this.proxy=null,this.src=d,this.type=v,this.capture=!!S,this.ha=V,this.key=++H,this.da=this.fa=!1}function q(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function ee(s){this.src=s,this.g={},this.h=0}ee.prototype.add=function(s,d,v,S,V){var L=s.toString();s=this.g[L],s||(s=this.g[L]=[],this.h++);var W=ye(s,d,S,V);return-1<W?(d=s[W],v||(d.fa=!1)):(d=new B(d,this.src,L,!!S,V),d.fa=v,s.push(d)),d};function Se(s,d){var v=d.type;if(v in s.g){var S=s.g[v],V=Array.prototype.indexOf.call(S,d,void 0),L;(L=0<=V)&&Array.prototype.splice.call(S,V,1),L&&(q(d),s.g[v].length==0&&(delete s.g[v],s.h--))}}function ye(s,d,v,S){for(var V=0;V<s.length;++V){var L=s[V];if(!L.da&&L.listener==d&&L.capture==!!v&&L.ha==S)return V}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),Nt={};function Un(s,d,v,S,V){if(Array.isArray(d)){for(var L=0;L<d.length;L++)Un(s,d[L],v,S,V);return null}return v=sf(v),s&&s[ve]?s.K(d,v,h(S)?!!S.capture:!!S,V):vr(s,d,v,!1,S,V)}function vr(s,d,v,S,V,L){if(!d)throw Error("Invalid event type");var W=h(V)?!!V.capture:!!V,we=Eu(s);if(we||(s[qe]=we=new ee(s)),v=we.add(d,v,S,W,L),v.proxy)return v;if(S=F_(),v.proxy=S,S.src=s,S.listener=v,s.addEventListener)oe||(V=W),V===void 0&&(V=!1),s.addEventListener(d.toString(),S,V);else if(s.attachEvent)s.attachEvent(of(d.toString()),S);else if(s.addListener&&s.removeListener)s.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function F_(){function s(v){return d.call(s.src,s.listener,v)}const d=B_;return s}function rf(s,d,v,S,V){if(Array.isArray(d))for(var L=0;L<d.length;L++)rf(s,d[L],v,S,V);else S=h(S)?!!S.capture:!!S,v=sf(v),s&&s[ve]?(s=s.i,d=String(d).toString(),d in s.g&&(L=s.g[d],v=ye(L,v,S,V),-1<v&&(q(L[v]),Array.prototype.splice.call(L,v,1),L.length==0&&(delete s.g[d],s.h--)))):s&&(s=Eu(s))&&(d=s.g[d.toString()],s=-1,d&&(s=ye(d,v,S,V)),(v=-1<s?d[s]:null)&&wu(v))}function wu(s){if(typeof s!="number"&&s&&!s.da){var d=s.src;if(d&&d[ve])Se(d.i,s);else{var v=s.type,S=s.proxy;d.removeEventListener?d.removeEventListener(v,S,s.capture):d.detachEvent?d.detachEvent(of(v),S):d.addListener&&d.removeListener&&d.removeListener(S),(v=Eu(d))?(Se(v,s),v.h==0&&(v.src=null,d[qe]=null)):q(s)}}}function of(s){return s in Nt?Nt[s]:Nt[s]="on"+s}function B_(s,d){if(s.da)s=!0;else{d=new ie(d,this);var v=s.listener,S=s.ha||s.src;s.fa&&wu(s),s=v.call(S,d)}return s}function Eu(s){return s=s[qe],s instanceof ee?s:null}var Tu="__closure_events_fn_"+(1e9*Math.random()>>>0);function sf(s){return typeof s=="function"?s:(s[Tu]||(s[Tu]=function(d){return s.handleEvent(d)}),s[Tu])}function Je(){G.call(this),this.i=new ee(this),this.M=this,this.F=null}O(Je,G),Je.prototype[ve]=!0,Je.prototype.removeEventListener=function(s,d,v,S){rf(this,s,d,v,S)};function ct(s,d){var v,S=s.F;if(S)for(v=[];S;S=S.F)v.push(S);if(s=s.M,S=d.type||d,typeof d=="string")d=new Q(d,s);else if(d instanceof Q)d.target=d.target||s;else{var V=d;d=new Q(S,s),y(d,V)}if(V=!0,v)for(var L=v.length-1;0<=L;L--){var W=d.g=v[L];V=is(W,S,!0,d)&&V}if(W=d.g=s,V=is(W,S,!0,d)&&V,V=is(W,S,!1,d)&&V,v)for(L=0;L<v.length;L++)W=d.g=v[L],V=is(W,S,!1,d)&&V}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var s=this.i,d;for(d in s.g){for(var v=s.g[d],S=0;S<v.length;S++)q(v[S]);delete s.g[d],s.h--}}this.F=null},Je.prototype.K=function(s,d,v,S){return this.i.add(String(s),d,!1,v,S)},Je.prototype.L=function(s,d,v,S){return this.i.add(String(s),d,!0,v,S)};function is(s,d,v,S){if(d=s.i.g[String(d)],!d)return!0;d=d.concat();for(var V=!0,L=0;L<d.length;++L){var W=d[L];if(W&&!W.da&&W.capture==v){var we=W.listener,We=W.ha||W.src;W.fa&&Se(s.i,W),V=we.call(We,S)!==!1&&V}}return V&&!S.defaultPrevented}function af(s,d,v){if(typeof s=="function")v&&(s=A(s,v));else if(s&&typeof s.handleEvent=="function")s=A(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(s,d||0)}function uf(s){s.g=af(()=>{s.g=null,s.i&&(s.i=!1,uf(s))},s.l);const d=s.h;s.h=null,s.m.apply(null,d)}class U_ extends G{constructor(d,v){super(),this.m=d,this.l=v,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:uf(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(s){G.call(this),this.h=s,this.g={}}O(yi,G);var lf=[];function cf(s){f(s.g,function(d,v){this.g.hasOwnProperty(v)&&wu(d)},s),s.g={}}yi.prototype.N=function(){yi.aa.N.call(this),cf(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Su=l.JSON.stringify,$_=l.JSON.parse,H_=class{stringify(s){return l.JSON.stringify(s,void 0)}parse(s){return l.JSON.parse(s,void 0)}};function ku(){}ku.prototype.h=null;function df(s){return s.h||(s.h=s.i())}function ff(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cu(){Q.call(this,"d")}O(Cu,Q);function Au(){Q.call(this,"c")}O(Au,Q);var $n={},hf=null;function os(){return hf=hf||new Je}$n.La="serverreachability";function pf(s){Q.call(this,$n.La,s)}O(pf,Q);function Ei(s){const d=os();ct(d,new pf(d))}$n.STAT_EVENT="statevent";function mf(s,d){Q.call(this,$n.STAT_EVENT,s),this.stat=d}O(mf,Q);function dt(s){const d=os();ct(d,new mf(d,s))}$n.Ma="timingevent";function gf(s,d){Q.call(this,$n.Ma,s),this.size=d}O(gf,Q);function Ti(s,d){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){s()},d)}function Si(){this.g=!0}Si.prototype.xa=function(){this.g=!1};function q_(s,d,v,S,V,L){s.info(function(){if(s.g)if(L)for(var W="",we=L.split("&"),We=0;We<we.length;We++){var me=we[We].split("=");if(1<me.length){var Ze=me[0];me=me[1];var et=Ze.split("_");W=2<=et.length&&et[1]=="type"?W+(Ze+"="+me+"&"):W+(Ze+"=redacted&")}}else W=null;else W=L;return"XMLHTTP REQ ("+S+") [attempt "+V+"]: "+d+`
`+v+`
`+W})}function W_(s,d,v,S,V,L,W){s.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+V+"]: "+d+`
`+v+`
`+L+" "+W})}function _r(s,d,v,S){s.info(function(){return"XMLHTTP TEXT ("+d+"): "+G_(s,v)+(S?" "+S:"")})}function K_(s,d){s.info(function(){return"TIMEOUT: "+d})}Si.prototype.info=function(){};function G_(s,d){if(!s.g)return d;if(!d)return null;try{var v=JSON.parse(d);if(v){for(s=0;s<v.length;s++)if(Array.isArray(v[s])){var S=v[s];if(!(2>S.length)){var V=S[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var W=1;W<V.length;W++)V[W]=""}}}}return Su(v)}catch{return d}}var ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Iu;function as(){}O(as,ku),as.prototype.g=function(){return new XMLHttpRequest},as.prototype.i=function(){return{}},Iu=new as;function fn(s,d,v,S){this.j=s,this.i=d,this.l=v,this.R=S||1,this.U=new yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _f}function _f(){this.i=null,this.g="",this.h=!1}var yf={},Pu={};function bu(s,d,v){s.L=1,s.v=ds(Jt(d)),s.m=v,s.P=!0,wf(s,null)}function wf(s,d){s.F=Date.now(),us(s),s.A=Jt(s.v);var v=s.A,S=s.R;Array.isArray(S)||(S=[String(S)]),Of(v.i,"t",S),s.C=0,v=s.j.J,s.h=new _f,s.g=Jf(s.j,v?d:null,!s.m),0<s.O&&(s.M=new U_(A(s.Y,s,s.g),s.O)),d=s.U,v=s.g,S=s.ca;var V="readystatechange";Array.isArray(V)||(V&&(lf[0]=V.toString()),V=lf);for(var L=0;L<V.length;L++){var W=Un(v,V[L],S||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=s.H?g(s.H):{},s.m?(s.u||(s.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,d)):(s.u="GET",s.g.ea(s.A,s.u,null,d)),Ei(),q_(s.i,s.u,s.A,s.l,s.R,s.m)}fn.prototype.ca=function(s){s=s.target;const d=this.M;d&&Zt(s)==3?d.j():this.Y(s)},fn.prototype.Y=function(s){try{if(s==this.g)e:{const et=Zt(this.g);var d=this.g.Ba();const Er=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||Bf(this.g)))){this.J||et!=4||d==7||(d==8||0>=Er?Ei(3):Ei(2)),Ru(this);var v=this.g.Z();this.X=v;t:if(Ef(this)){var S=Bf(this.g);s="";var V=S.length,L=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),ki(this);var W="";break t}this.h.i=new l.TextDecoder}for(d=0;d<V;d++)this.h.h=!0,s+=this.h.i.decode(S[d],{stream:!(L&&d==V-1)});S.length=0,this.h.g+=s,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=v==200,W_(this.i,this.u,this.A,this.l,this.R,et,v),this.o){if(this.T&&!this.K){t:{if(this.g){var we,We=this.g;if((we=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(we)){var me=we;break t}}me=null}if(v=me)_r(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Du(this,v);else{this.o=!1,this.s=3,dt(12),Hn(this),ki(this);break e}}if(this.P){v=!0;let Mt;for(;!this.J&&this.C<W.length;)if(Mt=Q_(this,W),Mt==Pu){et==4&&(this.s=4,dt(14),v=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==yf){this.s=4,dt(15),_r(this.i,this.l,W,"[Invalid Chunk]"),v=!1;break}else _r(this.i,this.l,Mt,null),Du(this,Mt);if(Ef(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||W.length!=0||this.h.h||(this.s=1,dt(16),v=!1),this.o=this.o&&v,!v)_r(this.i,this.l,W,"[Invalid Chunked Response]"),Hn(this),ki(this);else if(0<W.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),xu(Ze),Ze.M=!0,dt(11))}}else _r(this.i,this.l,W,null),Du(this,W);et==4&&Hn(this),this.o&&!this.J&&(et==4?Gf(this.j,this):(this.o=!1,us(this)))}else fy(this.g),v==400&&0<W.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Hn(this),ki(this)}}}catch{}finally{}};function Ef(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function Q_(s,d){var v=s.C,S=d.indexOf(`
`,v);return S==-1?Pu:(v=Number(d.substring(v,S)),isNaN(v)?yf:(S+=1,S+v>d.length?Pu:(d=d.slice(S,S+v),s.C=S+v,d)))}fn.prototype.cancel=function(){this.J=!0,Hn(this)};function us(s){s.S=Date.now()+s.I,Tf(s,s.I)}function Tf(s,d){if(s.B!=null)throw Error("WatchDog timer not null");s.B=Ti(A(s.ba,s),d)}function Ru(s){s.B&&(l.clearTimeout(s.B),s.B=null)}fn.prototype.ba=function(){this.B=null;const s=Date.now();0<=s-this.S?(K_(this.i,this.A),this.L!=2&&(Ei(),dt(17)),Hn(this),this.s=2,ki(this)):Tf(this,this.S-s)};function ki(s){s.j.G==0||s.J||Gf(s.j,s)}function Hn(s){Ru(s);var d=s.M;d&&typeof d.ma=="function"&&d.ma(),s.M=null,cf(s.U),s.g&&(d=s.g,s.g=null,d.abort(),d.ma())}function Du(s,d){try{var v=s.j;if(v.G!=0&&(v.g==s||Nu(v.h,s))){if(!s.K&&Nu(v.h,s)&&v.G==3){try{var S=v.Da.g.parse(d)}catch{S=null}if(Array.isArray(S)&&S.length==3){var V=S;if(V[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<s.F)gs(v),ps(v);else break e;Lu(v),dt(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ti(A(v.Za,v),6e3));if(1>=Cf(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Wn(v,11)}else if((s.K||v.g==s)&&gs(v),!I(d))for(V=v.Da.g.parse(d),d=0;d<V.length;d++){let me=V[d];if(v.T=me[0],me=me[1],v.G==2)if(me[0]=="c"){v.K=me[1],v.ia=me[2];const Ze=me[3];Ze!=null&&(v.la=Ze,v.j.info("VER="+v.la));const et=me[4];et!=null&&(v.Aa=et,v.j.info("SVER="+v.Aa));const Er=me[5];Er!=null&&typeof Er=="number"&&0<Er&&(S=1.5*Er,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Mt=s.g;if(Mt){const _s=Mt.g?Mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var L=S.h;L.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Mu(L,L.h),L.h=null))}if(S.D){const ju=Mt.g?Mt.g.getResponseHeader("X-HTTP-Session-Id"):null;ju&&(S.ya=ju,ke(S.I,S.D,ju))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-s.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var W=s;if(S.qa=Xf(S,S.J?S.ia:null,S.W),W.K){Af(S.h,W);var we=W,We=S.L;We&&(we.I=We),we.B&&(Ru(we),us(we)),S.g=W}else Wf(S);0<v.i.length&&ms(v)}else me[0]!="stop"&&me[0]!="close"||Wn(v,7);else v.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Wn(v,7):Vu(v):me[0]!="noop"&&v.l&&v.l.ta(me),v.v=0)}}Ei(4)}catch{}}var Y_=class{constructor(s,d){this.g=s,this.map=d}};function Sf(s){this.l=s||10,l.PerformanceNavigationTiming?(s=l.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kf(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Cf(s){return s.h?1:s.g?s.g.size:0}function Nu(s,d){return s.h?s.h==d:s.g?s.g.has(d):!1}function Mu(s,d){s.g?s.g.add(d):s.h=d}function Af(s,d){s.h&&s.h==d?s.h=null:s.g&&s.g.has(d)&&s.g.delete(d)}Sf.prototype.cancel=function(){if(this.i=If(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function If(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let d=s.i;for(const v of s.g.values())d=d.concat(v.D);return d}return N(s.i)}function X_(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(c(s)){for(var d=[],v=s.length,S=0;S<v;S++)d.push(s[S]);return d}d=[],v=0;for(S in s)d[v++]=s[S];return d}function J_(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(c(s)||typeof s=="string"){var d=[];s=s.length;for(var v=0;v<s;v++)d.push(v);return d}d=[],v=0;for(const S in s)d[v++]=S;return d}}}function Pf(s,d){if(s.forEach&&typeof s.forEach=="function")s.forEach(d,void 0);else if(c(s)||typeof s=="string")Array.prototype.forEach.call(s,d,void 0);else for(var v=J_(s),S=X_(s),V=S.length,L=0;L<V;L++)d.call(void 0,S[L],v&&v[L],s)}var bf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Z_(s,d){if(s){s=s.split("&");for(var v=0;v<s.length;v++){var S=s[v].indexOf("="),V=null;if(0<=S){var L=s[v].substring(0,S);V=s[v].substring(S+1)}else L=s[v];d(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function qn(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof qn){this.h=s.h,ls(this,s.j),this.o=s.o,this.g=s.g,cs(this,s.s),this.l=s.l;var d=s.i,v=new Ii;v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),Rf(this,v),this.m=s.m}else s&&(d=String(s).match(bf))?(this.h=!1,ls(this,d[1]||"",!0),this.o=Ci(d[2]||""),this.g=Ci(d[3]||"",!0),cs(this,d[4]),this.l=Ci(d[5]||"",!0),Rf(this,d[6]||"",!0),this.m=Ci(d[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}qn.prototype.toString=function(){var s=[],d=this.j;d&&s.push(Ai(d,Df,!0),":");var v=this.g;return(v||d=="file")&&(s.push("//"),(d=this.o)&&s.push(Ai(d,Df,!0),"@"),s.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&s.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&s.push("/"),s.push(Ai(v,v.charAt(0)=="/"?ny:ty,!0))),(v=this.i.toString())&&s.push("?",v),(v=this.m)&&s.push("#",Ai(v,iy)),s.join("")};function Jt(s){return new qn(s)}function ls(s,d,v){s.j=v?Ci(d,!0):d,s.j&&(s.j=s.j.replace(/:$/,""))}function cs(s,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);s.s=d}else s.s=null}function Rf(s,d,v){d instanceof Ii?(s.i=d,oy(s.i,s.h)):(v||(d=Ai(d,ry)),s.i=new Ii(d,s.h))}function ke(s,d,v){s.i.set(d,v)}function ds(s){return ke(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Ci(s,d){return s?d?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Ai(s,d,v){return typeof s=="string"?(s=encodeURI(s).replace(d,ey),v&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function ey(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Df=/[#\/\?@]/g,ty=/[#\?:]/g,ny=/[#\?]/g,ry=/[#\?@]/g,iy=/#/g;function Ii(s,d){this.h=this.g=null,this.i=s||null,this.j=!!d}function hn(s){s.g||(s.g=new Map,s.h=0,s.i&&Z_(s.i,function(d,v){s.add(decodeURIComponent(d.replace(/\+/g," ")),v)}))}t=Ii.prototype,t.add=function(s,d){hn(this),this.i=null,s=yr(this,s);var v=this.g.get(s);return v||this.g.set(s,v=[]),v.push(d),this.h+=1,this};function Nf(s,d){hn(s),d=yr(s,d),s.g.has(d)&&(s.i=null,s.h-=s.g.get(d).length,s.g.delete(d))}function Mf(s,d){return hn(s),d=yr(s,d),s.g.has(d)}t.forEach=function(s,d){hn(this),this.g.forEach(function(v,S){v.forEach(function(V){s.call(d,V,S,this)},this)},this)},t.na=function(){hn(this);const s=Array.from(this.g.values()),d=Array.from(this.g.keys()),v=[];for(let S=0;S<d.length;S++){const V=s[S];for(let L=0;L<V.length;L++)v.push(d[S])}return v},t.V=function(s){hn(this);let d=[];if(typeof s=="string")Mf(this,s)&&(d=d.concat(this.g.get(yr(this,s))));else{s=Array.from(this.g.values());for(let v=0;v<s.length;v++)d=d.concat(s[v])}return d},t.set=function(s,d){return hn(this),this.i=null,s=yr(this,s),Mf(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[d]),this.h+=1,this},t.get=function(s,d){return s?(s=this.V(s),0<s.length?String(s[0]):d):d};function Of(s,d,v){Nf(s,d),0<v.length&&(s.i=null,s.g.set(yr(s,d),N(v)),s.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],d=Array.from(this.g.keys());for(var v=0;v<d.length;v++){var S=d[v];const L=encodeURIComponent(String(S)),W=this.V(S);for(S=0;S<W.length;S++){var V=L;W[S]!==""&&(V+="="+encodeURIComponent(String(W[S]))),s.push(V)}}return this.i=s.join("&")};function yr(s,d){return d=String(d),s.j&&(d=d.toLowerCase()),d}function oy(s,d){d&&!s.j&&(hn(s),s.i=null,s.g.forEach(function(v,S){var V=S.toLowerCase();S!=V&&(Nf(this,S),Of(this,V,v))},s)),s.j=d}function sy(s,d){const v=new Si;if(l.Image){const S=new Image;S.onload=M(pn,v,"TestLoadImage: loaded",!0,d,S),S.onerror=M(pn,v,"TestLoadImage: error",!1,d,S),S.onabort=M(pn,v,"TestLoadImage: abort",!1,d,S),S.ontimeout=M(pn,v,"TestLoadImage: timeout",!1,d,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=s}else d(!1)}function ay(s,d){const v=new Si,S=new AbortController,V=setTimeout(()=>{S.abort(),pn(v,"TestPingServer: timeout",!1,d)},1e4);fetch(s,{signal:S.signal}).then(L=>{clearTimeout(V),L.ok?pn(v,"TestPingServer: ok",!0,d):pn(v,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),pn(v,"TestPingServer: error",!1,d)})}function pn(s,d,v,S,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),S(v)}catch{}}function uy(){this.g=new H_}function ly(s,d,v){const S=v||"";try{Pf(s,function(V,L){let W=V;h(V)&&(W=Su(V)),d.push(S+L+"="+encodeURIComponent(W))})}catch(V){throw d.push(S+"type="+encodeURIComponent("_badmap")),V}}function Pi(s){this.l=s.Ub||null,this.j=s.eb||!1}O(Pi,ku),Pi.prototype.g=function(){return new fs(this.l,this.j)},Pi.prototype.i=function(s){return function(){return s}}({});function fs(s,d){Je.call(this),this.D=s,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(fs,Je),t=fs.prototype,t.open=function(s,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=d,this.readyState=1,Ri(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(d.body=s),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},t.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vf(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vf(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}t.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var d=s.value?s.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!s.done}))&&(this.response=this.responseText+=d)}s.done?bi(this):Ri(this),this.readyState==3&&Vf(this)}},t.Ra=function(s){this.g&&(this.response=this.responseText=s,bi(this))},t.Qa=function(s){this.g&&(this.response=s,bi(this))},t.ga=function(){this.g&&bi(this)};function bi(s){s.readyState=4,s.l=null,s.j=null,s.v=null,Ri(s)}t.setRequestHeader=function(s,d){this.u.append(s,d)},t.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],d=this.h.entries();for(var v=d.next();!v.done;)v=v.value,s.push(v[0]+": "+v[1]),v=d.next();return s.join(`\r
`)};function Ri(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function Lf(s){let d="";return f(s,function(v,S){d+=S,d+=":",d+=v,d+=`\r
`}),d}function Ou(s,d,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Lf(v),typeof s=="string"?v!=null&&encodeURIComponent(String(v)):ke(s,d,v))}function Pe(s){Je.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Pe,Je);var cy=/^https?$/i,dy=["POST","PUT"];t=Pe.prototype,t.Ha=function(s){this.J=s},t.ea=function(s,d,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);d=d?d.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Iu.g(),this.v=this.o?df(this.o):df(Iu),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(d,String(s),!0),this.B=!1}catch(L){xf(this,L);return}if(s=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var V in S)v.set(V,S[V]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())v.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(L=>L.toLowerCase()=="content-type"),V=l.FormData&&s instanceof l.FormData,!(0<=Array.prototype.indexOf.call(dy,d,void 0))||S||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,W]of v)this.g.setRequestHeader(L,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ff(this),this.u=!0,this.g.send(s),this.u=!1}catch(L){xf(this,L)}};function xf(s,d){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=d,s.m=5,jf(s),hs(s)}function jf(s){s.A||(s.A=!0,ct(s,"complete"),ct(s,"error"))}t.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,ct(this,"complete"),ct(this,"abort"),hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zf(this):this.bb())},t.bb=function(){zf(this)};function zf(s){if(s.h&&typeof a<"u"&&(!s.v[1]||Zt(s)!=4||s.Z()!=2)){if(s.u&&Zt(s)==4)af(s.Ea,0,s);else if(ct(s,"readystatechange"),Zt(s)==4){s.h=!1;try{const W=s.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var v;if(!(v=d)){var S;if(S=W===0){var V=String(s.D).match(bf)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),S=!cy.test(V?V.toLowerCase():"")}v=S}if(v)ct(s,"complete"),ct(s,"success");else{s.m=6;try{var L=2<Zt(s)?s.g.statusText:""}catch{L=""}s.l=L+" ["+s.Z()+"]",jf(s)}}finally{hs(s)}}}}function hs(s,d){if(s.g){Ff(s);const v=s.g,S=s.v[0]?()=>{}:null;s.g=null,s.v=null,d||ct(s,"ready");try{v.onreadystatechange=S}catch{}}}function Ff(s){s.I&&(l.clearTimeout(s.I),s.I=null)}t.isActive=function(){return!!this.g};function Zt(s){return s.g?s.g.readyState:0}t.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(s){if(this.g){var d=this.g.responseText;return s&&d.indexOf(s)==0&&(d=d.substring(s.length)),$_(d)}};function Bf(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function fy(s){const d={};s=(s.g&&2<=Zt(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<s.length;S++){if(I(s[S]))continue;var v=E(s[S]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const L=d[V]||[];d[V]=L,L.push(v)}m(d,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(s,d,v){return v&&v.internalChannelParams&&v.internalChannelParams[s]||d}function Uf(s){this.Aa=0,this.i=[],this.j=new Si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Di("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Di("baseRetryDelayMs",5e3,s),this.cb=Di("retryDelaySeedMs",1e4,s),this.Wa=Di("forwardChannelMaxRetries",2,s),this.wa=Di("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new Sf(s&&s.concurrentRequestLimit),this.Da=new uy,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uf.prototype,t.la=8,t.G=1,t.connect=function(s,d,v,S){dt(0),this.W=s,this.H=d||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Xf(this,null,this.W),ms(this)};function Vu(s){if($f(s),s.G==3){var d=s.U++,v=Jt(s.I);if(ke(v,"SID",s.K),ke(v,"RID",d),ke(v,"TYPE","terminate"),Ni(s,v),d=new fn(s,s.j,d),d.L=2,d.v=ds(Jt(v)),v=!1,l.navigator&&l.navigator.sendBeacon)try{v=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!v&&l.Image&&(new Image().src=d.v,v=!0),v||(d.g=Jf(d.j,null),d.g.ea(d.v)),d.F=Date.now(),us(d)}Yf(s)}function ps(s){s.g&&(xu(s),s.g.cancel(),s.g=null)}function $f(s){ps(s),s.u&&(l.clearTimeout(s.u),s.u=null),gs(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&l.clearTimeout(s.s),s.s=null)}function ms(s){if(!kf(s.h)&&!s.s){s.s=!0;var d=s.Ga;z||le(),K||(z(),K=!0),Y.add(d,s),s.B=0}}function hy(s,d){return Cf(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=d.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=Ti(A(s.Ga,s,d),Qf(s,s.B)),s.B++,!0)}t.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const V=new fn(this,this.j,s);let L=this.o;if(this.S&&(L?(L=g(L),y(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var d=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(d+=S,4096<d){d=v;break e}if(d===4096||v===this.i.length-1){d=v+1;break e}}d=1e3}else d=1e3;d=qf(this,V,d),v=Jt(this.I),ke(v,"RID",s),ke(v,"CVER",22),this.D&&ke(v,"X-HTTP-Session-Id",this.D),Ni(this,v),L&&(this.O?d="headers="+encodeURIComponent(String(Lf(L)))+"&"+d:this.m&&Ou(v,this.m,L)),Mu(this.h,V),this.Ua&&ke(v,"TYPE","init"),this.P?(ke(v,"$req",d),ke(v,"SID","null"),V.T=!0,bu(V,v,null)):bu(V,v,d),this.G=2}}else this.G==3&&(s?Hf(this,s):this.i.length==0||kf(this.h)||Hf(this))};function Hf(s,d){var v;d?v=d.l:v=s.U++;const S=Jt(s.I);ke(S,"SID",s.K),ke(S,"RID",v),ke(S,"AID",s.T),Ni(s,S),s.m&&s.o&&Ou(S,s.m,s.o),v=new fn(s,s.j,v,s.B+1),s.m===null&&(v.H=s.o),d&&(s.i=d.D.concat(s.i)),d=qf(s,v,1e3),v.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),Mu(s.h,v),bu(v,S,d)}function Ni(s,d){s.H&&f(s.H,function(v,S){ke(d,S,v)}),s.l&&Pf({},function(v,S){ke(d,S,v)})}function qf(s,d,v){v=Math.min(s.i.length,v);var S=s.l?A(s.l.Na,s.l,s):null;e:{var V=s.i;let L=-1;for(;;){const W=["count="+v];L==-1?0<v?(L=V[0].g,W.push("ofs="+L)):L=0:W.push("ofs="+L);let we=!0;for(let We=0;We<v;We++){let me=V[We].g;const Ze=V[We].map;if(me-=L,0>me)L=Math.max(0,V[We].g-100),we=!1;else try{ly(Ze,W,"req"+me+"_")}catch{S&&S(Ze)}}if(we){S=W.join("&");break e}}}return s=s.i.splice(0,v),d.D=s,S}function Wf(s){if(!s.g&&!s.u){s.Y=1;var d=s.Fa;z||le(),K||(z(),K=!0),Y.add(d,s),s.v=0}}function Lu(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=Ti(A(s.Fa,s),Qf(s,s.v)),s.v++,!0)}t.Fa=function(){if(this.u=null,Kf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=Ti(A(this.ab,this),s)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),ps(this),Kf(this))};function xu(s){s.A!=null&&(l.clearTimeout(s.A),s.A=null)}function Kf(s){s.g=new fn(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var d=Jt(s.qa);ke(d,"RID","rpc"),ke(d,"SID",s.K),ke(d,"AID",s.T),ke(d,"CI",s.F?"0":"1"),!s.F&&s.ja&&ke(d,"TO",s.ja),ke(d,"TYPE","xmlhttp"),Ni(s,d),s.m&&s.o&&Ou(d,s.m,s.o),s.L&&(s.g.I=s.L);var v=s.g;s=s.ia,v.L=1,v.v=ds(Jt(d)),v.m=null,v.P=!0,wf(v,s)}t.Za=function(){this.C!=null&&(this.C=null,ps(this),Lu(this),dt(19))};function gs(s){s.C!=null&&(l.clearTimeout(s.C),s.C=null)}function Gf(s,d){var v=null;if(s.g==d){gs(s),xu(s),s.g=null;var S=2}else if(Nu(s.h,d))v=d.D,Af(s.h,d),S=1;else return;if(s.G!=0){if(d.o)if(S==1){v=d.m?d.m.length:0,d=Date.now()-d.F;var V=s.B;S=os(),ct(S,new gf(S,v)),ms(s)}else Wf(s);else if(V=d.s,V==3||V==0&&0<d.X||!(S==1&&hy(s,d)||S==2&&Lu(s)))switch(v&&0<v.length&&(d=s.h,d.i=d.i.concat(v)),V){case 1:Wn(s,5);break;case 4:Wn(s,10);break;case 3:Wn(s,6);break;default:Wn(s,2)}}}function Qf(s,d){let v=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(v*=2),v*d}function Wn(s,d){if(s.j.info("Error code "+d),d==2){var v=A(s.fb,s),S=s.Xa;const V=!S;S=new qn(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ls(S,"https"),ds(S),V?sy(S.toString(),v):ay(S.toString(),v)}else dt(2);s.G=0,s.l&&s.l.sa(d),Yf(s),$f(s)}t.fb=function(s){s?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Yf(s){if(s.G=0,s.ka=[],s.l){const d=If(s.h);(d.length!=0||s.i.length!=0)&&(C(s.ka,d),C(s.ka,s.i),s.h.i.length=0,N(s.i),s.i.length=0),s.l.ra()}}function Xf(s,d,v){var S=v instanceof qn?Jt(v):new qn(v);if(S.g!="")d&&(S.g=d+"."+S.g),cs(S,S.s);else{var V=l.location;S=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;var L=new qn(null);S&&ls(L,S),d&&(L.g=d),V&&cs(L,V),v&&(L.l=v),S=L}return v=s.D,d=s.ya,v&&d&&ke(S,v,d),ke(S,"VER",s.la),Ni(s,S),S}function Jf(s,d,v){if(d&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=s.Ca&&!s.pa?new Pe(new Pi({eb:v})):new Pe(s.pa),d.Ha(s.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zf(){}t=Zf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vs(){}vs.prototype.g=function(s,d){return new wt(s,d)};function wt(s,d){Je.call(this),this.g=new Uf(d),this.l=s,this.h=d&&d.messageUrlParams||null,s=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(s?s["X-WebChannel-Content-Type"]=d.messageContentType:s={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(s?s["X-WebChannel-Client-Profile"]=d.va:s={"X-WebChannel-Client-Profile":d.va}),this.g.S=s,(s=d&&d.Sb)&&!I(s)&&(this.g.m=s),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!I(d)&&(this.g.D=d,s=this.h,s!==null&&d in s&&(s=this.h,d in s&&delete s[d])),this.j=new wr(this)}O(wt,Je),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Vu(this.g)},wt.prototype.o=function(s){var d=this.g;if(typeof s=="string"){var v={};v.__data__=s,s=v}else this.u&&(v={},v.__data__=Su(s),s=v);d.i.push(new Y_(d.Ya++,s)),d.G==3&&ms(d)},wt.prototype.N=function(){this.g.l=null,delete this.j,Vu(this.g),delete this.g,wt.aa.N.call(this)};function eh(s){Cu.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var d=s.__sm__;if(d){e:{for(const v in d){s=v;break e}s=void 0}(this.i=s)&&(s=this.i,d=d!==null&&s in d?d[s]:void 0),this.data=d}else this.data=s}O(eh,Cu);function th(){Au.call(this),this.status=1}O(th,Au);function wr(s){this.g=s}O(wr,Zf),wr.prototype.ua=function(){ct(this.g,"a")},wr.prototype.ta=function(s){ct(this.g,new eh(s))},wr.prototype.sa=function(s){ct(this.g,new th)},wr.prototype.ra=function(){ct(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,qv=function(){return new vs},Hv=function(){return os()},$v=$n,_c={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Ys=ss,vf.COMPLETE="complete",Uv=vf,ff.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",Je.prototype.listen=Je.prototype.K,Zi=ff,Bv=Pi,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,Fv=Pe}).apply(typeof Vs<"u"?Vs:typeof self<"u"?self:typeof window<"u"?window:{});const Fp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Mv("@firebase/firestore");function Ki(){return lr.logLevel}function Z(t,...e){if(lr.logLevel<=de.DEBUG){const n=e.map(Od);lr.debug(`Firestore (${gi}): ${t}`,...n)}}function ln(t,...e){if(lr.logLevel<=de.ERROR){const n=e.map(Od);lr.error(`Firestore (${gi}): ${t}`,...n)}}function ni(t,...e){if(lr.logLevel<=de.WARN){const n=e.map(Od);lr.warn(`Firestore (${gi}): ${t}`,...n)}}function Od(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${gi}) INTERNAL ASSERTION FAILED: `+t;throw ln(e),new Error(e)}function je(t,e){t||ue()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}}class $8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class H8{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Wv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new it(e)}}class q8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class W8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new q8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new K8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Q8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function ri(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new yt(0,0))}static max(){return new se(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends xo{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const X8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends xo{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return X8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new te(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new te(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new te(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Re.fromString(e))}static fromName(e){return new ne(Re.fromString(e).popFirst(5))}static empty(){return new ne(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Re(e.slice()))}}function J8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new xn(i,ne.empty(),e)}function Z8(t){return new xn(t.readTime,t.key,-1)}class xn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xn(se.min(),ne.empty(),-1)}static max(){return new xn(se.max(),ne.empty(),-1)}}function e2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==t2)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,o=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++o,a&&o===i&&n()},c=>r(c))}),a=!0,o===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let c=0;c<o;c++){const h=c;n(e[h]).next(w=>{a[h]=w,++l,l===o&&r(a)},w=>i(w))}})}static doWhile(e,n){return new U((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function r2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function es(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ld.oe=-1;function cu(t){return t==null}function yc(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function du(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function i2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||Ge.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ls(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ls(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ls(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ls(this.root,e,this.comparator,!0)}}class Ls{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ge.RED,this.left=i??Ge.EMPTY,this.right=o??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ge(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ge.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ge(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Up(this.data.getIterator())}getIteratorFrom(e){return new Up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class Up{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Ye(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ri(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kv("Invalid base64 string: "+o):o}}(e);return new lt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const o2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jn(t){if(je(!!t),typeof t=="string"){let e=0;const n=o2.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cr(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jd(t){const e=t.mapValue.fields.__previous_value__;return xd(e)?jd(e):e}function jo(t){const e=jn(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,i,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class zo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xd(t)?4:a2(t)?9007199254740991:10:ue()}function Qt(t,e){if(t===e)return!0;const n=dr(t);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jo(t).isEqual(jo(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=jn(i.timestampValue),l=jn(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return cr(i.bytesValue).isEqual(cr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Le(i.geoPointValue.latitude)===Le(o.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Le(i.integerValue)===Le(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Le(i.doubleValue),l=Le(o.doubleValue);return a===l?yc(a)===yc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ri(t.arrayValue.values||[],e.arrayValue.values||[],Qt);case 10:return function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(Bp(a)!==Bp(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Qt(a[c],l[c])))return!1;return!0}(t,e);default:return ue()}}function Fo(t,e){return(t.values||[]).find(n=>Qt(n,e))!==void 0}function ii(t,e){if(t===e)return 0;const n=dr(t),r=dr(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=Le(o.integerValue||o.doubleValue),c=Le(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return $p(t.timestampValue,e.timestampValue);case 4:return $p(jo(t),jo(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(o,a){const l=cr(o),c=cr(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const w=ge(l[h],c[h]);if(w!==0)return w}return ge(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=ge(Le(o.latitude),Le(a.latitude));return l!==0?l:ge(Le(o.longitude),Le(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const l=o.values||[],c=a.values||[];for(let h=0;h<l.length&&h<c.length;++h){const w=ii(l[h],c[h]);if(w)return w}return ge(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===xs.mapValue&&a===xs.mapValue)return 0;if(o===xs.mapValue)return 1;if(a===xs.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),h=a.fields||{},w=Object.keys(h);c.sort(),w.sort();for(let P=0;P<c.length&&P<w.length;++P){const A=ge(c[P],w[P]);if(A!==0)return A;const M=ii(l[c[P]],h[w[P]]);if(M!==0)return M}return ge(c.length,w.length)}(t.mapValue,e.mapValue);default:throw ue()}}function $p(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=jn(t),r=jn(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function oi(t){return wc(t)}function wc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=wc(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${wc(n.fields[a])}`;return i+"}"}(t.mapValue):ue()}function Ec(t){return!!t&&"integerValue"in t}function zd(t){return!!t&&"arrayValue"in t}function Hp(t){return!!t&&"nullValue"in t}function qp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function El(t){return!!t&&"mapValue"in t}function go(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return du(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=go(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=go(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!El(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=go(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=go(a):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());El(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];El(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){du(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Bt(go(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ot(e,0,se.min(),se.min(),se.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,i){return new ot(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new ot(e,2,n,se.min(),se.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,se.min(),se.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.position=e,this.inclusive=n}}function Wp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(a.referenceValue),n.key):r=ii(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n="asc"){this.field=e,this.dir=n}}function u2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{}class Fe extends Gv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new c2(e,n,r):n==="array-contains"?new h2(e,r):n==="in"?new p2(e,r):n==="not-in"?new m2(e,r):n==="array-contains-any"?new g2(e,r):new Fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new d2(e,r):new f2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ii(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(ii(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yt extends Gv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Yt(e,n)}matches(e){return Qv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qv(t){return t.op==="and"}function Yv(t){return l2(t)&&Qv(t)}function l2(t){for(const e of t.filters)if(e instanceof Yt)return!1;return!0}function Tc(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+oi(t.value);if(Yv(t))return t.filters.map(e=>Tc(e)).join(",");{const e=t.filters.map(n=>Tc(n)).join(",");return`${t.op}(${e})`}}function Xv(t,e){return t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&Qt(r.value,i.value)}(t,e):t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,l)=>o&&Xv(a,i.filters[l]),!0):!1}(t,e):void ue()}function Jv(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${oi(n.value)}`}(t):t instanceof Yt?function(n){return n.op.toString()+" {"+n.getFilters().map(Jv).join(" ,")+"}"}(t):"Filter"}class c2 extends Fe{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class d2 extends Fe{constructor(e,n){super(e,"in",n),this.keys=Zv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f2 extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=Zv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class h2 extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zd(n)&&Fo(n.arrayValue,this.value)}}class p2 extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fo(this.value.arrayValue,n)}}class m2 extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fo(this.value.arrayValue,n)}}class g2 extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.ue=null}}function Gp(t,e=null,n=[],r=[],i=null,o=null,a=null){return new v2(t,e,n,r,i,o,a)}function Fd(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),cu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oi(r)).join(",")),e.ue=n}return e.ue}function Bd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kp(t.startAt,e.startAt)&&Kp(t.endAt,e.endAt)}function Sc(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _2(t,e,n,r,i,o,a,l){return new fu(t,e,n,r,i,o,a,l)}function Ud(t){return new fu(t)}function Qp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y2(t){return t.collectionGroup!==null}function vo(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ye(ft.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Pa(o,r))}),n.has(ft.keyField().canonicalString())||e.ce.push(new Pa(ft.keyField(),r))}return e.ce}function Gt(t){const e=pe(t);return e.le||(e.le=w2(e,vo(t))),e.le}function w2(t,e){if(t.limitType==="F")return Gp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Pa(i.field,o)});const n=t.endAt?new Ia(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ia(t.startAt.position,t.startAt.inclusive):null;return Gp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kc(t,e,n){return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hu(t,e){return Bd(Gt(t),Gt(e))&&t.limitType===e.limitType}function e_(t){return`${Fd(Gt(t))}|lt:${t.limitType}`}function Cr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Jv(i)).join(", ")}]`),cu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oi(i)).join(",")),`Target(${r})`}(Gt(t))}; limitType=${t.limitType})`}function pu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of vo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const h=Wp(a,l,c);return a.inclusive?h<=0:h<0}(r.startAt,vo(r),i)||r.endAt&&!function(a,l,c){const h=Wp(a,l,c);return a.inclusive?h>=0:h>0}(r.endAt,vo(r),i))}(t,e)}function E2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t_(t){return(e,n)=>{let r=!1;for(const i of vo(t)){const o=T2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function T2(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,a,l){const c=a.data.field(o),h=l.data.field(o);return c!==null&&h!==null?ii(c,h):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){du(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return i2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Oe(ne.comparator);function zn(){return S2}const n_=new Oe(ne.comparator);function eo(...t){let e=n_;for(const n of t)e=e.insert(n.key,n);return e}function k2(t){let e=n_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function tr(){return _o()}function r_(){return _o()}function _o(){return new vi(t=>t.toString(),(t,e)=>t.isEqual(e))}const C2=new Ye(ne.comparator);function fe(...t){let e=C2;for(const n of t)e=e.add(n);return e}const A2=new Ye(ge);function I2(){return A2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function b2(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this._=void 0}}function R2(t,e,n){return t instanceof Cc?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&xd(o)&&(o=jd(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof ba?i_(t,e):t instanceof Ra?o_(t,e):function(i,o){const a=N2(i,o),l=Yp(a)+Yp(i.Pe);return Ec(a)&&Ec(i.Pe)?b2(l):P2(i.serializer,l)}(t,e)}function D2(t,e,n){return t instanceof ba?i_(t,e):t instanceof Ra?o_(t,e):n}function N2(t,e){return t instanceof Ac?function(r){return Ec(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Cc extends mu{}class ba extends mu{constructor(e){super(),this.elements=e}}function i_(t,e){const n=s_(e);for(const r of t.elements)n.some(i=>Qt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ra extends mu{constructor(e){super(),this.elements=e}}function o_(t,e){let n=s_(e);for(const r of t.elements)n=n.filter(i=>!Qt(i,r));return{arrayValue:{values:n}}}class Ac extends mu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Yp(t){return Le(t.integerValue||t.doubleValue)}function s_(t){return zd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function M2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ba&&i instanceof ba||r instanceof Ra&&i instanceof Ra?ri(r.elements,i.elements,Qt):r instanceof Ac&&i instanceof Ac?Qt(r.Pe,i.Pe):r instanceof Cc&&i instanceof Cc}(t.transform,e.transform)}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xs(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $d{}function a_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new V2(t.key,ir.none()):new Hd(t.key,t.data,ir.none());{const n=t.data,r=Bt.empty();let i=new Ye(ft.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new gu(t.key,r,new wn(i.toArray()),ir.none())}}function O2(t,e,n){t instanceof Hd?function(i,o,a){const l=i.value.clone(),c=Jp(i.fieldTransforms,o,a.transformResults);l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof gu?function(i,o,a){if(!Xs(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=Jp(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(u_(i)),c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function yo(t,e,n,r){return t instanceof Hd?function(o,a,l,c){if(!Xs(o.precondition,a))return l;const h=o.value.clone(),w=Zp(o.fieldTransforms,c,a);return h.setAll(w),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof gu?function(o,a,l,c){if(!Xs(o.precondition,a))return l;const h=Zp(o.fieldTransforms,c,a),w=a.data;return w.setAll(u_(o)),w.setAll(h),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(P=>P.field))}(t,e,n,r):function(o,a,l){return Xs(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Xp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ri(r,i,(o,a)=>M2(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends $d{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gu extends $d{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function u_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Jp(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,D2(a,l,n[i]))}return r}function Zp(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,R2(o,a,e))}return r}class V2 extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&O2(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r_();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const c=a_(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&ri(this.mutations,e.mutations,(n,r)=>Xp(n,r))&&ri(this.baseMutations,e.baseMutations,(n,r)=>Xp(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,ce;function l_(t){if(t===void 0)return ln("GRPC error has no .code"),X.UNKNOWN;switch(t){case Ve.OK:return X.OK;case Ve.CANCELLED:return X.CANCELLED;case Ve.UNKNOWN:return X.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return X.INTERNAL;case Ve.UNAVAILABLE:return X.UNAVAILABLE;case Ve.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ve.NOT_FOUND:return X.NOT_FOUND;case Ve.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ve.ABORTED:return X.ABORTED;case Ve.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ve.DATA_LOSS:return X.DATA_LOSS;default:return ue()}}(ce=Ve||(Ve={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new rr([4294967295,4294967295],0);function em(t){const e=z2().encode(t),n=new zv;return n.update(e),new Uint8Array(n.digest())}function tm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new rr([n,r],0),new rr([i,o],0)]}class qd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new to(`Invalid padding: ${n}`);if(r<0)throw new to(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new to(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new to(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=rr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(rr.fromNumber(r)));return i.compare(F2)===1&&(i=new rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=em(e),[r,i]=tm(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new qd(o,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=em(e),[r,i]=tm(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class to extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ts.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vu(se.min(),i,new Oe(ge),zn(),fe())}}class ts{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ts(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class c_{constructor(e,n){this.targetId=e,this.me=n}}class d_{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nm{constructor(){this.fe=0,this.ge=im(),this.pe=lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new ts(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=im()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class B2{constructor(e){this.Le=e,this.Be=new Map,this.ke=zn(),this.qe=rm(),this.Qe=new Oe(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Sc(o))if(r===0){const a=new ne(o.path);this.Ue(n,a,ot.newNoDocument(a,se.min()))}else je(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=cr(r).toUint8Array()}catch(c){if(c instanceof Kv)return ni("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new qd(a,i,o)}catch(c){return ni(c instanceof to?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const l=this.Je(a);if(l){if(o.current&&Sc(l.target)){const c=new ne(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,ot.newNoDocument(c,e))}o.be&&(n.set(a,o.Ce()),o.ve())}});let r=fe();this.qe.forEach((o,a)=>{let l=!0;a.forEachWhile(c=>{const h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new vu(e,n,this.Qe,this.ke,r);return this.ke=zn(),this.qe=rm(),this.Qe=new Oe(ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new nm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ye(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rm(){return new Oe(ne.comparator)}function im(){return new Oe(ne.comparator)}const U2={asc:"ASCENDING",desc:"DESCENDING"},$2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H2={and:"AND",or:"OR"};class q2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ic(t,e){return t.useProto3Json||cu(e)?e:{value:e}}function W2(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qr(t){return je(!!t),se.fromTimestamp(function(n){const r=jn(n);return new yt(r.seconds,r.nanos)}(t))}function G2(t,e){return Pc(t,e).canonicalString()}function Pc(t,e){const n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function f_(t){const e=Re.fromString(t);return je(v_(e)),e}function Tl(t,e){const n=f_(e);if(n.get(1)!==t.databaseId.projectId)throw new te(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(p_(n))}function h_(t,e){return G2(t.databaseId,e)}function Q2(t){const e=f_(t);return e.length===4?Re.emptyPath():p_(e)}function om(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function p_(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Y2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,w){return h.useProto3Json?(je(w===void 0||typeof w=="string"),lt.fromBase64String(w||"")):(je(w===void 0||w instanceof Buffer||w instanceof Uint8Array),lt.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const w=h.code===void 0?X.UNKNOWN:l_(h.code);return new te(w,h.message||"")}(a);n=new d_(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tl(t,r.document.name),o=Qr(r.document.updateTime),a=r.document.createTime?Qr(r.document.createTime):se.min(),l=new Bt({mapValue:{fields:r.document.fields}}),c=ot.newFoundDocument(i,o,a,l),h=r.targetIds||[],w=r.removedTargetIds||[];n=new Js(h,w,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Tl(t,r.document),o=r.readTime?Qr(r.readTime):se.min(),a=ot.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Js([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Tl(t,r.document),o=r.removedTargetIds||[];n=new Js([],o,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new j2(i,o),l=r.targetId;n=new c_(l,a)}}return n}function X2(t,e){return{documents:[h_(t,e.path)]}}function J2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=h_(t,i);const o=function(h){if(h.length!==0)return g_(Yt.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(h){if(h.length!==0)return h.map(w=>function(A){return{field:Ar(A.field),direction:tE(A.dir)}}(w))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Ic(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function Z2(t){let e=Q2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const w=n.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let o=[];n.where&&(o=function(P){const A=m_(P);return A instanceof Yt&&Yv(A)?A.getFilters():[A]}(n.where));let a=[];n.orderBy&&(a=function(P){return P.map(A=>function(O){return new Pa(Ir(O.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(A))}(n.orderBy));let l=null;n.limit&&(l=function(P){let A;return A=typeof P=="object"?P.value:P,cu(A)?null:A}(n.limit));let c=null;n.startAt&&(c=function(P){const A=!!P.before,M=P.values||[];return new Ia(M,A)}(n.startAt));let h=null;return n.endAt&&(h=function(P){const A=!P.before,M=P.values||[];return new Ia(M,A)}(n.endAt)),_2(e,i,a,o,l,"F",c,h)}function eE(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function m_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ir(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ir(n.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ir(n.unaryFilter.field);return Fe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ir(n.unaryFilter.field);return Fe.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(Ir(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yt.create(n.compositeFilter.filters.map(r=>m_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function tE(t){return U2[t]}function nE(t){return $2[t]}function rE(t){return H2[t]}function Ar(t){return{fieldPath:t.canonicalString()}}function Ir(t){return ft.fromServerFormat(t.fieldPath)}function g_(t){return t instanceof Fe?function(n){if(n.op==="=="){if(qp(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NAN"}};if(Hp(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qp(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NOT_NAN"}};if(Hp(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ar(n.field),op:nE(n.op),value:n.value}}}(t):t instanceof Yt?function(n){const r=n.getFilters().map(i=>g_(i));return r.length===1?r[0]:{compositeFilter:{op:rE(n.op),filters:r}}}(t):ue()}function v_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,i,o=se.min(),a=se.min(),l=lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new En(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.ct=e}}function oE(t){const e=Z2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this._n=new aE}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(xn.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(xn.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class aE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new si(0)}static Ln(){return new si(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.changes=new vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yo(r.mutation,i,wn.empty(),yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=tr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=eo();return o.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=tr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let o=zn();const a=_o(),l=function(){return _o()}();return n.forEach((c,h)=>{const w=r.get(h.key);i.has(h.key)&&(w===void 0||w.mutation instanceof gu)?o=o.insert(h.key,h):w!==void 0?(a.set(h.key,w.mutation.getFieldMask()),yo(w.mutation,h,w.mutation.getFieldMask(),yt.now())):a.set(h.key,wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((h,w)=>a.set(h,w)),n.forEach((h,w)=>{var P;return l.set(h,new lE(w,(P=a.get(h))!==null&&P!==void 0?P:null))}),l))}recalculateAndSaveOverlays(e,n){const r=_o();let i=new Oe((a,l)=>a-l),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let w=r.get(c)||wn.empty();w=l.applyToLocalView(h,w),r.set(c,w);const P=(i.get(l.batchId)||fe()).add(c);i=i.insert(l.batchId,P)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,w=c.value,P=r_();w.forEach(A=>{if(!o.has(A)){const M=a_(n.get(A),r.get(A));M!==null&&P.set(A,M),o=o.add(A)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,P))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(tr());let l=-1,c=o;return a.next(h=>U.forEach(h,(w,P)=>(l<P.largestBatchId&&(l=P.largestBatchId),o.get(w)?U.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{c=c.insert(w,A)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,c,h,fe())).next(w=>({batchId:l,changes:k2(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=eo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=eo();return this.indexManager.getCollectionParents(e,o).next(l=>U.forEach(l,c=>{const h=function(P,A){return new fu(A,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(w=>{w.forEach((P,A)=>{a=a.insert(P,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((c,h)=>{const w=h.getKey();a.get(w)===null&&(a=a.insert(w,ot.newInvalidDocument(w)))});let l=eo();return a.forEach((c,h)=>{const w=o.get(c);w!==void 0&&yo(w.mutation,h,wn.empty(),yt.now()),pu(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:oE(i.bundledQuery),readTime:Qr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.overlays=new Oe(ne.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=tr();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=tr(),o=n.length+1,a=new ne(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((h,w)=>h-w);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let w=o.get(h.largestBatchId);w===null&&(w=tr(),o=o.insert(h.largestBatchId,w)),w.set(h.getKey(),h)}}const l=tr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,w)=>l.set(h,w)),!(l.size()>=i)););return U.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new x2(n,r));let o=this.hr.get(n);o===void 0&&(o=fe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this.Pr=new Ye($e.Ir),this.Tr=new Ye($e.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new $e(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new $e(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ne(new Re([])),r=new $e(n,e),i=new $e(n,e+1),o=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ne(new Re([])),r=new $e(n,e),i=new $e(n,e+1);let o=fe();return this.Tr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new $e(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $e{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ne.comparator(e.key,n.key)||ge(e.pr,n.pr)}static Er(e,n){return ge(e.pr,n.pr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ye($e.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new L2(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.wr=this.wr.add(new $e(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],a=>{const l=this.Sr(a.pr);o.push(l)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(ge);return n.forEach(i=>{const o=new $e(i,0),a=new $e(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{r=r.add(l.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ne.isDocumentKey(o)||(o=o.child(""));const a=new $e(new ne(o),0);let l=new Ye(ge);return this.wr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.pr)),!0)},a),U.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const o=new $e(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new $e(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.vr=e,this.docs=function(){return new Oe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=zn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ot.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=zn();const a=n.path,l=new ne(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:w}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||e2(Z8(w),r)<=0||(i.has(w.key)||pu(n,w))&&(o=o.insert(w.key,w.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ue()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mE(this)}getSize(e){return U.resolve(this.size)}}class mE extends uE{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.persistence=e,this.Mr=new vi(n=>Fd(n),Bd),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Wd,this.targetCount=0,this.Lr=si.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new si(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ld(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new gE(this),this.indexManager=new sE,this.remoteDocumentCache=function(i){return new pE(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new iE(n),this.$r=new dE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new hE(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new _E(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class _E extends n2{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.zr=new Wd,this.jr=null}static Hr(e){return new Kd(e)}get Jr(){if(this.jr)return this.jr;throw ue()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=ne.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=fe(),i=fe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Gd(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return I3()?8:r2(C3())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new yE;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ki()<=de.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Cr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(Ki()<=de.DEBUG&&Z("QueryEngine","Query:",Cr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ki()<=de.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Cr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gt(n))):U.resolve())}ji(e,n){if(Qp(n))return U.resolve(null);let r=Gt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kc(n,null,"F"),r=Gt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=fe(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Zi(n,l);return this.Xi(n,h,a,c.readTime)?this.ji(e,kc(n,null,"F")):this.es(e,h,n,c)}))})))}Hi(e,n,r,i){return Qp(n)||i.isEqual(se.min())?U.resolve(null):this.zi.getDocuments(e,r).next(o=>{const a=this.Zi(n,o);return this.Xi(n,a,r,i)?U.resolve(null):(Ki()<=de.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cr(n)),this.es(e,a,n,J8(i,-1)).next(l=>l))})}Zi(e,n){let r=new Ye(t_(e));return n.forEach((i,o)=>{pu(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ki()<=de.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Cr(n)),this.zi.getDocumentsMatchingQuery(e,n,xn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Oe(ge),this.rs=new vi(o=>Fd(o),Bd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cE(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function TE(t,e,n,r){return new EE(t,e,n,r)}async function __(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let c=fe();for(const h of i){a.push(h.batchId);for(const w of h.mutations)c=c.add(w.key)}for(const h of o){l.push(h.batchId);for(const w of h.mutations)c=c.add(w.key)}return n.localDocuments.getDocuments(r,c).next(h=>({us:h,removedBatchIds:a,addedBatchIds:l}))})})}function y_(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function SE(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((w,P)=>{const A=i.get(P);if(!A)return;l.push(n.Qr.removeMatchingKeys(o,w.removedDocuments,P).next(()=>n.Qr.addMatchingKeys(o,w.addedDocuments,P)));let M=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(P)!==null?M=M.withResumeToken(lt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):w.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(w.resumeToken,r)),i=i.insert(P,M),function(N,C,k){return N.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(A,M,w)&&l.push(n.Qr.updateTargetData(o,M))});let c=zn(),h=fe();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,w))}),l.push(kE(o,a,e.documentUpdates).next(w=>{c=w.cs,h=w.ls})),!r.isEqual(se.min())){const w=n.Qr.getLastRemoteSnapshotVersion(o).next(P=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(w)}return U.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,h)).next(()=>c)}).then(o=>(n.ns=i,o))}function kE(t,e,n){let r=fe(),i=fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=zn();return n.forEach((l,c)=>{const h=o.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{cs:a,ls:i}})}function CE(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new En(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function bc(t,e,n){const r=pe(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!es(a))throw a;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function sm(t,e,n){const r=pe(t);let i=se.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,w){const P=pe(c),A=P.rs.get(w);return A!==void 0?U.resolve(P.ns.get(A)):P.Qr.getTargetData(h,w)}(r,a,Gt(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{o=c})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:se.min(),n?o:fe())).next(l=>(AE(r,E2(e),l),{documents:l,hs:o})))}function AE(t,e,n){let r=t.ss.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class am{constructor(){this.activeTargetIds=I2()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IE{constructor(){this.no=new am,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new am,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js=null;function Sl(){return js===null?js=function(){return 268435456+Math.round(2147483648*Math.random())}():js++,"0x"+js.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="WebChannelConnection";class DE extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,a){const l=Sl(),c=this.vo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,o,a),this.Mo(n,c,h,i).then(w=>(Z("RestConnection",`Received RPC '${n}' ${l}: `,w),w),w=>{throw ni("RestConnection",`RPC '${n}' ${l} failed with error: `,w,"url: ",c,"request:",i),w})}xo(n,r,i,o,a,l){return this.Co(n,r,i,o,a)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}vo(n,r){const i=bE[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=Sl();return new Promise((a,l)=>{const c=new Fv;c.setWithCredentials(!0),c.listenOnce(Uv.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ys.NO_ERROR:const w=c.getResponseJson();Z(nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(w)),a(w);break;case Ys.TIMEOUT:Z(nt,`RPC '${e}' ${o} timed out`),l(new te(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ys.HTTP_ERROR:const P=c.getStatus();if(Z(nt,`RPC '${e}' ${o} failed with status:`,P,"response text:",c.getResponseText()),P>0){let A=c.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A==null?void 0:A.error;if(M&&M.status&&M.message){const O=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(k)>=0?k:X.UNKNOWN}(M.status);l(new te(O,M.message))}else l(new te(X.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te(X.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{Z(nt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Z(nt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=Sl(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qv(),l=Hv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.xmlHttpFactory=new Bv({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const w=o.join("");Z(nt,`Creating RPC '${e}' stream ${i}: ${w}`,c);const P=a.createWebChannel(w,c);let A=!1,M=!1;const O=new RE({lo:C=>{M?Z(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(A||(Z(nt,`Opening RPC '${e}' stream ${i} transport.`),P.open(),A=!0),Z(nt,`RPC '${e}' stream ${i} sending:`,C),P.send(C))},ho:()=>P.close()}),N=(C,k,I)=>{C.listen(k,D=>{try{I(D)}catch(u){setTimeout(()=>{throw u},0)}})};return N(P,Zi.EventType.OPEN,()=>{M||(Z(nt,`RPC '${e}' stream ${i} transport opened.`),O.mo())}),N(P,Zi.EventType.CLOSE,()=>{M||(M=!0,Z(nt,`RPC '${e}' stream ${i} transport closed`),O.po())}),N(P,Zi.EventType.ERROR,C=>{M||(M=!0,ni(nt,`RPC '${e}' stream ${i} transport errored:`,C),O.po(new te(X.UNAVAILABLE,"The operation could not be completed")))}),N(P,Zi.EventType.MESSAGE,C=>{var k;if(!M){const I=C.data[0];je(!!I);const D=I,u=D.error||((k=D[0])===null||k===void 0?void 0:k.error);if(u){Z(nt,`RPC '${e}' stream ${i} received error:`,u);const p=u.status;let f=function(_){const y=Ve[_];if(y!==void 0)return l_(y)}(p),m=u.message;f===void 0&&(f=X.INTERNAL,m="Unknown error status: "+p+" with message "+u.message),M=!0,O.po(new te(f,m)),P.close()}else Z(nt,`RPC '${e}' stream ${i} received:`,I),O.yo(I)}}),N(l,$v.STAT_EVENT,C=>{C.stat===_c.PROXY?Z(nt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===_c.NOPROXY&&Z(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.fo()},0),O}}function kl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){return new q2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r,i,o,a,l,c){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new E_(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(ln(n.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new te(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ME extends NE{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=Y2(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?se.min():a.readTime?Qr(a.readTime):se.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=om(this.serializer),n.addTarget=function(o,a){let l;const c=a.target;if(l=Sc(c)?{documents:X2(o,c)}:{query:J2(o,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=K2(o,a.resumeToken);const h=Ic(o,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(se.min())>0){l.readTime=W2(o,a.snapshotVersion.toTimestamp());const h=Ic(o,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=eE(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=om(this.serializer),n.removeTarget=e,this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new te(X.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Pc(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(X.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.xo(e,Pc(n,r),i,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(X.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class VE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ln(n),this.y_=!1):Z("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget(async()=>{rs(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=pe(c);h.M_.add(4),await ns(h),h.N_.set("Unknown"),h.M_.delete(4),await _u(h)}(this))})}),this.N_=new VE(r,i)}}async function _u(t){if(rs(t))for(const e of t.x_)await e(!0)}async function ns(t){for(const e of t.x_)await e(!1)}function T_(t,e){const n=pe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Jd(n)?Xd(n):_i(n).Xo()&&Yd(n,e))}function Qd(t,e){const n=pe(t),r=_i(n);n.F_.delete(e),r.Xo()&&S_(n,e),n.F_.size===0&&(r.Xo()?r.n_():rs(n)&&n.N_.set("Unknown"))}function Yd(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_i(t).P_(e)}function S_(t,e){t.L_.xe(e),_i(t).I_(e)}function Xd(t){t.L_=new B2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_i(t).start(),t.N_.w_()}function Jd(t){return rs(t)&&!_i(t).Zo()&&t.F_.size>0}function rs(t){return pe(t).M_.size===0}function k_(t){t.L_=void 0}async function xE(t){t.N_.set("Online")}async function jE(t){t.F_.forEach((e,n)=>{Yd(t,e)})}async function zE(t,e){k_(t),Jd(t)?(t.N_.D_(e),Xd(t)):t.N_.set("Unknown")}async function FE(t,e,n){if(t.N_.set("Online"),e instanceof d_&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const l of o.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lm(t,r)}else if(e instanceof Js?t.L_.Ke(e):e instanceof c_?t.L_.He(e):t.L_.We(e),!n.isEqual(se.min()))try{const r=await y_(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.L_.rt(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const w=o.F_.get(h);w&&o.F_.set(h,w.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const w=o.F_.get(c);if(!w)return;o.F_.set(c,w.withResumeToken(lt.EMPTY_BYTE_STRING,w.snapshotVersion)),S_(o,c);const P=new En(w.target,c,h,w.sequenceNumber);Yd(o,P)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await lm(t,r)}}async function lm(t,e,n){if(!es(e))throw e;t.M_.add(1),await ns(t),t.N_.set("Offline"),n||(n=()=>y_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await _u(t)})}async function cm(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=rs(n);n.M_.add(3),await ns(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await _u(n)}async function BE(t,e){const n=pe(t);e?(n.M_.delete(2),await _u(n)):e||(n.M_.add(2),await ns(n),n.N_.set("Unknown"))}function _i(t){return t.B_||(t.B_=function(n,r,i){const o=pe(n);return o.f_(),new ME(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:xE.bind(null,t),To:jE.bind(null,t),Ao:zE.bind(null,t),h_:FE.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Jd(t)?Xd(t):t.N_.set("Unknown")):(await t.B_.stop(),k_(t))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new Zd(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C_(t,e){if(ln("AsyncQueue",`${e}: ${t}`),es(t))return new te(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=eo(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Yr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.q_=new Oe(ne.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ue():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ai{constructor(e,n,r,i,o,a,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ai(e,n,Yr.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class $E{constructor(){this.queries=new vi(e=>e_(e),hu),this.onlineState="Unknown",this.z_=new Set}}async function HE(t,e){const n=pe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new UE,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=C_(a,`Initialization of query '${Cr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&ef(n)}async function qE(t,e){const n=pe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.U_.indexOf(e);a>=0&&(o.U_.splice(a,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WE(t,e){const n=pe(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.U_)l.H_(i)&&(r=!0);a.K_=i}}r&&ef(n)}function KE(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function ef(t){t.z_.forEach(e=>{e.next()})}var Rc,fm;(fm=Rc||(Rc={})).J_="default",fm.Cache="cache";class GE{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ai(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ai.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Rc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.key=e}}class I_{constructor(e){this.key=e}}class QE{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fe(),this.mutatedKeys=fe(),this.Ia=t_(e),this.Ta=new Yr(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new dm,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,P)=>{const A=i.get(w),M=pu(this.query,P)?P:null,O=!!A&&this.mutatedKeys.has(A.key),N=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let C=!1;A&&M?A.data.isEqual(M.data)?O!==N&&(r.track({type:3,doc:M}),C=!0):this.Ra(A,M)||(r.track({type:2,doc:M}),C=!0,(c&&this.Ia(M,c)>0||h&&this.Ia(M,h)<0)&&(l=!0)):!A&&M?(r.track({type:0,doc:M}),C=!0):A&&!M&&(r.track({type:1,doc:A}),C=!0,(c||h)&&(l=!0)),C&&(M?(a=a.add(M),o=N?o.add(w):o.delete(w)):(a=a.delete(w),o=o.delete(w)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const w=this.query.limitType==="F"?a.last():a.first();a=a.delete(w.key),o=o.delete(w.key),r.track({type:1,doc:w})}return{Ta:a,Aa:r,Xi:l,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const a=e.Aa.Q_();a.sort((w,P)=>function(M,O){const N=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return N(M)-N(O)}(w.type,P.type)||this.Ia(w.doc,P.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,h=c!==this.ha;return this.ha=c,a.length!==0||h?{snapshot:new ai(this.query,e.Ta,o,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new dm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=fe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new I_(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new A_(r))}),n}pa(e){this.la=e.hs,this.Pa=fe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ai.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class YE{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XE{constructor(e){this.key=e,this.wa=!1}}class JE{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new vi(l=>e_(l),hu),this.Da=new Map,this.Ca=new Set,this.va=new Oe(ne.comparator),this.Fa=new Map,this.Ma=new Wd,this.xa={},this.Oa=new Map,this.Na=si.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function ZE(t,e,n=!0){const r=N_(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await P_(r,e,n,!0),i}async function eT(t,e){const n=N_(t);await P_(n,e,!0,!1)}async function P_(t,e,n,r){const i=await CE(t.localStore,Gt(e)),o=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let l;return r&&(l=await tT(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&T_(t.remoteStore,i),l}async function tT(t,e,n,r,i){t.Ba=(P,A,M)=>async function(N,C,k,I){let D=C.view.da(k);D.Xi&&(D=await sm(N.localStore,C.query,!1).then(({documents:m})=>C.view.da(m,D)));const u=I&&I.targetChanges.get(C.targetId),p=I&&I.targetMismatches.get(C.targetId)!=null,f=C.view.applyChanges(D,N.isPrimaryClient,u,p);return pm(N,C.targetId,f.fa),f.snapshot}(t,P,A,M);const o=await sm(t.localStore,e,!0),a=new QE(e,o.hs),l=a.da(o.documents),c=ts.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(l,t.isPrimaryClient,c);pm(t,n,h.fa);const w=new YE(e,n,a);return t.ba.set(e,w),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function nT(t,e,n){const r=pe(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(a=>!hu(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qd(r.remoteStore,i.targetId),Dc(r,i.targetId)}).catch(Vd)):(Dc(r,i.targetId),await bc(r.localStore,i.targetId,!0))}async function rT(t,e){const n=pe(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qd(n.remoteStore,r.targetId))}async function b_(t,e){const n=pe(t);try{const r=await SE(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Fa.get(o);a&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?je(a.wa):i.removedDocuments.size>0&&(je(a.wa),a.wa=!1))}),await D_(n,r,e)}catch(r){await Vd(r)}}function hm(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,a)=>{const l=a.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=pe(a);c.onlineState=l;let h=!1;c.queries.forEach((w,P)=>{for(const A of P.U_)A.j_(l)&&(h=!0)}),h&&ef(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iT(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let a=new Oe(ne.comparator);a=a.insert(o,ot.newNoDocument(o,se.min()));const l=fe().add(o),c=new vu(se.min(),new Map,new Oe(ge),a,l);await b_(r,c),r.va=r.va.remove(o),r.Fa.delete(e),tf(r)}else await bc(r.localStore,e,!1).then(()=>Dc(r,e,n)).catch(Vd)}function Dc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||R_(t,r)})}function R_(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Qd(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),tf(t))}function pm(t,e,n){for(const r of n)r instanceof A_?(t.Ma.addReference(r.key,e),oT(t,r)):r instanceof I_?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||R_(t,r.key)):ue()}function oT(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.Ca.add(r),tf(t))}function tf(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ne(Re.fromString(e)),r=t.Na.next();t.Fa.set(r,new XE(n)),t.va=t.va.insert(n,r),T_(t.remoteStore,new En(Gt(Ud(n.path)),r,"TargetPurposeLimboResolution",Ld.oe))}}async function D_(t,e,n){const r=pe(t),i=[],o=[],a=[];r.ba.isEmpty()||(r.ba.forEach((l,c)=>{a.push(r.Ba(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient){const w=h&&!h.fromCache;r.sharedClientState.updateQueryState(c.targetId,w?"current":"not-current")}if(h){i.push(h);const w=Gd.Ki(c.targetId,h);o.push(w)}}))}),await Promise.all(a),r.Sa.h_(i),await async function(c,h){const w=pe(c);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>U.forEach(h,A=>U.forEach(A.qi,M=>w.persistence.referenceDelegate.addReference(P,A.targetId,M)).next(()=>U.forEach(A.Qi,M=>w.persistence.referenceDelegate.removeReference(P,A.targetId,M)))))}catch(P){if(!es(P))throw P;Z("LocalStore","Failed to update sequence numbers: "+P)}for(const P of h){const A=P.targetId;if(!P.fromCache){const M=w.ns.get(A),O=M.snapshotVersion,N=M.withLastLimboFreeSnapshotVersion(O);w.ns=w.ns.insert(A,N)}}}(r.localStore,o))}async function sT(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await __(n.localStore,e);n.currentUser=e,function(o,a){o.Oa.forEach(l=>{l.forEach(c=>{c.reject(new te(X.CANCELLED,a))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await D_(n,r.us)}}function aT(t,e){const n=pe(t),r=n.Fa.get(e);if(r&&r.wa)return fe().add(r.key);{let i=fe();const o=n.Da.get(e);if(!o)return i;for(const a of o){const l=n.ba.get(a);i=i.unionWith(l.view.Ea)}return i}}function N_(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=b_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iT.bind(null,e),e.Sa.h_=WE.bind(null,e.eventManager),e.Sa.ka=KE.bind(null,e.eventManager),e}class mm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=w_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return TE(this.persistence,new wE,e.initialUser,this.serializer)}createPersistence(e){return new vE(Kd.Hr,this.serializer)}createSharedClientState(e){return new IE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sT.bind(null,this.syncEngine),await BE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $E}()}createDatastore(e){const n=w_(e.databaseInfo.databaseId),r=function(o){return new DE(o)}(e.databaseInfo);return function(o,a,l,c){return new OE(o,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,l){return new LE(r,i,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>hm(this.syncEngine,n,0),function(){return um.D()?new um:new PE}())}createSyncEngine(e,n){return function(i,o,a,l,c,h,w){const P=new JE(i,o,a,l,c,h);return w&&(P.La=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=pe(r);Z("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await ns(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ln("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=Y8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=C_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cl(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await __(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fT(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cm(e.remoteStore,i)),t._onlineComponents=e}function dT(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function fT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!dT(n))throw n;ni("Error using user provided cache. Falling back to memory cache: "+n),await Cl(t,new mm)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Cl(t,new mm);return t._offlineComponents}async function hT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await gm(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await gm(t,new uT))),t._onlineComponents}async function vm(t){const e=await hT(t),n=e.eventManager;return n.onListen=ZE.bind(null,e.syncEngine),n.onUnlisten=nT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rT.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map;function pT(t,e,n,r){if(e===!0&&r===!0)throw new te(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ym(t){if(ne.isDocumentKey(t))throw new te(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mT(t);throw new te(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U8;switch(r.type){case"firstParty":return new W8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_m.get(n);r&&(Z("ComponentProvider","Removing Datastore"),_m.delete(n),r.terminate())}(this),Promise.resolve()}}function gT(t,e,n,r={}){var i;const o=(t=Zs(t,nf))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=it.MOCK_USER;else{l=k3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new te(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new it(h)}t._authCredentials=new $8(new Wv(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yu(this.firestore,e,this._query)}}class gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class Xr extends yu{constructor(e,n,r){super(e,n,Ud(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new ne(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function vT(t,e,...n){if(t=Nv(t),t instanceof nf){const r=Re.fromString(e,...n);return ym(r),new Xr(t,null,r)}{if(!(t instanceof gr||t instanceof Xr))throw new te(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return ym(r),new Xr(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new E_(this,"async_queue_retry"),this.hu=()=>{const n=kl();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=kl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=kl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Gr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!es(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw ln("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Zd.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&ue()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function Em(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Nc extends nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new _T}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||O_(this),this._firestoreClient.terminate()}}function yT(t,e){const n=typeof t=="object"?t:N8(),r=typeof t=="string"?t:"(default)",i=P8(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=T3("firestore");o&&gT(i,...o)}return i}function wT(t){return t._firestoreClient||O_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function O_(t){var e,n,r;const i=t._freezeSettings(),o=function(l,c,h,w){return new s2(l,c,h,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,M_(w.experimentalLongPollingOptions),w.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new cT(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Da(lt.fromBase64String(e))}catch(n){throw new te(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Da(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}const TT=new RegExp("[~\\*/\\[\\]]");function ST(t,e,n){if(e.search(TT)>=0)throw Tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new V_(...e.split("."))._internalPath}catch{throw Tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Tm(t,e,n,r,i){let o=`Function ${e}() called with invalid data`;o+=". ";let a="";return new te(X.INVALID_ARGUMENT,o+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kT extends L_{data(){return super.data()}}function x_(t,e){return typeof e=="string"?ST(t,e):e instanceof V_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AT{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return du(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ET(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const n=jn(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);je(v_(r));const i=new zo(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||ln(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class j_ extends L_{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ea(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ea extends j_{data(e={}){return super.data(e)}}class IT{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new no(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ea(this._firestore,this._userDataWriter,r.key,r,new no(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new ea(i._firestore,i._userDataWriter,l.doc.key,l.doc,new no(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new ea(i._firestore,i._userDataWriter,l.doc.key,l.doc,new no(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,w=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),w=a.indexOf(l.doc.key)),{type:PT(l.type),doc:c,oldIndex:h,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}class z_ extends AT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,n)}}function bT(t,...e){var n,r,i;t=Nv(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Em(e[a])||(o=e[a],a++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Em(e[a])){const P=e[a];e[a]=(n=P.next)===null||n===void 0?void 0:n.bind(P),e[a+1]=(r=P.error)===null||r===void 0?void 0:r.bind(P),e[a+2]=(i=P.complete)===null||i===void 0?void 0:i.bind(P)}let c,h,w;if(t instanceof gr)h=Zs(t.firestore,Nc),w=Ud(t._key.path),c={next:P=>{e[a]&&e[a](RT(h,t,P))},error:e[a+1],complete:e[a+2]};else{const P=Zs(t,yu);h=Zs(P.firestore,Nc),w=P._query;const A=new z_(h);c={next:M=>{e[a]&&e[a](new IT(h,A,P,M))},error:e[a+1],complete:e[a+2]},CT(t._query)}return function(A,M,O,N){const C=new lT(N),k=new GE(M,C,O);return A.asyncQueue.enqueueAndForget(async()=>HE(await vm(A),k)),()=>{C.$a(),A.asyncQueue.enqueueAndForget(async()=>qE(await vm(A),k))}}(wT(h),w,l,c)}function RT(t,e,n){const r=n.docs.get(e._key),i=new z_(t);return new j_(t,i,e._key,r,new no(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gi=i})(D8),Aa(new Vo("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Nc(new H8(r.getProvider("auth-internal")),new G8(r.getProvider("app-check-internal")),function(h,w){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new te(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(h.options.projectId,w)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Kr(Fp,"4.6.3",e),Kr(Fp,"4.6.3","esm2017")})();var DT="firebase",NT="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(DT,NT,"app");const MT={apiKey:"AIzaSyBocJ9h3a8iee3sN55NeBmDWso5LUtk-TA",authDomain:"react-n-c69fe.firebaseapp.com",projectId:"react-n-c69fe",storageBucket:"react-n-c69fe.appspot.com",messagingSenderId:"251776740412",appId:"1:251776740412:web:5a79db5498c6d10dc32739"},OT=Lv(MT),VT=yT(OT),LT=vT(VT,"notes");function xT(){var c;const[t,e]=Lr.useState(()=>JSON.parse(localStorage.getItem("notes"))||[]),[n,r]=Lr.useState(((c=t[0])==null?void 0:c.id)||""),i=t.find(h=>h.id===n)||t[0];Lr.useEffect(()=>bT(LT,w=>{console.log("things are changing!")}),[]);function o(){const h={id:f3(),body:"# Type your markdown note's title here"};e(w=>[h,...w]),r(h.id)}function a(h){e(w=>{const P=[];for(let A=0;A<w.length;A++){const M=w[A];M.id===n?P.unshift({...M,body:h}):P.push(M)}return P})}function l(h,w){h.stopPropagation(),e(P=>P.filter(A=>A.id!==w))}return ze.jsx("main",{children:t.length>0?ze.jsxs(Dd,{sizes:[30,70],direction:"horizontal",className:"split",children:[ze.jsx(C1,{notes:t,currentNote:i,setCurrentNoteId:r,newNote:o,deleteNote:l}),n&&t.length>0&&ze.jsx(n3,{currentNote:i,updateNote:a})]}):ze.jsxs("div",{className:"no-notes",children:[ze.jsx("h1",{children:"You have no notes"}),ze.jsx("button",{className:"first-note",onClick:o,children:"Create one now"})]})})}k1.render(ze.jsx(xT,{}),document.getElementById("root"));
